game_start=>
    (call_script, 376)
    (assign, '$gvar_172', 20)
    (assign, '$gvar_173', 0)
    (assign, '$gvar_171', 0)
    (assign, '$gvar_174', 0)
    (assign, '$gvar_306', 0)
    (assign, '$gvar_307', 0)
    (assign, '$gvar_549', 56)
    (assign, '$gvar_550', 20)
    (assign, '$gvar_551', 47)
    (assign, '$gvar_552', 36)
    (assign, '$gvar_553', 35)
    (assign, '$gvar_554', 50)
    (assign, '$gvar_555', 49)
    (troop_set_slot, 0, 300, 0)
    (call_script, 436)
    (call_script, 110, 39, 6)
    (call_script, 110, 40, 6)
    (call_script, 110, 41, 6)
    (call_script, 110, 42, 6)
    (call_script, 110, 43, 6)
    (call_script, 110, 44, 6)
    (call_script, 110, 45, 6)
    (call_script, 110, 68, 18)
    (call_script, 110, 69, 17)
    (call_script, 110, 112, 16)
    (call_script, 110, 70, 18)
    (call_script, 110, 71, 16)
    (call_script, 110, 113, 18)
    (call_script, 110, 72, 17)
    (faction_set_slot, 15, 21, 2)
    (assign, '$gvar_572', 200)
    (troop_set_slot, 0, 2, 2)
    (troop_set_slot, 0, 8, -1)
    (try_for_range, ':lvar_0', 405, 530)
      (troop_set_slot, ':lvar_0', 8, -1)
      (troop_set_slot, ':lvar_0', 96, -1)
      (troop_set_slot, ':lvar_0', 99, -1)
    (try_end)
    (troop_set_slot, 0, 96, -1)
    (troop_set_slot, 0, 99, -1)
    (store_random_in_range, '$gvar_573', 0, 45)
    (call_script, 349)
    (troop_set_slot, 0, 85, 4294967295)
    (troop_set_slot, 0, 86, 4294967295)
    (troop_set_slot, 0, 87, 4294967295)
    (troop_set_slot, 0, 88, 4294967295)
    (troop_set_slot, 0, 89, 4294967295)
    (troop_set_slot, 0, 90, 4294967295)
    (troop_set_slot, 922, 0, 4287579441)
    (troop_set_slot, 922, 1, 4281422936)
    (troop_set_slot, 922, 2, 4281808694)
    (troop_set_slot, 922, 3, 4288973608)
    (troop_set_slot, 922, 4, 4283004725)
    (troop_set_slot, 922, 5, 4286723629)
    (troop_set_slot, 922, 6, 4286133033)
    (troop_set_slot, 922, 7, 4280689953)
    (troop_set_slot, 922, 8, 4292467409)
    (troop_set_slot, 922, 9, 4283581795)
    (troop_set_slot, 922, 10, 4287705388)
    (troop_set_slot, 922, 11, 4289700401)
    (troop_set_slot, 922, 12, 4285558076)
    (troop_set_slot, 922, 13, 4292269006)
    (troop_set_slot, 922, 14, 4287703337)
    (troop_set_slot, 922, 15, 4281943428)
    (troop_set_slot, 922, 16, 4282541614)
    (troop_set_slot, 922, 17, 4292861654)
    (troop_set_slot, 922, 18, 4280887076)
    (troop_set_slot, 922, 19, 4283982107)
    (troop_set_slot, 922, 20, 4281416295)
    (troop_set_slot, 922, 21, 4290093617)
    (troop_set_slot, 922, 22, 4290623017)
    (troop_set_slot, 922, 23, 4285430057)
    (troop_set_slot, 922, 24, 4292269006)
    (troop_set_slot, 922, 25, 4287931970)
    (troop_set_slot, 922, 26, 4287906097)
    (troop_set_slot, 922, 27, 4287183668)
    (troop_set_slot, 922, 28, 4282537232)
    (troop_set_slot, 922, 29, 4287907118)
    (troop_set_slot, 922, 30, 4282866324)
    (troop_set_slot, 922, 31, 4291932721)
    (troop_set_slot, 922, 32, 4292993759)
    (troop_set_slot, 922, 33, 4283058498)
    (troop_set_slot, 922, 34, 4291213133)
    (troop_set_slot, 922, 35, 4286271876)
    (troop_set_slot, 922, 36, 4280362017)
    (troop_set_slot, 922, 37, 4282146202)
    (troop_set_slot, 922, 38, 4283265334)
    (troop_set_slot, 922, 39, 4292861910)
    (troop_set_slot, 922, 40, 4283594041)
    (troop_set_slot, 922, 41, 4288429113)
    (troop_set_slot, 922, 42, 4282536332)
    (troop_set_slot, 922, 43, 4288965164)
    (troop_set_slot, 922, 44, 4286855209)
    (troop_set_slot, 922, 45, 4281098633)
    (troop_set_slot, 922, 46, 4283786273)
    (troop_set_slot, 922, 47, 4288504350)
    (troop_set_slot, 922, 48, 4292796118)
    (troop_set_slot, 922, 49, 4285417617)
    (troop_set_slot, 922, 50, 4286994985)
    (troop_set_slot, 922, 51, 4292796377)
    (troop_set_slot, 922, 52, 4283581043)
    (troop_set_slot, 922, 53, 4287379489)
    (troop_set_slot, 922, 54, 4287923203)
    (troop_set_slot, 922, 55, 4281413681)
    (troop_set_slot, 922, 56, 4282868237)
    (troop_set_slot, 922, 57, 4292861654)
    (troop_set_slot, 922, 58, 4292270038)
    (troop_set_slot, 922, 59, 4281216812)
    (troop_set_slot, 922, 60, 4284498563)
    (troop_set_slot, 922, 61, 4281947524)
    (troop_set_slot, 922, 62, 4281413681)
    (troop_set_slot, 922, 63, 4286463790)
    (troop_set_slot, 922, 64, 4281611316)
    (troop_set_slot, 922, 65, 4282141035)
    (troop_set_slot, 922, 66, 4292466897)
    (troop_set_slot, 922, 67, 4288250428)
    (troop_set_slot, 922, 68, 4288643630)
    (troop_set_slot, 922, 69, 4281940025)
    (troop_set_slot, 922, 70, 4289022257)
    (troop_set_slot, 922, 71, 4292861142)
    (troop_set_slot, 922, 72, 4288629302)
    (troop_set_slot, 922, 73, 4287395105)
    (troop_set_slot, 922, 74, 4288628273)
    (troop_set_slot, 922, 75, 4286133028)
    (troop_set_slot, 922, 76, 4281946230)
    (troop_set_slot, 922, 77, 4281084716)
    (troop_set_slot, 922, 78, 4284838177)
    (troop_set_slot, 922, 79, 4286460193)
    (troop_set_slot, 922, 80, 4285944110)
    (troop_set_slot, 922, 81, 4293387230)
    (troop_set_slot, 922, 82, 4287920417)
    (troop_set_slot, 922, 83, 4283267964)
    (troop_set_slot, 922, 84, 4281611057)
    (troop_set_slot, 922, 85, 4289154358)
    (troop_set_slot, 922, 86, 4293387230)
    (troop_set_slot, 922, 87, 4292270286)
    (troop_set_slot, 922, 88, 4282273127)
    (troop_set_slot, 922, 89, 4287705905)
    (troop_set_slot, 922, 90, 4283263380)
    (troop_set_slot, 922, 91, 4283064600)
    (troop_set_slot, 922, 92, 4292466899)
    (troop_set_slot, 922, 93, 4281943161)
    (troop_set_slot, 922, 94, 4281611057)
    (troop_set_slot, 922, 95, 4282338653)
    (troop_set_slot, 922, 96, 4283065481)
    (troop_set_slot, 922, 97, 4281413681)
    (troop_set_slot, 922, 98, 4292270030)
    (troop_set_slot, 922, 99, 4291206656)
    (troop_set_slot, 922, 100, 4284714578)
    (troop_set_slot, 922, 101, 4292664275)
    (troop_set_slot, 922, 102, 4292598995)
    (troop_set_slot, 922, 103, 4286855217)
    (troop_set_slot, 922, 104, 4291743686)
    (troop_set_slot, 922, 105, 4287579185)
    (troop_set_slot, 922, 106, 4284492070)
    (troop_set_slot, 922, 107, 4292072651)
    (troop_set_slot, 922, 108, 4292664275)
    (troop_set_slot, 922, 109, 4283785252)
    (troop_set_slot, 922, 110, 4284493100)
    (troop_set_slot, 922, 111, 4281422212)
    (troop_set_slot, 922, 112, 4281413681)
    (troop_set_slot, 922, 113, 4293388263)
    (troop_set_slot, 922, 114, 4283592007)
    (troop_set_slot, 922, 115, 4292795350)
    (troop_set_slot, 922, 116, 4289898033)
    (troop_set_slot, 922, 117, 4285952319)
    (troop_set_slot, 922, 118, 4292795350)
    (troop_set_slot, 922, 119, 4293520103)
    (troop_set_slot, 922, 120, 4285223217)
    (troop_set_slot, 922, 121, 4281423227)
    (troop_set_slot, 922, 122, 4285543204)
    (troop_set_slot, 922, 123, 4293387230)
    (troop_set_slot, 922, 124, 4292270030)
    (troop_set_slot, 922, 125, 4282347065)
    (troop_set_slot, 922, 126, 4280361505)
    (troop_set_slot, 922, 127, 4280361505)
    (troop_set_slot, 922, 128, 4281219856)
    (troop_set_slot, 922, 129, 4282539387)
    (troop_set_slot, 922, 130, 4281943560)
    (store_random_in_range, ':lvar_1', 46, 73)
    (party_relocate_near_party, 0, ':lvar_1', 3)
    (str_store_troop_name, 5, 0)
    (party_set_name, 0, 5)
    (call_script, 33)
    (assign, '$gvar_574', -1)
    (item_set_slot, 74, 1, 5)
    (item_set_slot, 75, 1, 5)
    (item_set_slot, 76, 1, 7)
    (item_set_slot, 77, 1, 7)
    (item_set_slot, 78, 1, 6)
    (item_set_slot, 79, 1, 4)
    (item_set_slot, 81, 1, 5)
    (item_set_slot, 82, 1, 5)
    (item_set_slot, 84, 1, 6)
    (item_set_slot, 83, 1, 6)
    (item_set_slot, 80, 1, 8)
    (item_set_slot, 85, 1, 5)
    (item_set_slot, 86, 1, 6)
    (item_set_slot, 87, 1, 5)
    (item_set_slot, 88, 1, 10)
    (item_set_slot, 90, 1, 4)
    (item_set_slot, 91, 1, 4)
    (item_set_slot, 89, 1, 5)
    (item_set_slot, 92, 1, 8)
    (item_set_slot, 109, 1, 5)
    (item_set_slot, 110, 1, 4)
    (item_set_slot, 93, 1, 10)
    (item_set_slot, 94, 1, 15)
    (item_set_slot, 95, 1, 25)
    (item_set_slot, 102, 1, 5)
    (item_set_slot, 104, 1, 15)
    (item_set_slot, 105, 1, 5)
    (item_set_slot, 600, 6, 740)
    (item_set_slot, 601, 6, 741)
    (item_set_slot, 602, 6, 742)
    (item_set_slot, 603, 6, 743)
    (item_set_slot, 604, 6, 744)
    (item_set_slot, 605, 6, 745)
    (item_set_slot, 740, 6, 600)
    (item_set_slot, 741, 6, 601)
    (item_set_slot, 742, 6, 602)
    (item_set_slot, 743, 6, 603)
    (item_set_slot, 744, 6, 604)
    (item_set_slot, 745, 6, 605)
    (item_set_slot, 630, 6, 746)
    (item_set_slot, 631, 6, 747)
    (item_set_slot, 632, 6, 748)
    (item_set_slot, 633, 6, 749)
    (item_set_slot, 634, 6, 750)
    (item_set_slot, 635, 6, 751)
    (item_set_slot, 746, 6, 630)
    (item_set_slot, 747, 6, 631)
    (item_set_slot, 748, 6, 632)
    (item_set_slot, 749, 6, 633)
    (item_set_slot, 750, 6, 634)
    (item_set_slot, 751, 6, 635)
    (item_set_slot, 666, 6, 753)
    (item_set_slot, 753, 6, 666)
    (item_set_slot, 645, 6, 191)
    (item_set_slot, 191, 6, 645)
    (item_set_slot, 855, 6, 856)
    (item_set_slot, 856, 6, 855)
    (item_set_slot, 832, 6, 833)
    (item_set_slot, 833, 6, 832)
    (item_set_slot, 835, 6, 836)
    (item_set_slot, 836, 6, 835)
    (item_set_slot, 844, 6, 845)
    (item_set_slot, 845, 6, 844)
    (call_script, 312)
    (assign, '$gvar_575', 1)
    (item_set_slot, 59, 4, 8)
    (item_set_slot, 60, 4, 8)
    (item_set_slot, 61, 4, 8)
    (item_set_slot, 62, 4, 8)
    (item_set_slot, 63, 4, 8)
    (item_set_slot, 64, 4, 8)
    (item_set_slot, 65, 4, 8)
    (item_set_slot, 66, 4, 8)
    (item_set_slot, 67, 4, 8)
    (item_set_slot, 68, 4, 8)
    (item_set_slot, 70, 4, 8)
    (item_set_slot, 71, 4, 8)
    (item_set_slot, 69, 4, 8)
    (item_set_slot, 72, 4, 8)
    (item_set_slot, 73, 4, 8)
    (store_sub, ':lvar_2', 73, 46)
    (assign, ':lvar_3', ':lvar_2')
    (try_for_range, ':lvar_4', 0, ':lvar_2')
      (troop_set_slot, 4, ':lvar_4', -1)
    (try_end)
    (assign, ':lvar_4', 0)
    (try_for_range, ':lvar_5', 0, ':lvar_3')
      (store_random_in_range, ':lvar_6', 0, ':lvar_2')
      (assign, ':lvar_7', 1)
      (try_for_range, ':lvar_8', 0, ':lvar_2')
        (troop_slot_eq, 4, ':lvar_8', ':lvar_6')
        (assign, ':lvar_7', 0)
      (try_end)
      (try_begin)
        (eq, ':lvar_7', 1)
        (troop_set_slot, 4, ':lvar_4', ':lvar_6')
        (val_add, ':lvar_4', 1)
      (else_try)
        (val_add, ':lvar_3', 1)
      (try_end)
    (try_end)
    (faction_set_slot, 7, 41, 133)
    (faction_set_slot, 7, 42, 142)
    (faction_set_slot, 7, 43, 144)
    (faction_set_slot, 7, 44, 148)
    (faction_set_slot, 7, 45, 156)
    (faction_set_slot, 8, 41, 160)
    (faction_set_slot, 8, 42, 170)
    (faction_set_slot, 8, 43, 171)
    (faction_set_slot, 8, 44, 178)
    (faction_set_slot, 8, 45, 175)
    (faction_set_slot, 9, 41, 184)
    (faction_set_slot, 9, 42, 186)
    (faction_set_slot, 9, 43, 187)
    (faction_set_slot, 9, 44, 189)
    (faction_set_slot, 9, 45, 193)
    (faction_set_slot, 16, 9, 7)
    (faction_set_slot, 16, 10, 405)
    (faction_set_slot, 17, 9, 8)
    (faction_set_slot, 17, 10, 406)
    (faction_set_slot, 18, 9, 9)
    (faction_set_slot, 18, 10, 407)
    (try_for_range, ':lvar_9', 15, 19)
      (faction_set_slot, ':lvar_9', 7, -1)
      (faction_get_slot, ':lvar_10', ':lvar_9', 9)
      (faction_get_slot, ':lvar_11', ':lvar_10', 41)
      (faction_set_slot, ':lvar_9', 41, ':lvar_11')
      (faction_get_slot, ':lvar_11', ':lvar_10', 42)
      (faction_set_slot, ':lvar_9', 42, ':lvar_11')
      (faction_get_slot, ':lvar_11', ':lvar_10', 43)
      (faction_set_slot, ':lvar_9', 43, ':lvar_11')
      (faction_get_slot, ':lvar_11', ':lvar_10', 44)
      (faction_set_slot, ':lvar_9', 44, ':lvar_11')
      (faction_get_slot, ':lvar_11', ':lvar_10', 45)
      (faction_set_slot, ':lvar_9', 45, ':lvar_11')
      (try_begin)
        (faction_slot_eq, ':lvar_9', 9, 7)
        (faction_set_slot, ':lvar_9', 48, 159)
        (faction_set_slot, ':lvar_9', 49, 144)
        (faction_set_slot, ':lvar_9', 50, 158)
        (faction_set_slot, ':lvar_9', 51, 156)
        (faction_set_slot, ':lvar_9', 52, 157)
        (faction_set_slot, ':lvar_9', 77, 36)
        (faction_set_slot, ':lvar_9', 78, 37)
        (faction_set_slot, ':lvar_9', 79, 38)
      (else_try)
        (faction_slot_eq, ':lvar_9', 9, 8)
        (faction_set_slot, ':lvar_9', 48, 183)
        (faction_set_slot, ':lvar_9', 49, 171)
        (faction_set_slot, ':lvar_9', 50, 182)
        (faction_set_slot, ':lvar_9', 51, 25)
        (faction_set_slot, ':lvar_9', 52, 177)
        (faction_set_slot, ':lvar_9', 77, 39)
        (faction_set_slot, ':lvar_9', 78, 40)
        (faction_set_slot, ':lvar_9', 79, 41)
      (else_try)
        (faction_slot_eq, ':lvar_9', 9, 9)
        (faction_set_slot, ':lvar_9', 48, 195)
        (faction_set_slot, ':lvar_9', 49, 186)
        (faction_set_slot, ':lvar_9', 50, 194)
        (faction_set_slot, ':lvar_9', 51, 38)
        (faction_set_slot, ':lvar_9', 52, 38)
        (faction_set_slot, ':lvar_9', 77, 42)
        (faction_set_slot, ':lvar_9', 78, 43)
        (faction_set_slot, ':lvar_9', 79, 44)
      (try_end)
    (try_end)
    (faction_set_slot, 15, 7, 0)
    (try_for_range, ':lvar_12', 74, 130)
      (store_sub, ':lvar_13', ':lvar_12', 74)
      (val_add, ':lvar_13', 262)
      (try_for_range, ':lvar_14', 46, 204)
        (party_set_slot, ':lvar_14', ':lvar_13', 1000)
      (try_end)
    (try_end)
    (call_script, 34, 46, 47)
    (call_script, 34, 46, 49)
    (call_script, 34, 46, 53)
    (call_script, 34, 46, 54)
    (call_script, 34, 46, 56)
    (call_script, 34, 46, 57)
    (call_script, 34, 46, 58)
    (call_script, 34, 46, 60)
    (call_script, 34, 46, 61)
    (call_script, 34, 47, 49)
    (call_script, 34, 47, 51)
    (call_script, 34, 47, 53)
    (call_script, 34, 47, 57)
    (call_script, 34, 47, 58)
    (call_script, 34, 47, 60)
    (call_script, 34, 47, 61)
    (call_script, 34, 48, 49)
    (call_script, 34, 48, 50)
    (call_script, 34, 48, 51)
    (call_script, 34, 48, 52)
    (call_script, 34, 48, 59)
    (call_script, 34, 48, 60)
    (call_script, 34, 48, 63)
    (call_script, 34, 49, 51)
    (call_script, 34, 49, 57)
    (call_script, 34, 49, 58)
    (call_script, 34, 49, 60)
    (call_script, 34, 49, 61)
    (call_script, 34, 50, 51)
    (call_script, 34, 50, 52)
    (call_script, 34, 50, 59)
    (call_script, 34, 50, 60)
    (call_script, 34, 50, 62)
    (call_script, 34, 50, 63)
    (call_script, 34, 51, 52)
    (call_script, 34, 51, 56)
    (call_script, 34, 51, 58)
    (call_script, 34, 51, 60)
    (call_script, 34, 51, 61)
    (call_script, 34, 51, 62)
    (call_script, 34, 52, 55)
    (call_script, 34, 52, 56)
    (call_script, 34, 52, 58)
    (call_script, 34, 52, 59)
    (call_script, 34, 52, 60)
    (call_script, 34, 52, 61)
    (call_script, 34, 52, 62)
    (call_script, 34, 52, 63)
    (call_script, 34, 53, 54)
    (call_script, 34, 53, 56)
    (call_script, 34, 53, 57)
    (call_script, 34, 53, 58)
    (call_script, 34, 53, 61)
    (call_script, 34, 54, 56)
    (call_script, 34, 54, 57)
    (call_script, 34, 54, 58)
    (call_script, 34, 54, 61)
    (call_script, 34, 55, 56)
    (call_script, 34, 55, 59)
    (call_script, 34, 55, 62)
    (call_script, 34, 55, 63)
    (call_script, 34, 56, 57)
    (call_script, 34, 56, 58)
    (call_script, 34, 56, 59)
    (call_script, 34, 56, 61)
    (call_script, 34, 56, 62)
    (call_script, 34, 57, 58)
    (call_script, 34, 57, 61)
    (call_script, 34, 58, 61)
    (call_script, 34, 58, 62)
    (call_script, 34, 59, 62)
    (call_script, 34, 59, 63)
    (call_script, 34, 60, 61)
    (call_script, 34, 61, 62)
    (call_script, 34, 62, 63)
    (call_script, 34, 64, 52)
    (call_script, 34, 64, 55)
    (call_script, 34, 65, 66)
    (call_script, 34, 65, 53)
    (call_script, 34, 66, 61)
    (call_script, 34, 67, 66)
    (call_script, 34, 68, 57)
    (call_script, 34, 69, 58)
    (call_script, 34, 70, 53)
    (call_script, 34, 71, 47)
    (try_for_range, ':lvar_15', 46, 73)
      (party_set_slot, ':lvar_15', 151, 4)
      (party_set_slot, ':lvar_15', 152, 8)
    (try_end)
    (party_set_slot, 51, 152, 2)
    (try_for_range, ':lvar_15', 46, 73)
      (store_random_in_range, ':lvar_16', 0, 100)
      (lt, ':lvar_16', 20)
      (store_random_in_range, ':lvar_17', 12, 15)
      (party_set_slot, ':lvar_15', 150, ':lvar_17')
    (try_end)
    (party_set_slot, 46, 80, 2)
    (party_set_slot, 46, 81, 1)
    (party_set_slot, 46, 82, 4)
    (party_set_slot, 46, 83, 1)
    (party_set_slot, 46, 84, 4)
    (party_set_slot, 46, 85, 1)
    (call_script, 35, 46, 122, 110, 0)
    (party_set_slot, 47, 80, 4)
    (party_set_slot, 47, 81, 4)
    (party_set_slot, 47, 82, 4)
    (party_set_slot, 47, 83, 6)
    (party_set_slot, 47, 84, 4)
    (party_set_slot, 47, 85, 8)
    (call_script, 35, 47, 74, 130, 0)
    (party_set_slot, 48, 80, 2)
    (party_set_slot, 48, 81, 8)
    (party_set_slot, 48, 82, 2)
    (party_set_slot, 48, 83, 8)
    (party_set_slot, 48, 84, 2)
    (party_set_slot, 48, 85, 8)
    (call_script, 35, 48, 109, 120, 0)
    (party_set_slot, 49, 80, 2)
    (party_set_slot, 49, 81, 8)
    (party_set_slot, 49, 82, 3)
    (party_set_slot, 49, 83, 8)
    (party_set_slot, 49, 84, 2)
    (party_set_slot, 49, 85, 5)
    (call_script, 35, 49, 120, 130, 0)
    (party_set_slot, 50, 80, 2)
    (party_set_slot, 50, 81, 3)
    (party_set_slot, 50, 82, 2)
    (party_set_slot, 50, 83, 5)
    (party_set_slot, 50, 84, 2)
    (party_set_slot, 50, 85, 8)
    (call_script, 35, 50, 128, 80, 0)
    (party_set_slot, 51, 80, 2)
    (party_set_slot, 51, 81, 4)
    (party_set_slot, 51, 82, 3)
    (party_set_slot, 51, 83, 4)
    (party_set_slot, 51, 84, 3)
    (party_set_slot, 51, 85, 6)
    (call_script, 35, 51, 110, 130, 0)
    (party_set_slot, 52, 80, 4)
    (party_set_slot, 52, 81, 4)
    (party_set_slot, 52, 82, 4)
    (party_set_slot, 52, 83, 6)
    (party_set_slot, 52, 84, 4)
    (party_set_slot, 52, 85, 8)
    (call_script, 35, 52, 113, 140, 0)
    (call_script, 35, 52, 114, 110, 0)
    (party_set_slot, 53, 80, 3)
    (party_set_slot, 53, 81, 1)
    (party_set_slot, 53, 82, 3)
    (party_set_slot, 53, 83, 3)
    (party_set_slot, 53, 84, 3)
    (party_set_slot, 53, 85, 7)
    (call_script, 35, 53, 127, 130, 0)
    (party_set_slot, 54, 80, 2)
    (party_set_slot, 54, 81, 2)
    (party_set_slot, 54, 82, 2)
    (party_set_slot, 54, 83, 5)
    (party_set_slot, 54, 84, 2)
    (party_set_slot, 54, 85, 8)
    (call_script, 35, 54, 123, 135, 0)
    (party_set_slot, 55, 80, 2)
    (party_set_slot, 55, 81, 3)
    (party_set_slot, 55, 82, 2)
    (party_set_slot, 55, 83, 5)
    (party_set_slot, 55, 84, 2)
    (party_set_slot, 55, 85, 8)
    (call_script, 35, 55, 111, 86, 0)
    (party_set_slot, 56, 80, 2)
    (party_set_slot, 56, 81, 8)
    (party_set_slot, 56, 82, 3)
    (party_set_slot, 56, 83, 4)
    (party_set_slot, 56, 84, 3)
    (party_set_slot, 56, 85, 6)
    (call_script, 35, 56, 115, 130, 0)
    (party_set_slot, 57, 80, 3)
    (party_set_slot, 57, 81, 8)
    (party_set_slot, 57, 82, 4)
    (party_set_slot, 57, 83, 6)
    (party_set_slot, 57, 84, 4)
    (party_set_slot, 57, 85, 5)
    (call_script, 35, 57, 74, 140, 0)
    (party_set_slot, 58, 80, 2)
    (party_set_slot, 58, 81, 8)
    (party_set_slot, 58, 82, 4)
    (party_set_slot, 58, 83, 5)
    (party_set_slot, 58, 84, 4)
    (party_set_slot, 58, 85, 7)
    (call_script, 35, 58, 75, 120, 0)
    (party_set_slot, 59, 80, 2)
    (party_set_slot, 59, 81, 4)
    (party_set_slot, 59, 82, 2)
    (party_set_slot, 59, 83, 5)
    (party_set_slot, 59, 84, 2)
    (party_set_slot, 59, 85, 6)
    (call_script, 35, 59, 121, 120, 0)
    (party_set_slot, 60, 80, 2)
    (party_set_slot, 60, 81, 8)
    (party_set_slot, 60, 82, 3)
    (party_set_slot, 60, 83, 4)
    (party_set_slot, 60, 84, 3)
    (party_set_slot, 60, 85, 6)
    (call_script, 35, 60, 85, 100, 0)
    (party_set_slot, 61, 80, 3)
    (party_set_slot, 61, 81, 8)
    (party_set_slot, 61, 82, 4)
    (party_set_slot, 61, 83, 6)
    (party_set_slot, 61, 84, 4)
    (party_set_slot, 61, 85, 5)
    (call_script, 35, 61, 129, 100, 0)
    (party_set_slot, 62, 80, 2)
    (party_set_slot, 62, 81, 8)
    (party_set_slot, 62, 82, 4)
    (party_set_slot, 62, 83, 5)
    (party_set_slot, 62, 84, 4)
    (party_set_slot, 62, 85, 7)
    (call_script, 35, 62, 112, 100, 0)
    (party_set_slot, 63, 80, 2)
    (party_set_slot, 63, 81, 4)
    (party_set_slot, 63, 82, 2)
    (party_set_slot, 63, 83, 5)
    (party_set_slot, 63, 84, 2)
    (party_set_slot, 63, 85, 6)
    (call_script, 35, 63, 120, 125, 0)
    (party_set_slot, 64, 80, 2)
    (party_set_slot, 64, 81, 4)
    (party_set_slot, 64, 82, 2)
    (party_set_slot, 64, 83, 5)
    (party_set_slot, 64, 84, 2)
    (party_set_slot, 64, 85, 6)
    (call_script, 35, 64, 85, 125, 0)
    (party_set_slot, 65, 80, 2)
    (party_set_slot, 65, 81, 4)
    (party_set_slot, 65, 82, 2)
    (party_set_slot, 65, 83, 5)
    (party_set_slot, 65, 84, 2)
    (party_set_slot, 65, 85, 6)
    (call_script, 35, 65, 120, 125, 0)
    (party_set_slot, 66, 80, 2)
    (party_set_slot, 66, 81, 4)
    (party_set_slot, 66, 82, 2)
    (party_set_slot, 66, 83, 5)
    (party_set_slot, 66, 84, 2)
    (party_set_slot, 66, 85, 6)
    (call_script, 35, 66, 129, 125, 0)
    (party_set_slot, 67, 80, 2)
    (party_set_slot, 67, 81, 4)
    (party_set_slot, 67, 82, 2)
    (party_set_slot, 67, 83, 5)
    (party_set_slot, 67, 84, 2)
    (party_set_slot, 67, 85, 6)
    (call_script, 35, 67, 129, 125, 0)
    (party_set_slot, 68, 80, 2)
    (party_set_slot, 68, 81, 4)
    (party_set_slot, 68, 82, 2)
    (party_set_slot, 68, 83, 5)
    (party_set_slot, 68, 84, 2)
    (party_set_slot, 68, 85, 6)
    (call_script, 35, 68, 115, 125, 0)
    (party_set_slot, 69, 80, 2)
    (party_set_slot, 69, 81, 4)
    (party_set_slot, 69, 82, 2)
    (party_set_slot, 69, 83, 5)
    (party_set_slot, 69, 84, 2)
    (party_set_slot, 69, 85, 6)
    (call_script, 35, 69, 129, 125, 0)
    (party_set_slot, 70, 80, 2)
    (party_set_slot, 70, 81, 4)
    (party_set_slot, 70, 82, 2)
    (party_set_slot, 70, 83, 5)
    (party_set_slot, 70, 84, 2)
    (party_set_slot, 70, 85, 6)
    (call_script, 35, 70, 121, 120, 0)
    (party_set_slot, 71, 80, 2)
    (party_set_slot, 71, 81, 8)
    (party_set_slot, 71, 82, 3)
    (party_set_slot, 71, 83, 4)
    (party_set_slot, 71, 84, 3)
    (party_set_slot, 71, 85, 6)
    (call_script, 35, 71, 120, 100, 0)
    (try_for_range, ':lvar_5', 0, 1)
      (call_script, 36)
    (try_end)
    (call_script, 37)
    (try_for_range, ':lvar_15', 46, 73)
      (call_script, 35, ':lvar_15', 74, -12, 3)
      (call_script, 35, ':lvar_15', 75, -12, 3)
      (call_script, 35, ':lvar_15', 76, -15, 3)
      (call_script, 35, ':lvar_15', 85, -10, 3)
      (call_script, 35, ':lvar_15', 86, -10, 3)
      (call_script, 35, ':lvar_15', 88, -9, 3)
      (call_script, 35, ':lvar_15', 90, -10, 3)
      (call_script, 35, ':lvar_15', 92, -12, 3)
      (call_script, 35, ':lvar_15', 109, -14, 2)
      (call_script, 35, ':lvar_15', 114, -13, 3)
      (call_script, 35, ':lvar_15', 110, -10, 3)
      (call_script, 35, ':lvar_15', 82, -10, 3)
      (call_script, 35, ':lvar_15', 113, -10, 3)
      (call_script, 35, ':lvar_15', 115, -10, 3)
      (call_script, 35, ':lvar_15', 127, -10, 3)
      (call_script, 35, ':lvar_15', 123, -10, 3)
      (call_script, 35, ':lvar_15', 120, -12, 3)
      (call_script, 35, ':lvar_15', 128, -3, 3)
      (call_script, 35, ':lvar_15', 111, -5, 3)
      (call_script, 35, ':lvar_15', 122, -3, 3)
    (try_end)
    (try_for_range, ':lvar_15', 46, 73)
      (store_sub, ':lvar_13', ':lvar_15', 46)
      (party_set_slot, ':lvar_15', 0, 3)
      (store_add, ':lvar_18', 18, ':lvar_13')
      (party_set_slot, ':lvar_15', 66, ':lvar_18')
      (store_add, ':lvar_18', 70, ':lvar_13')
      (party_set_slot, ':lvar_15', 10, ':lvar_18')
      (store_add, ':lvar_18', 97, ':lvar_13')
      (party_set_slot, ':lvar_15', 11, ':lvar_18')
      (store_add, ':lvar_18', 205, ':lvar_13')
      (party_set_slot, ':lvar_15', 12, ':lvar_18')
      (store_add, ':lvar_18', 70, ':lvar_13')
      (party_set_slot, ':lvar_15', 18, ':lvar_18')
      (store_add, ':lvar_18', 124, ':lvar_13')
      (party_set_slot, ':lvar_15', 13, ':lvar_18')
      (store_add, ':lvar_18', 151, ':lvar_13')
      (party_set_slot, ':lvar_15', 14, ':lvar_18')
      (store_add, ':lvar_18', 178, ':lvar_13')
      (party_set_slot, ':lvar_15', 16, ':lvar_18')
      (store_add, ':lvar_18', 233, ':lvar_13')
      (party_set_slot, ':lvar_15', 17, ':lvar_18')
      (store_add, ':lvar_18', 763, ':lvar_13')
      (party_set_slot, ':lvar_15', 25, ':lvar_18')
      (store_add, ':lvar_18', 681, ':lvar_13')
      (party_set_slot, ':lvar_15', 20, ':lvar_18')
      (store_add, ':lvar_18', 654, ':lvar_13')
      (party_set_slot, ':lvar_15', 21, ':lvar_18')
      (store_add, ':lvar_18', 627, ':lvar_13')
      (party_set_slot, ':lvar_15', 22, ':lvar_18')
      (store_add, ':lvar_18', 708, ':lvar_13')
      (party_set_slot, ':lvar_15', 23, ':lvar_18')
      (store_add, ':lvar_18', 736, ':lvar_13')
      (party_set_slot, ':lvar_15', 24, ':lvar_18')
      (store_add, ':lvar_18', 70, ':lvar_13')
      (party_set_slot, ':lvar_15', 10, ':lvar_18')
      (party_set_slot, ':lvar_15', 60, 34)
      (party_add_particle_system, ':lvar_15', 68)
    (try_end)
    (try_for_range, ':lvar_19', 73, 114)
      (store_sub, ':lvar_13', ':lvar_19', 73)
      (val_mul, ':lvar_13', 3)
      (store_add, ':lvar_20', 260, ':lvar_13')
      (party_set_slot, ':lvar_19', 10, ':lvar_20')
      (store_add, ':lvar_21', 261, ':lvar_13')
      (party_set_slot, ':lvar_19', 11, ':lvar_21')
      (store_add, ':lvar_21', 262, ':lvar_13')
      (party_set_slot, ':lvar_19', 12, ':lvar_21')
      (party_set_slot, ':lvar_19', 60, 34)
      (party_set_slot, ':lvar_19', 0, 2)
      (party_set_slot, ':lvar_19', 54, -1)
    (try_end)
    (call_script, 35, 169, 74, 60, 0)
    (call_script, 35, 148, 74, 60, 0)
    (call_script, 35, 149, 74, 60, 0)
    (call_script, 35, 179, 74, 50, 0)
    (call_script, 35, 180, 74, 50, 0)
    (try_for_range, ':lvar_22', 114, 204)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 75, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 78, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 79, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 82, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 85, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 86, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 88, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 90, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 92, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 109, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 114, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 110, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 82, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 113, ':lvar_16', 0)
      (store_random_in_range, ':lvar_16', -5, 18)
      (call_script, 35, ':lvar_22', 120, ':lvar_16', 0)
    (try_end)
    (try_for_range, ':lvar_22', 114, 204)
      (store_random_in_range, ':lvar_23', 0, 5)
      (party_set_slot, ':lvar_22', 44, ':lvar_23')
      (store_random_in_range, ':lvar_24', 25, 75)
      (party_set_slot, ':lvar_22', 45, ':lvar_24')
      (store_sub, ':lvar_25', ':lvar_24', 10)
      (val_div, ':lvar_25', 2)
      (call_script, 35, ':lvar_22', 76, ':lvar_25', 0)
      (store_sub, ':lvar_13', ':lvar_22', 114)
      (store_add, ':lvar_20', 386, ':lvar_13')
      (party_set_slot, ':lvar_22', 10, ':lvar_20')
      (store_add, ':lvar_26', 790, ':lvar_13')
      (party_set_slot, ':lvar_22', 25, ':lvar_26')
      (party_set_slot, ':lvar_22', 0, 4)
      (party_set_slot, ':lvar_22', 34, -1)
      (call_script, 132, ':lvar_22')
      (call_script, 132, ':lvar_22')
      (call_script, 133, ':lvar_22')
      (call_script, 133, ':lvar_22')
      (call_script, 133, ':lvar_22')
      (call_script, 133, ':lvar_22')
      (party_add_particle_system, ':lvar_22', 68)
    (try_end)
    (try_for_range, ':lvar_14', 46, 204)
      (party_set_slot, ':lvar_14', 55, -1)
      (party_set_slot, ':lvar_14', 54, -1)
      (party_set_slot, ':lvar_14', 28, -1)
      (store_random_in_range, ':lvar_27', -25, 15)
      (call_script, 309, ':lvar_14')
      (assign, ':lvar_28', reg0)
      (val_add, ':lvar_28', ':lvar_27')
      (try_begin)
        (party_slot_eq, ':lvar_14', 0, 3)
        (val_add, ':lvar_28', 20)
      (try_end)
      (val_clamp, ':lvar_28', 0, 100)
      (party_set_slot, ':lvar_14', 50, ':lvar_28')
    (try_end)
    (try_for_range, ':lvar_29', 405, 530)
      (store_troop_faction, ':lvar_30', ':lvar_29')
      (try_begin)
        (eq, ':lvar_30', 16)
        (troop_set_slot, ':lvar_29', 13, 594)
      (else_try)
        (eq, ':lvar_30', 17)
        (troop_set_slot, ':lvar_29', 13, 595)
      (else_try)
        (eq, ':lvar_30', 18)
        (troop_set_slot, ':lvar_29', 13, 596)
      (try_end)
      (store_character_level, ':lvar_31', ':lvar_29')
      (store_mul, ':lvar_32', ':lvar_31', ':lvar_31')
      (val_div, ':lvar_32', 2)
      (try_begin)
        (faction_slot_eq, ':lvar_30', 10, ':lvar_29')
        (troop_set_slot, ':lvar_29', 15, 100)
        (store_random_in_range, ':lvar_33', 250, 400)
      (else_try)
        (store_random_in_range, ':lvar_34', 50, 100)
        (troop_set_slot, ':lvar_29', 15, ':lvar_34')
        (store_random_in_range, ':lvar_33', 100, 200)
      (try_end)
      (val_add, ':lvar_32', ':lvar_33')
      (troop_set_slot, ':lvar_29', 7, ':lvar_32')
      (store_random_in_range, ':lvar_35', 0, 100)
      (troop_set_slot, ':lvar_29', 57, ':lvar_35')
      (troop_set_slot, ':lvar_29', 58, 100)
      (troop_set_slot, ':lvar_29', 16, -1)
      (troop_set_slot, ':lvar_29', 17, -1)
    (try_end)
    (call_script, 112, 46, 411, 0)
    (call_script, 112, 47, 414, 0)
    (call_script, 112, 48, 410, 0)
    (call_script, 112, 49, 409, 0)
    (call_script, 112, 50, 408, 0)
    (call_script, 112, 51, 421, 0)
    (call_script, 112, 52, 464, 0)
    (call_script, 112, 53, 412, 0)
    (call_script, 112, 54, 462, 0)
    (call_script, 112, 55, 457, 0)
    (call_script, 112, 56, 456, 0)
    (call_script, 112, 57, 499, 0)
    (call_script, 112, 58, 406, 0)
    (call_script, 112, 59, 407, 0)
    (call_script, 112, 60, 417, 0)
    (call_script, 112, 61, 405, 0)
    (call_script, 112, 62, 490, 0)
    (call_script, 112, 63, 491, 0)
    (call_script, 112, 64, 465, 0)
    (call_script, 112, 65, 424, 0)
    (call_script, 112, 66, 427, 0)
    (call_script, 112, 67, 453, 0)
    (call_script, 110, 73, 17)
    (call_script, 110, 74, 17)
    (call_script, 110, 75, 17)
    (call_script, 110, 76, 16)
    (call_script, 110, 77, 16)
    (call_script, 110, 78, 17)
    (call_script, 110, 79, 18)
    (call_script, 110, 80, 16)
    (call_script, 110, 81, 16)
    (call_script, 110, 82, 16)
    (call_script, 110, 83, 16)
    (call_script, 110, 84, 16)
    (call_script, 110, 85, 18)
    (call_script, 110, 86, 17)
    (call_script, 110, 87, 16)
    (call_script, 110, 88, 16)
    (call_script, 110, 89, 17)
    (call_script, 110, 90, 17)
    (call_script, 110, 91, 18)
    (call_script, 110, 92, 16)
    (call_script, 110, 93, 16)
    (call_script, 110, 94, 17)
    (call_script, 110, 95, 16)
    (call_script, 110, 96, 16)
    (call_script, 110, 97, 16)
    (call_script, 110, 98, 16)
    (call_script, 110, 99, 16)
    (call_script, 110, 100, 17)
    (call_script, 110, 101, 18)
    (call_script, 110, 102, 18)
    (call_script, 110, 103, 18)
    (call_script, 110, 104, 16)
    (call_script, 110, 105, 17)
    (call_script, 110, 106, 16)
    (call_script, 110, 107, 16)
    (call_script, 110, 108, 17)
    (call_script, 110, 109, 18)
    (call_script, 110, 110, 17)
    (call_script, 110, 111, 18)
    (call_script, 450, 53, 54, 55)
    (call_script, 450, 58, 57, 60)
    (try_for_range, ':lvar_36', 73, 114)
      (assign, ':lvar_37', 999999)
      (assign, ':lvar_38', -1)
      (try_for_range, ':lvar_39', 114, 204)
        (neg|party_slot_ge, ':lvar_39', 120, 1)
        (store_distance_to_party_from_party, ':lvar_40', ':lvar_39', ':lvar_36')
        (lt, ':lvar_40', ':lvar_37')
        (assign, ':lvar_37', ':lvar_40')
        (assign, ':lvar_38', ':lvar_39')
      (try_end)
      (party_set_slot, ':lvar_38', 120, ':lvar_36')
      (store_faction_of_party, ':lvar_41', ':lvar_36')
      (call_script, 110, ':lvar_38', ':lvar_41')
    (try_end)
    (call_script, 112, 75, 461, 0)
    (try_for_range, ':lvar_39', 114, 204)
      (neg|party_slot_ge, ':lvar_39', 120, 1)
      (assign, ':lvar_37', 999999)
      (assign, ':lvar_42', -1)
      (try_for_range, ':lvar_43', 46, 73)
        (store_distance_to_party_from_party, ':lvar_40', ':lvar_39', ':lvar_43')
        (lt, ':lvar_40', ':lvar_37')
        (assign, ':lvar_37', ':lvar_40')
        (assign, ':lvar_42', ':lvar_43')
      (try_end)
      (party_set_slot, ':lvar_39', 120, ':lvar_42')
      (store_faction_of_party, ':lvar_41', ':lvar_42')
      (call_script, 110, ':lvar_39', ':lvar_41')
    (try_end)
    (try_for_range, ':lvar_14', 46, 204)
      (store_faction_of_party, ':lvar_44', ':lvar_14')
      (faction_get_slot, ':lvar_10', ':lvar_44', 9)
      (party_set_slot, ':lvar_14', 19, ':lvar_10')
      (party_set_slot, ':lvar_14', 61, ':lvar_44')
      (party_set_slot, ':lvar_14', 62, ':lvar_44')
    (try_end)
    (try_for_range, ':lvar_14', 46, 204)
      (this_or_next|party_slot_eq, ':lvar_14', 0, 3)
      (party_slot_eq, ':lvar_14', 0, 4)
      (try_for_range, ':lvar_45', 0, 8)
        (call_script, 225, ':lvar_14', ':lvar_45', 0)
      (try_end)
    (try_end)
    (call_script, 267)
    (try_for_range, ':lvar_46', 405, 530)
      (try_begin)
        (store_troop_faction, ':lvar_47', ':lvar_46')
        (is_between, ':lvar_47', 15, 19)
        (troop_set_slot, ':lvar_46', 14, ':lvar_47')
        (try_begin)
          (is_between, ':lvar_46', 530, 530)
          (faction_set_slot, ':lvar_47', 60, 1)
        (else_try)
          (troop_set_slot, ':lvar_46', 2, 2)
        (try_end)
      (try_end)
      (assign, ':lvar_48', 6000)
      (try_begin)
        (store_troop_faction, ':lvar_49', ':lvar_46')
        (faction_slot_eq, ':lvar_49', 10, ':lvar_46')
        (assign, ':lvar_48', 20000)
      (try_end)
      (troop_set_slot, ':lvar_46', 11, ':lvar_48')
    (try_end)
    (try_for_range, ':lvar_14', 46, 114)
      (assign, ':lvar_48', 2000)
      (try_begin)
        (is_between, ':lvar_14', 46, 73)
        (val_mul, ':lvar_48', 2)
      (try_end)
      (party_set_slot, ':lvar_14', 49, ':lvar_48')
      (assign, ':lvar_50', 13)
      (try_begin)
        (party_slot_eq, ':lvar_14', 0, 3)
        (assign, ':lvar_50', 40)
      (try_end)
      (try_for_range, ':lvar_5', 0, ':lvar_50')
        (call_script, 120, ':lvar_14')
      (try_end)
      (store_div, ':lvar_51', ':lvar_50', 8)
      (val_add, ':lvar_51', 4)
      (try_for_range, ':lvar_5', 0, ':lvar_51')
        (store_random_in_range, ':lvar_52', 7000, 9000)
        (party_upgrade_with_xp, ':lvar_14', ':lvar_52', 0)
      (try_end)
      (call_script, 131, ':lvar_14')
      (assign, ':lvar_53', reg0)
      (val_div, ':lvar_53', 2)
      (party_set_slot, ':lvar_14', 53, ':lvar_53')
      (party_get_slot, ':lvar_54', ':lvar_14', 7)
      (ge, ':lvar_54', 1)
      (troop_slot_eq, ':lvar_54', 10, 0)
      (call_script, 126, ':lvar_54', ':lvar_14')
      (assign, ':lvar_55', '$gvar_590')
      (party_attach_to_party, ':lvar_55', ':lvar_14')
      (party_set_slot, ':lvar_14', 51, 1000)
    (try_end)
    (call_script, 209)
    (call_script, 209)
    (try_for_range, ':lvar_46', 530, 530)
      (troop_set_slot, ':lvar_46', 2, 4)
      (troop_get_slot, ':lvar_56', ':lvar_46', 31)
      (try_begin)
        (eq, ':lvar_56', 0)
        (troop_get_slot, ':lvar_56', ':lvar_46', 30)
      (try_end)
      (try_begin)
        (gt, ':lvar_56', 0)
        (call_script, 129, ':lvar_56')
        (assign, ':lvar_36', reg0)
        (gt, ':lvar_36', 0)
        (troop_set_slot, ':lvar_46', 12, ':lvar_36')
      (else_try)
        (store_troop_faction, ':lvar_9', ':lvar_46')
        (call_script, 81, ':lvar_9', -1)
        (assign, ':lvar_36', reg0)
        (troop_set_slot, ':lvar_46', 12, ':lvar_36')
      (try_end)
    (try_end)
    (try_for_range, ':lvar_46', 405, 530)
      (troop_slot_eq, ':lvar_46', 2, 4)
      (troop_get_slot, ':lvar_57', ':lvar_46', 31)
      (gt, ':lvar_57', 0)
      (store_random_in_range, ':lvar_6', 0, 100)
      (le, ':lvar_6', 80)
      (call_script, 92, ':lvar_46')
      (assign, ':lvar_58', reg0)
      (troop_set_slot, ':lvar_46', 36, ':lvar_58')
      (troop_set_slot, ':lvar_58', 36, ':lvar_46')
    (try_end)
    (try_for_range, ':lvar_46', 405, 530)
      (troop_get_slot, ':lvar_59', ':lvar_46', 30)
      (troop_get_slot, ':lvar_60', ':lvar_46', 35)
      (troop_get_slot, ':lvar_61', ':lvar_46', 33)
      (troop_get_slot, ':lvar_62', ':lvar_46', 34)
      (troop_get_slot, ':lvar_63', ':lvar_46', 31)
      (troop_get_slot, ':lvar_64', ':lvar_46', 32)
      (troop_get_slot, ':lvar_65', ':lvar_46', 36)
      (store_troop_faction, ':lvar_66', ':lvar_46')
      (assign, ':lvar_67', 0)
      (try_for_range, ':lvar_68', 40, 45)
        (troop_slot_ge, ':lvar_46', ':lvar_68', 1)
        (val_add, ':lvar_67', 1)
      (try_end)
      (try_for_range, ':lvar_68', 40, 45)
        (troop_set_slot, ':lvar_46', ':lvar_68', -1)
      (try_end)
      (store_random_in_range, ':lvar_69', 0, 4)
      (val_add, ':lvar_69', ':lvar_67')
      (val_min, ':lvar_69', 5)
      (try_for_range, ':lvar_5', ':lvar_67', ':lvar_69')
        (assign, ':lvar_70', 0)
        (try_for_range, ':lvar_71', 405, 530)
          (neq, ':lvar_71', ':lvar_46')
          (neq, ':lvar_71', ':lvar_59')
          (neq, ':lvar_71', ':lvar_60')
          (neq, ':lvar_71', ':lvar_61')
          (neq, ':lvar_71', ':lvar_62')
          (neq, ':lvar_71', ':lvar_63')
          (neq, ':lvar_71', ':lvar_64')
          (neq, ':lvar_71', ':lvar_65')
          (store_troop_faction, ':lvar_72', ':lvar_71')
          (eq, ':lvar_72', ':lvar_66')
          (assign, ':lvar_73', 0)
          (try_for_range, ':lvar_74', 40, 45)
            (troop_slot_eq, ':lvar_46', ':lvar_74', ':lvar_71')
            (assign, ':lvar_73', 1)
          (try_end)
          (eq, ':lvar_73', 0)
          (val_add, ':lvar_70', 1)
        (try_end)
        (store_random_in_range, ':lvar_75', 0, ':lvar_70')
        (assign, ':lvar_70', 0)
        (assign, ':lvar_76', -1)
        (try_for_range, ':lvar_71', 405, 530)
          (eq, ':lvar_76', -1)
          (neq, ':lvar_71', ':lvar_46')
          (neq, ':lvar_71', ':lvar_59')
          (neq, ':lvar_71', ':lvar_60')
          (neq, ':lvar_71', ':lvar_61')
          (neq, ':lvar_71', ':lvar_62')
          (neq, ':lvar_71', ':lvar_63')
          (neq, ':lvar_71', ':lvar_64')
          (neq, ':lvar_71', ':lvar_65')
          (store_troop_faction, ':lvar_72', ':lvar_71')
          (eq, ':lvar_72', ':lvar_66')
          (assign, ':lvar_73', 0)
          (try_for_range, ':lvar_74', 40, 45)
            (troop_slot_eq, ':lvar_46', ':lvar_74', ':lvar_71')
            (assign, ':lvar_73', 1)
          (try_end)
          (eq, ':lvar_73', 0)
          (val_add, ':lvar_70', 1)
          (gt, ':lvar_70', ':lvar_75')
          (assign, ':lvar_76', ':lvar_71')
        (try_end)
        (gt, ':lvar_76', 0)
        (assign, ':lvar_77', 0)
        (try_for_range, ':lvar_68', 40, 45)
          (troop_slot_ge, ':lvar_76', ':lvar_68', 1)
          (val_add, ':lvar_77', 1)
        (try_end)
        (lt, ':lvar_77', 5)
        (assign, ':lvar_67', 0)
        (try_for_range, ':lvar_68', 40, 45)
          (troop_slot_ge, ':lvar_46', ':lvar_68', 1)
          (val_add, ':lvar_67', 1)
        (try_end)
        (store_add, ':lvar_78', 40, ':lvar_67')
        (troop_set_slot, ':lvar_46', ':lvar_78', ':lvar_76')
        (store_add, ':lvar_78', 40, ':lvar_77')
        (troop_set_slot, ':lvar_76', ':lvar_78', ':lvar_46')
      (try_end)
    (try_end)
    (try_for_range, ':lvar_5', 0, 8)
      (call_script, 290)
    (try_end)
    (call_script, 386)
    (set_spawn_radius, 50)
    (try_for_range, ':lvar_5', 0, 25)
      (spawn_around_party, 0, 6)
    (try_end)
    (try_for_range, ':lvar_5', 0, 6)
      (call_script, 38)
    (try_end)
    (call_script, 253)
    (call_script, 268)
    (call_script, 271)
    (call_script, 272)
    (call_script, 273)
    (call_script, 276)
    (call_script, 275)
    (call_script, 404)
    (call_script, 406)
    (call_script, 407)
    (call_script, 408)
    (call_script, 409)
    (call_script, 405)
    (try_for_range, ':lvar_22', 114, 204)
      (call_script, 269, ':lvar_22')
    (try_end)
    (try_for_range, ':lvar_79', 15, 19)
      (call_script, 277, ':lvar_79')
      (store_random_in_range, ':lvar_6', -60, 0)
      (faction_set_slot, ':lvar_9', 6, ':lvar_6')
    (try_end)
    (try_for_range, ':lvar_0', 405, 530)
      (call_script, 279, ':lvar_0')
    (try_end)
    (try_for_range, ':lvar_36', 46, 204)
      (call_script, 281, ':lvar_36')
    (try_end)
    (call_script, 279, 0)
    (try_for_range, ':lvar_9', 15, 19)
      (call_script, 78, ':lvar_9')
    (try_end)
    (call_script, 162)
    (party_set_morale, 0, reg0)
    (call_script, 451, 46, 73)
    (call_script, 451, 114, 204)
game_event_party_encounter=>
    (store_script_param_1, '$gvar_269')
    (store_script_param_2, '$gvar_576')
    (store_faction_of_party, '$gvar_577', '$gvar_269')
    (store_relation, '$gvar_578', '$gvar_577', 14)
    (party_get_slot, '$gvar_579', '$gvar_269', 0)
    (party_get_template_id, '$gvar_580', '$gvar_269')
    (call_script, 70, 0)
    (assign, '$gvar_581', reg0)
    (assign, '$gvar_248', -1)
    (assign, '$gvar_188', 0)
    (assign, '$gvar_50', 0)
    (assign, '$gvar_48', 0)
    (assign, '$gvar_30', 0)
    (assign, '$gvar_191', 0)
    (try_begin)
      (neg|is_between, '$gvar_269', 46, 204)
      (rest_for_hours, 0)
    (try_end)
    (assign, '$gvar_183', 1)
    (try_begin)
      (lt, '$gvar_576', 0)
      (try_begin)
        (party_slot_eq, '$gvar_269', 0, 3)
        (jump_to_menu, 66)
      (else_try)
        (party_slot_eq, '$gvar_269', 0, 2)
        (jump_to_menu, 66)
      (else_try)
        (party_slot_eq, '$gvar_269', 0, 16)
        (jump_to_menu, 139)
      (else_try)
        (party_slot_eq, '$gvar_269', 0, 4)
        (jump_to_menu, 91)
      (else_try)
        (party_slot_eq, '$gvar_269', 0, 17)
        (jump_to_menu, 38)
      (else_try)
        (is_between, '$gvar_269', 205, 210)
        (jump_to_menu, 150)
      (else_try)
        (eq, '$gvar_269', 204)
        (jump_to_menu, 3)
      (else_try)
        (eq, '$gvar_269', 2)
        (jump_to_menu, 17)
      (else_try)
        (this_or_next|eq, '$gvar_269', 39)
        (this_or_next|eq, '$gvar_269', 40)
        (this_or_next|eq, '$gvar_269', 41)
        (this_or_next|eq, '$gvar_269', 42)
        (this_or_next|eq, '$gvar_269', 43)
        (this_or_next|eq, '$gvar_269', 44)
        (eq, '$gvar_269', 45)
        (jump_to_menu, 212)
      (else_try)
        (jump_to_menu, 43)
      (try_end)
    (else_try)
      (try_begin)
        (this_or_next|party_slot_eq, '$gvar_269', 0, 3)
        (party_slot_eq, '$gvar_269', 0, 2)
        (try_begin)
          (eq, '$gvar_99', '$gvar_269')
          (jump_to_menu, 117)
        (else_try)
          (eq, '$gvar_223', '$gvar_269')
          (jump_to_menu, 65)
        (else_try)
          (jump_to_menu, 63)
        (try_end)
      (else_try)
        (jump_to_menu, 54)
      (try_end)
    (try_end)
    (assign, '$gvar_99', 0)
    (assign, '$gvar_223', 0)
game_event_simulate_battle=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (store_faction_of_party, ':lvar_2', ':lvar_0')
      (store_faction_of_party, ':lvar_3', ':lvar_1')
      (neq, ':lvar_2', 14)
      (neq, ':lvar_3', 14)
      (store_relation, ':lvar_4', ':lvar_2', ':lvar_3')
      (ge, ':lvar_4', 0)
      (set_trigger_result, 1)
    (else_try)
      (assign, ':lvar_5', 0)
      (try_begin)
        (this_or_next|eq, '$gvar_228', ':lvar_0')
        (eq, '$gvar_228', ':lvar_1')
        (assign, '$gvar_228', -1)
        (assign, '$gvar_99', '$gvar_229')
        (assign, ':lvar_5', 1)
      (else_try)
        (try_begin)
          (this_or_next|party_slot_eq, ':lvar_0', 2, 1)
          (party_slot_eq, ':lvar_1', 2, 1)
          (assign, ':lvar_5', 1)
        (try_end)
        (party_set_slot, ':lvar_1', 2, 0)
        (party_collect_attachments_to_party, ':lvar_0', 16)
        (party_collect_attachments_to_party, ':lvar_1', 15)
        (call_script, 42, 16, 0)
        (assign, ':lvar_6', reg0)
        (call_script, 42, 15, 0)
        (assign, ':lvar_7', reg0)
        (store_div, ':lvar_6', ':lvar_6', 20)
        (val_min, ':lvar_6', 50)
        (val_max, ':lvar_6', 1)
        (store_div, ':lvar_7', ':lvar_7', 20)
        (val_min, ':lvar_7', 50)
        (val_add, ':lvar_7', 1)
        (try_begin)
          (this_or_next|party_slot_eq, ':lvar_0', 0, 2)
          (party_slot_eq, ':lvar_0', 0, 3)
          (val_mul, ':lvar_6', 3)
          (val_div, ':lvar_6', 2)
          (val_div, ':lvar_7', 2)
        (try_end)
        (try_begin)
          (neg|is_currently_night)
          (inflict_casualties_to_party_group, ':lvar_1', ':lvar_6', 4)
          (party_collect_attachments_to_party, ':lvar_1', 15)
        (try_end)
        (call_script, 71, 15, 0)
        (assign, ':lvar_8', reg0)
        (try_begin)
          (gt, ':lvar_8', 0)
          (neg|is_currently_night)
          (inflict_casualties_to_party_group, ':lvar_0', ':lvar_7', 4)
          (party_collect_attachments_to_party, ':lvar_0', 16)
        (try_end)
        (call_script, 71, 16, 0)
        (assign, ':lvar_9', reg0)
        (try_begin)
          (this_or_next|eq, ':lvar_8', 0)
          (eq, ':lvar_9', 0)
          (try_begin)
            (eq, ':lvar_8', 0)
            (eq, ':lvar_9', 0)
            (assign, ':lvar_10', -1)
            (assign, ':lvar_11', -1)
            (assign, ':lvar_12', -1)
          (else_try)
            (eq, ':lvar_8', 0)
            (assign, ':lvar_10', ':lvar_0')
            (assign, ':lvar_11', ':lvar_1')
            (assign, ':lvar_12', 15)
          (else_try)
            (assign, ':lvar_10', ':lvar_1')
            (assign, ':lvar_11', ':lvar_0')
            (assign, ':lvar_12', 16)
          (try_end)
          (try_begin)
            (ge, ':lvar_10', 0)
            (call_script, 58, ':lvar_10')
            (assign, ':lvar_13', reg0)
            (store_faction_of_party, ':lvar_14', ':lvar_13')
            (store_faction_of_party, ':lvar_15', ':lvar_11')
          (else_try)
            (assign, ':lvar_13', -1)
          (try_end)
          (try_begin)
            (ge, ':lvar_12', 0)
            (party_get_num_companion_stacks, ':lvar_16', ':lvar_12')
          (else_try)
            (assign, ':lvar_16', 0)
          (try_end)
          (try_for_range, ':lvar_17', 0, ':lvar_16')
            (party_stack_get_troop_id, ':lvar_18', ':lvar_12', ':lvar_17')
            (troop_is_hero, ':lvar_18')
            (call_script, 364, ':lvar_18')
            (troop_set_slot, ':lvar_18', 10, -1)
            (store_random_in_range, ':lvar_19', 0, 100)
            (str_store_troop_name_link, 1, ':lvar_18')
            (str_store_faction_name_link, 2, ':lvar_14')
            (store_troop_faction, ':lvar_20', ':lvar_18')
            (str_store_faction_name_link, 3, ':lvar_20')
            (try_begin)
              (ge, ':lvar_19', 50)
              (party_stack_get_troop_id, ':lvar_21', ':lvar_13', 0)
              (is_between, ':lvar_21', 405, 530)
              (party_add_prisoners, ':lvar_13', ':lvar_18', 1)
              (gt, reg0, 0)
              (troop_set_slot, ':lvar_18', 8, ':lvar_13')
              (call_script, 385, 2, ':lvar_18')
              (display_log_message, 216172782113783968, reg20)
            (else_try)
              (call_script, 385, 1, ':lvar_18')
              (display_message, '@qstr_189', reg20)
            (try_end)
            (try_begin)
              (store_troop_faction, ':lvar_22', ':lvar_18')
              (faction_slot_eq, ':lvar_22', 7, ':lvar_18')
              (assign, '$gvar_70', 1)
            (try_end)
          (try_end)
          (try_begin)
            (ge, ':lvar_12', 0)
            (party_get_num_prisoner_stacks, ':lvar_16', ':lvar_12')
          (else_try)
            (assign, ':lvar_16', 0)
          (try_end)
          (try_for_range, ':lvar_17', 0, ':lvar_16')
            (party_prisoner_stack_get_troop_id, ':lvar_18', ':lvar_12', ':lvar_17')
            (troop_is_hero, ':lvar_18')
            (call_script, 364, ':lvar_18')
            (store_troop_faction, ':lvar_22', ':lvar_18')
            (str_store_troop_name_link, 1, ':lvar_18')
            (str_store_faction_name_link, 2, ':lvar_14')
            (str_store_faction_name_link, 3, ':lvar_22')
            (call_script, 385, 3, ':lvar_18')
            (display_log_message, 216172782113783969, reg20)
          (try_end)
          (try_begin)
            (ge, ':lvar_12', 0)
            (party_clear, 1)
            (assign, '$gvar_35', 0)
            (call_script, 52, 1, ':lvar_12')
            (call_script, 53, 1, ':lvar_12')
            (distribute_party_among_party_group, 1, ':lvar_10')
            (call_script, 57, ':lvar_11')
          (try_end)
          (assign, ':lvar_5', 1)
          (try_begin)
            (ge, ':lvar_12', 0)
            (party_get_slot, ':lvar_23', ':lvar_11', 0)
            (this_or_next|eq, ':lvar_23', 3)
            (eq, ':lvar_23', 2)
            (assign, '$gvar_70', 1)
            (store_faction_of_party, ':lvar_24', ':lvar_10')
            (store_faction_of_party, ':lvar_15', ':lvar_11')
            (str_store_party_name, 1, ':lvar_11')
            (str_store_faction_name, 2, ':lvar_24')
            (str_store_faction_name, 3, ':lvar_15')
            (call_script, 385, 6, ':lvar_11')
            (display_log_message, 216172782113783970, reg20)
            (try_begin)
              (eq, '$gvar_269', ':lvar_11')
              (call_script, 353, 18, 0, '$gvar_269', 0, '$gvar_577')
            (try_end)
            (try_begin)
              (party_get_num_companion_stacks, ':lvar_16', ':lvar_10')
              (gt, ':lvar_16', 0)
              (party_stack_get_troop_id, ':lvar_25', ':lvar_10', 0)
              (is_between, ':lvar_25', 405, 530)
              (party_set_slot, ':lvar_11', 28, ':lvar_25')
            (else_try)
              (party_set_slot, ':lvar_11', 28, -1)
            (try_end)
            (call_script, 137, ':lvar_11', 0)
            (call_script, 109, ':lvar_11', ':lvar_24')
            (try_begin)
              (eq, ':lvar_15', 15)
              (call_script, 175, 190, ':lvar_11', ':lvar_24')
            (try_end)
            (call_script, 308, ':lvar_11', -5)
            (call_script, 4, ':lvar_11', ':lvar_24')
            (call_script, 120, ':lvar_11')
            (call_script, 120, ':lvar_11')
          (try_end)
        (try_end)
        (try_begin)
          (party_slot_eq, ':lvar_1', 0, 13)
          (store_random_in_range, ':lvar_26', 0, 100)
          (lt, ':lvar_26', 25)
          (gt, ':lvar_8', 0)
          (call_script, 293, ':lvar_1', 1000)
        (try_end)
        (try_begin)
          (party_slot_eq, ':lvar_0', 0, 13)
          (store_random_in_range, ':lvar_26', 0, 100)
          (lt, ':lvar_26', 25)
          (gt, ':lvar_9', 0)
          (call_script, 293, ':lvar_0', 1000)
        (try_end)
        (store_random_in_range, ':lvar_26', 0, 100)
        (try_begin)
          (lt, ':lvar_26', 10)
          (assign, ':lvar_5', 1)
        (try_end)
      (try_end)
      (set_trigger_result, ':lvar_5')
    (try_end)
game_event_battle_end=>
    (try_for_range, ':lvar_0', 405, 530)
      (troop_get_slot, ':lvar_1', ':lvar_0', 10)
      (troop_get_slot, ':lvar_2', ':lvar_0', 8)
      (try_begin)
        (ge, ':lvar_1', 0)
        (assign, ':lvar_3', 0)
        (try_begin)
          (neg|party_is_active, ':lvar_1')
          (assign, ':lvar_3', 1)
        (else_try)
          (party_count_companions_of_type, ':lvar_4', ':lvar_1', ':lvar_0')
          (le, ':lvar_4', 0)
          (assign, ':lvar_3', 1)
        (try_end)
        (eq, ':lvar_3', 1)
        (try_begin)
          (eq, '$gvar_152', 1)
          (str_store_troop_name, 1, ':lvar_0')
          (display_message, '@qstr_190')
        (try_end)
        (troop_set_slot, ':lvar_0', 10, -1)
      (try_end)
      (try_begin)
        (ge, ':lvar_2', 0)
        (assign, ':lvar_3', 0)
        (try_begin)
          (neg|party_is_active, ':lvar_2')
          (assign, ':lvar_3', 1)
        (else_try)
          (party_count_prisoners_of_type, ':lvar_4', ':lvar_2', ':lvar_0')
          (le, ':lvar_4', 0)
          (assign, ':lvar_3', 1)
        (try_end)
        (eq, ':lvar_3', 1)
        (try_begin)
          (eq, '$gvar_152', 1)
          (str_store_troop_name, 1, ':lvar_0')
          (display_message, '@qstr_191')
        (try_end)
        (call_script, 364, ':lvar_0')
        (try_begin)
          (party_count_prisoners_of_type, ':lvar_4', 0, ':lvar_0')
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_0', 8, 0)
          (assign, ':lvar_3', 0)
          (try_begin)
            (eq, '$gvar_152', 1)
            (str_store_troop_name, 1, ':lvar_0')
            (display_message, '@qstr_192')
          (try_end)
        (try_end)
        (eq, ':lvar_3', 1)
        (try_for_range, ':lvar_5', 405, 530)
          (eq, ':lvar_3', 1)
          (troop_get_slot, ':lvar_6', ':lvar_5', 10)
          (party_is_active, ':lvar_6')
          (party_count_prisoners_of_type, ':lvar_4', ':lvar_6', ':lvar_0')
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_0', 8, ':lvar_6')
          (assign, ':lvar_3', 0)
          (try_begin)
            (eq, '$gvar_152', 1)
            (str_store_troop_name, 1, ':lvar_0')
            (str_store_party_name, 2, ':lvar_6')
            (display_message, '@qstr_193')
          (try_end)
        (try_end)
        (try_for_range, ':lvar_6', 46, 114)
          (eq, ':lvar_3', 1)
          (party_count_prisoners_of_type, ':lvar_4', ':lvar_6', ':lvar_0')
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_0', 8, ':lvar_6')
          (assign, ':lvar_3', 0)
          (try_begin)
            (eq, '$gvar_152', 1)
            (str_store_troop_name, 1, ':lvar_0')
            (str_store_party_name, 2, ':lvar_6')
            (display_message, '@qstr_193')
          (try_end)
        (try_end)
      (try_end)
    (try_end)
order_best_besieger_party_to_guard_center=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 405, 530)
      (troop_get_slot, ':lvar_5', ':lvar_4', 10)
      (gt, ':lvar_5', 0)
      (store_distance_to_party_from_party, ':lvar_6', ':lvar_5', ':lvar_0')
      (lt, ':lvar_6', 5)
      (store_faction_of_party, ':lvar_7', ':lvar_5')
      (eq, ':lvar_1', ':lvar_7')
      (neg|faction_slot_eq, ':lvar_1', 7, ':lvar_4')
      (assign, ':lvar_8', 0)
      (try_begin)
        (party_slot_eq, ':lvar_5', 4, 1)
        (party_slot_eq, ':lvar_5', 5, ':lvar_0')
        (assign, ':lvar_8', 1)
      (else_try)
        (party_slot_eq, ':lvar_5', 4, 11)
        (party_get_slot, ':lvar_9', ':lvar_5', 30)
        (party_slot_eq, ':lvar_9', 4, 1)
        (party_slot_eq, ':lvar_9', 5, ':lvar_0')
        (assign, ':lvar_8', 1)
      (try_end)
      (eq, ':lvar_8', 1)
      (party_get_slot, ':lvar_10', ':lvar_5', 56)
      (gt, ':lvar_10', ':lvar_3')
      (assign, ':lvar_3', ':lvar_10')
      (assign, ':lvar_2', ':lvar_5')
    (try_end)
    (try_begin)
      (gt, ':lvar_2', 0)
      (call_script, 139, ':lvar_2', 7, ':lvar_0')
      (party_set_slot, ':lvar_2', 30, -1)
      (party_set_flags, ':lvar_2', 65536, 1)
    (try_end)
game_get_item_buy_price_factor=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 100)
    (call_script, 7, ':lvar_0')
    (assign, ':lvar_2', reg0)
    (try_begin)
      (is_between, '$gvar_269', 46, 204)
      (is_between, ':lvar_0', 74, 130)
      (store_sub, ':lvar_3', ':lvar_0', 74)
      (val_add, ':lvar_3', 262)
      (party_get_slot, ':lvar_1', '$gvar_269', ':lvar_3')
      (val_mul, ':lvar_1', 100)
      (val_div, ':lvar_1', 1000)
    (try_end)
    (store_add, ':lvar_4', 100, ':lvar_2')
    (val_mul, ':lvar_1', ':lvar_4')
    (val_div, ':lvar_1', 100)
    (assign, reg0, ':lvar_1')
    (set_trigger_result, reg0)
game_get_item_sell_price_factor=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 100)
    (call_script, 7, ':lvar_0')
    (assign, ':lvar_2', reg0)
    (try_begin)
      (is_between, '$gvar_269', 46, 204)
      (is_between, ':lvar_0', 74, 130)
      (store_sub, ':lvar_3', ':lvar_0', 74)
      (val_add, ':lvar_3', 262)
      (party_get_slot, ':lvar_1', '$gvar_269', ':lvar_3')
      (val_mul, ':lvar_1', 100)
      (val_div, ':lvar_1', 1000)
    (else_try)
      (val_mul, ':lvar_2', 4)
    (try_end)
    (store_add, ':lvar_4', 100, ':lvar_2')
    (val_mul, ':lvar_1', 100)
    (val_div, ':lvar_1', ':lvar_4')
    (assign, reg0, ':lvar_1')
    (set_trigger_result, reg0)
get_trade_penalty=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (party_get_skill_level, ':lvar_2', 0, 0)
    (try_begin)
      (is_between, ':lvar_0', 74, 130)
      (assign, ':lvar_1', 20)
      (store_mul, ':lvar_3', ':lvar_2', 1)
      (val_sub, ':lvar_1', ':lvar_3')
    (else_try)
      (assign, ':lvar_1', 100)
      (store_mul, ':lvar_3', ':lvar_2', 5)
      (val_sub, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, ':lvar_4', 1000)
    (try_begin)
      (is_between, '$gvar_269', 46, 204)
      (party_get_slot, ':lvar_5', '$gvar_269', 26)
      (store_mul, ':lvar_6', ':lvar_5', -3)
      (val_add, ':lvar_4', ':lvar_6')
      (try_begin)
        (lt, ':lvar_5', 0)
        (store_sub, ':lvar_7', 100, ':lvar_5')
        (val_mul, ':lvar_4', ':lvar_7')
        (val_div, ':lvar_4', 100)
      (try_end)
    (try_end)
    (call_script, 150, '$gvar_15')
    (assign, ':lvar_8', reg0)
    (try_begin)
      (lt, ':lvar_8', 0)
      (store_sub, ':lvar_9', 0, ':lvar_8')
      (store_mul, ':lvar_10', ':lvar_9', 20)
      (val_add, ':lvar_4', ':lvar_10')
    (try_end)
    (val_mul, ':lvar_1', ':lvar_4')
    (val_div, ':lvar_1', 1000)
    (val_max, ':lvar_1', 1)
    (assign, reg0, ':lvar_1')
game_event_buy_item=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (is_between, ':lvar_0', 74, 130)
      (store_sub, ':lvar_2', ':lvar_0', 74)
      (val_add, ':lvar_2', 262)
      (party_get_slot, ':lvar_3', '$gvar_269', ':lvar_2')
      (try_begin)
        (eq, ':lvar_1', 0)
        (val_add, ':lvar_3', 10)
      (else_try)
        (val_add, ':lvar_3', 15)
      (try_end)
      (val_min, ':lvar_3', 10000)
      (party_set_slot, '$gvar_269', ':lvar_2', ':lvar_3')
    (try_end)
game_event_sell_item=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (is_between, ':lvar_0', 74, 130)
      (store_sub, ':lvar_2', ':lvar_0', 74)
      (val_add, ':lvar_2', 262)
      (party_get_slot, ':lvar_3', '$gvar_269', ':lvar_2')
      (try_begin)
        (eq, ':lvar_1', 0)
        (val_sub, ':lvar_3', 15)
      (else_try)
        (val_sub, ':lvar_3', 10)
      (try_end)
      (val_max, ':lvar_3', 100)
      (party_set_slot, '$gvar_269', ':lvar_2', ':lvar_3')
    (try_end)
game_get_troop_wage=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 0)
    (try_begin)
      (this_or_next|eq, ':lvar_0', 0)
      (eq, ':lvar_0', 214)
    (else_try)
      (is_between, ':lvar_0', 530, 530)
    (else_try)
      (store_character_level, ':lvar_3', ':lvar_0')
      (assign, ':lvar_2', ':lvar_3')
      (val_add, ':lvar_2', 3)
      (val_mul, ':lvar_2', ':lvar_2')
      (val_div, ':lvar_2', 25)
    (try_end)
    (try_begin)
      (troop_is_mounted, ':lvar_0')
      (val_mul, ':lvar_2', 5)
      (val_div, ':lvar_2', 3)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 78)
      (val_mul, ':lvar_2', 2)
    (try_end)
    (val_mul, ':lvar_2', 3)
    (val_div, ':lvar_2', 2)
    (store_skill_level, ':lvar_4', 1, 0)
    (store_mul, ':lvar_5', 5, ':lvar_4')
    (store_sub, ':lvar_6', 100, ':lvar_5')
    (val_mul, ':lvar_2', ':lvar_6')
    (val_div, ':lvar_2', 100)
    (try_begin)
      (neq, ':lvar_0', 0)
      (neq, ':lvar_0', 214)
      (neg|is_between, ':lvar_0', 530, 530)
      (val_max, ':lvar_2', 1)
    (try_end)
    (assign, reg0, ':lvar_2')
    (set_trigger_result, reg0)
game_get_total_wage=>
    (assign, ':lvar_0', 0)
    (party_get_num_companion_stacks, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_size, ':lvar_4', 0, ':lvar_2')
      (call_script, 10, ':lvar_3', 0)
      (val_mul, reg0, ':lvar_4')
      (val_add, ':lvar_0', reg0)
    (try_end)
    (assign, reg0, ':lvar_0')
    (set_trigger_result, reg0)
game_get_join_cost=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
    (else_try)
      (store_character_level, ':lvar_2', ':lvar_0')
      (assign, ':lvar_1', ':lvar_2')
      (val_add, ':lvar_1', 5)
      (val_mul, ':lvar_1', ':lvar_1')
      (val_add, ':lvar_1', 40)
      (val_div, ':lvar_1', 5)
      (try_begin)
        (troop_is_mounted, ':lvar_0')
        (val_mul, ':lvar_1', 3)
        (val_div, ':lvar_1', 2)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 78)
      (val_mul, ':lvar_1', 2)
    (try_end)
    (val_mul, ':lvar_1', 3)
    (val_div, ':lvar_1', 2)
    (assign, reg0, ':lvar_1')
    (set_trigger_result, reg0)
game_get_prisoner_price=>
    (store_script_param_1, ':lvar_0')
    (store_character_level, ':lvar_1', ':lvar_0')
    (store_skill_level, ':lvar_2', 2, 0)
    (val_div, ':lvar_1', 2)
    (val_div, ':lvar_2', 2)
    (val_add, ':lvar_2', 3)
    (store_mul, ':lvar_3', ':lvar_1', ':lvar_2')
    (val_mul, ':lvar_3', 2)
    (assign, reg0, ':lvar_3')
    (try_begin)
      (is_between, '$gvar_15', 349, 359)
      (store_character_level, ':lvar_1', ':lvar_0')
      (assign, ':lvar_4', ':lvar_1')
      (val_add, ':lvar_4', 10)
      (val_mul, ':lvar_4', ':lvar_4')
      (val_div, ':lvar_4', 6)
    (try_end)
    (set_trigger_result, reg0)
game_check_prisoner_can_be_sold=>
    (store_script_param_1, ':lvar_0')
    (assign, reg0, 0)
    (try_begin)
      (neg|troop_is_hero, ':lvar_0')
      (assign, reg0, 1)
    (try_end)
    (set_trigger_result, reg0)
game_event_detect_party=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 13)
      (party_stack_get_troop_id, ':lvar_1', ':lvar_0', 0)
      (is_between, ':lvar_1', 405, 530)
      (call_script, 280, ':lvar_1', 0)
    (else_try)
      (is_between, ':lvar_0', 46, 114)
      (party_get_num_attached_parties, ':lvar_2', ':lvar_0')
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (party_get_attached_party_with_rank, ':lvar_4', ':lvar_0', ':lvar_3')
        (party_stack_get_troop_id, ':lvar_1', ':lvar_4', 0)
        (is_between, ':lvar_1', 405, 530)
        (call_script, 280, ':lvar_1', 0)
      (try_end)
    (try_end)
game_event_undetect_party=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 13)
      (party_stack_get_troop_id, ':lvar_1', ':lvar_0', 0)
      (is_between, ':lvar_1', 405, 530)
      (call_script, 280, ':lvar_1', 0)
    (try_end)
game_get_statistics_line=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (eq, ':lvar_0', 0)
      (get_player_agent_kill_count, reg1)
      (str_store_string, 1, 216172782113784164)
      (set_result_string, 1)
    (else_try)
      (eq, ':lvar_0', 1)
      (get_player_agent_kill_count, reg1, 1)
      (str_store_string, 1, 216172782113784165)
      (set_result_string, 1)
    (else_try)
      (eq, ':lvar_0', 2)
      (get_player_agent_own_troop_kill_count, reg1)
      (str_store_string, 1, 216172782113784166)
      (set_result_string, 1)
    (else_try)
      (eq, ':lvar_0', 3)
      (get_player_agent_own_troop_kill_count, reg1, 1)
      (str_store_string, 1, 216172782113784167)
      (set_result_string, 1)
    (try_end)
game_get_date_text=>
    (store_script_param_2, ':lvar_0')
    (store_div, ':lvar_1', ':lvar_0', 24)
    (store_add, ':lvar_2', ':lvar_1', 1)
    (assign, ':lvar_3', 1)
    (assign, ':lvar_4', 1)
    (assign, ':lvar_5', 99999)
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (try_begin)
        (assign, ':lvar_7', 35)
      (try_end)
      (try_begin)
        (gt, ':lvar_2', ':lvar_7')
        (val_sub, ':lvar_2', ':lvar_7')
        (val_add, ':lvar_3', 1)
        (try_begin)
          (gt, ':lvar_3', 10)
          (val_sub, ':lvar_3', 10)
          (val_add, ':lvar_4', 1)
        (try_end)
      (else_try)
        (assign, ':lvar_5', 0)
      (try_end)
    (try_end)
    (assign, reg1, ':lvar_2')
    (assign, reg2, ':lvar_4')
    (try_begin)
      (eq, ':lvar_3', 1)
      (str_store_string, 1, 216172782113783927)
    (else_try)
      (eq, ':lvar_3', 2)
      (str_store_string, 1, 216172782113783928)
    (else_try)
      (eq, ':lvar_3', 3)
      (str_store_string, 1, 216172782113783929)
    (else_try)
      (eq, ':lvar_3', 4)
      (str_store_string, 1, 216172782113783930)
    (else_try)
      (eq, ':lvar_3', 5)
      (str_store_string, 1, 216172782113783931)
    (else_try)
      (eq, ':lvar_3', 6)
      (str_store_string, 1, 216172782113783932)
    (else_try)
      (eq, ':lvar_3', 7)
      (str_store_string, 1, 216172782113783933)
    (else_try)
      (eq, ':lvar_3', 8)
      (str_store_string, 1, 216172782113783934)
    (else_try)
      (eq, ':lvar_3', 9)
      (str_store_string, 1, 216172782113783935)
    (else_try)
      (eq, ':lvar_3', 10)
      (str_store_string, 1, 216172782113783936)
    (try_end)
    (set_result_string, 1)
game_get_money_text=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (eq, ':lvar_0', 1)
      (str_store_string, 1, 216172782113783925)
    (else_try)
      (assign, reg1, ':lvar_0')
      (str_store_string, 1, 216172782113783926)
    (try_end)
    (set_result_string, 1)
game_get_party_companion_limit=>
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', 10)
    (store_skill_level, ':lvar_2', 1, ':lvar_0')
    (store_attribute_level, ':lvar_3', ':lvar_0', 3)
    (val_mul, ':lvar_2', 5)
    (val_add, ':lvar_1', ':lvar_2')
    (val_add, ':lvar_1', ':lvar_3')
    (troop_get_slot, ':lvar_4', ':lvar_0', 7)
    (store_div, ':lvar_5', ':lvar_4', 25)
    (val_add, ':lvar_1', ':lvar_5')
    (assign, reg0, ':lvar_1')
    (set_trigger_result, reg0)
game_reset_player_party_name=>
    (str_store_troop_name, 5, 0)
    (party_set_name, 0, 5)
party_get_ideal_size=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 30)
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 13)
      (party_stack_get_troop_id, ':lvar_2', ':lvar_0', 0)
      (store_faction_of_party, ':lvar_3', ':lvar_0')
      (assign, ':lvar_1', 10)
      (store_skill_level, ':lvar_4', 1, ':lvar_2')
      (store_attribute_level, ':lvar_5', ':lvar_2', 3)
      (val_mul, ':lvar_4', 5)
      (val_add, ':lvar_1', ':lvar_4')
      (val_add, ':lvar_1', ':lvar_5')
      (troop_get_slot, ':lvar_6', ':lvar_2', 7)
      (store_div, ':lvar_7', ':lvar_6', 25)
      (val_add, ':lvar_1', ':lvar_7')
      (try_begin)
        (faction_slot_eq, ':lvar_3', 10, ':lvar_2')
        (val_add, ':lvar_1', 100)
      (try_end)
    (try_end)
    (store_character_level, ':lvar_8', 0)
    (store_add, ':lvar_9', 90, ':lvar_8')
    (val_mul, ':lvar_1', ':lvar_9')
    (val_div, ':lvar_1', 90)
    (assign, reg0, ':lvar_1')
game_get_party_prisoner_limit=>
    (assign, ':lvar_0', 0)
    (party_get_skill_level, ':lvar_1', 0, 2)
    (store_mul, ':lvar_0', ':lvar_1', 5)
    (assign, reg0, ':lvar_0')
    (set_trigger_result, reg0)
game_get_item_extra_text=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (try_begin)
      (is_between, ':lvar_0', 74, 109)
      (try_begin)
        (eq, ':lvar_1', 0)
        (assign, ':lvar_3', 1)
        (try_begin)
          (eq, ':lvar_0', 76)
          (eq, ':lvar_2', 41)
          (assign, ':lvar_3', 0)
        (try_end)
        (eq, ':lvar_3', 1)
        (item_get_slot, ':lvar_4', ':lvar_0', 1)
        (assign, reg1, ':lvar_4')
        (set_result_string, '@qstr_194')
        (set_trigger_result, 4474111)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 59, 66)
      (try_begin)
        (eq, ':lvar_1', 0)
        (item_get_slot, reg1, ':lvar_0', 4)
        (set_result_string, '@qstr_195')
        (set_trigger_result, 16772829)
      (else_try)
        (eq, ':lvar_1', 1)
        (item_get_slot, ':lvar_5', ':lvar_0', 2)
        (val_div, ':lvar_5', 10)
        (assign, reg1, ':lvar_5')
        (set_result_string, '@qstr_196')
        (set_trigger_result, 16772829)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 66, 74)
      (try_begin)
        (eq, ':lvar_1', 0)
        (try_begin)
          (eq, ':lvar_0', 66)
          (str_store_string, 1, '@qstr_197')
        (else_try)
          (eq, ':lvar_0', 68)
          (str_store_string, 1, '@qstr_198')
        (else_try)
          (eq, ':lvar_0', 67)
          (str_store_string, 1, '@qstr_199')
        (else_try)
          (eq, ':lvar_0', 70)
          (str_store_string, 1, '@qstr_200')
        (else_try)
          (eq, ':lvar_0', 71)
          (str_store_string, 1, '@qstr_201')
        (else_try)
          (eq, ':lvar_0', 72)
          (str_store_string, 1, '@qstr_202')
        (else_try)
          (eq, ':lvar_0', 73)
          (str_store_string, 1, '@qstr_203')
        (else_try)
          (eq, ':lvar_0', 69)
          (str_store_string, 1, '@qstr_204')
        (try_end)
        (set_result_string, '@qstr_205')
        (set_trigger_result, 65407)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 561)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_206')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 565)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_206')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 232)
      (eq, ':lvar_0', 231)
      (eq, ':lvar_1', 0)
      (call_script, 434, '$gvar_551')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_207')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 230)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_208')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 233)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_209')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 234)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_210')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 204)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_211')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 116)
      (eq, ':lvar_1', 0)
      (call_script, 434, '$gvar_553')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_212')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 117)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_213')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 266)
      (this_or_next|eq, ':lvar_0', 270)
      (this_or_next|eq, ':lvar_0', 281)
      (this_or_next|eq, ':lvar_0', 282)
      (this_or_next|eq, ':lvar_0', 260)
      (this_or_next|eq, ':lvar_0', 233)
      (this_or_next|eq, ':lvar_0', 234)
      (this_or_next|eq, ':lvar_0', 573)
      (this_or_next|eq, ':lvar_0', 247)
      (this_or_next|eq, ':lvar_0', 261)
      (this_or_next|eq, ':lvar_0', 576)
      (this_or_next|eq, ':lvar_0', 250)
      (this_or_next|eq, ':lvar_0', 476)
      (this_or_next|eq, ':lvar_0', 714)
      (this_or_next|eq, ':lvar_0', 589)
      (this_or_next|eq, ':lvar_0', 262)
      (this_or_next|eq, ':lvar_0', 301)
      (this_or_next|eq, ':lvar_0', 302)
      (this_or_next|eq, ':lvar_0', 246)
      (this_or_next|eq, ':lvar_0', 244)
      (this_or_next|eq, ':lvar_0', 273)
      (this_or_next|eq, ':lvar_0', 274)
      (this_or_next|eq, ':lvar_0', 275)
      (this_or_next|eq, ':lvar_0', 276)
      (this_or_next|eq, ':lvar_0', 277)
      (this_or_next|eq, ':lvar_0', 278)
      (this_or_next|eq, ':lvar_0', 279)
      (this_or_next|eq, ':lvar_0', 280)
      (this_or_next|eq, ':lvar_0', 544)
      (this_or_next|eq, ':lvar_0', 550)
      (this_or_next|eq, ':lvar_0', 554)
      (this_or_next|eq, ':lvar_0', 559)
      (this_or_next|eq, ':lvar_0', 560)
      (this_or_next|eq, ':lvar_0', 564)
      (this_or_next|eq, ':lvar_0', 570)
      (eq, ':lvar_0', 725)
      (eq, ':lvar_1', 0)
      (call_script, 434, '$gvar_551')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_214')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 600)
      (this_or_next|eq, ':lvar_0', 601)
      (this_or_next|eq, ':lvar_0', 602)
      (this_or_next|eq, ':lvar_0', 603)
      (this_or_next|eq, ':lvar_0', 604)
      (this_or_next|eq, ':lvar_0', 605)
      (this_or_next|eq, ':lvar_0', 740)
      (this_or_next|eq, ':lvar_0', 741)
      (this_or_next|eq, ':lvar_0', 742)
      (this_or_next|eq, ':lvar_0', 743)
      (this_or_next|eq, ':lvar_0', 744)
      (this_or_next|eq, ':lvar_0', 745)
      (this_or_next|eq, ':lvar_0', 630)
      (this_or_next|eq, ':lvar_0', 631)
      (this_or_next|eq, ':lvar_0', 632)
      (this_or_next|eq, ':lvar_0', 633)
      (this_or_next|eq, ':lvar_0', 634)
      (this_or_next|eq, ':lvar_0', 635)
      (this_or_next|eq, ':lvar_0', 746)
      (this_or_next|eq, ':lvar_0', 747)
      (this_or_next|eq, ':lvar_0', 748)
      (this_or_next|eq, ':lvar_0', 749)
      (this_or_next|eq, ':lvar_0', 750)
      (this_or_next|eq, ':lvar_0', 751)
      (this_or_next|eq, ':lvar_0', 666)
      (this_or_next|eq, ':lvar_0', 753)
      (this_or_next|eq, ':lvar_0', 645)
      (eq, ':lvar_0', 191)
      (eq, ':lvar_1', 0)
      (call_script, 434, '$gvar_550')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_215')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 830)
      (eq, ':lvar_0', 119)
      (eq, ':lvar_1', 0)
      (call_script, 434, '$gvar_552')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_216')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 491)
      (this_or_next|eq, ':lvar_0', 492)
      (eq, ':lvar_0', 493)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_217')
      (set_trigger_result, 65407)
    (else_try)
      (eq, ':lvar_0', 494)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_218')
      (set_trigger_result, 65407)
    (else_try)
      (this_or_next|eq, ':lvar_0', 798)
      (eq, ':lvar_0', 799)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_219')
      (set_trigger_result, 16777215)
    (else_try)
      (eq, ':lvar_0', 895)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_220')
      (set_trigger_result, 13486848)
    (else_try)
      (is_between, ':lvar_0', 831, 887)
      (item_set_slot, 832, 7, 30)
      (item_set_slot, 833, 7, 30)
      (item_set_slot, 834, 7, 30)
      (item_set_slot, 835, 7, 30)
      (item_set_slot, 836, 7, 30)
      (item_set_slot, 837, 7, 30)
      (item_set_slot, 838, 7, 30)
      (item_set_slot, 839, 7, 30)
      (item_set_slot, 840, 7, 6)
      (item_set_slot, 841, 7, 6)
      (item_set_slot, 842, 7, 30)
      (item_set_slot, 843, 7, 5)
      (item_set_slot, 844, 7, 500)
      (item_set_slot, 845, 7, 500)
      (item_set_slot, 846, 7, 500)
      (item_set_slot, 847, 7, 8)
      (item_set_slot, 848, 7, 12)
      (item_set_slot, 849, 7, 100)
      (item_set_slot, 850, 7, 16)
      (item_set_slot, 851, 7, 30)
      (item_set_slot, 852, 7, 30)
      (item_set_slot, 853, 7, 500)
      (item_set_slot, 854, 7, 500)
      (item_set_slot, 855, 7, 100)
      (item_set_slot, 856, 7, 100)
      (item_set_slot, 857, 7, 100)
      (item_set_slot, 858, 7, 35)
      (item_set_slot, 859, 7, 10)
      (item_set_slot, 860, 7, 15)
      (item_set_slot, 861, 7, 50)
      (item_set_slot, 862, 7, 30)
      (item_set_slot, 863, 7, 14)
      (item_set_slot, 864, 7, 10)
      (item_set_slot, 865, 7, 10)
      (item_set_slot, 866, 7, 500)
      (item_set_slot, 868, 7, 16)
      (item_set_slot, 867, 7, 500)
      (item_set_slot, 869, 7, 25)
      (item_set_slot, 870, 7, 25)
      (item_set_slot, 871, 7, 25)
      (item_set_slot, 872, 7, 6)
      (item_set_slot, 873, 7, 6)
      (item_set_slot, 874, 7, 100)
      (item_set_slot, 875, 7, 100)
      (item_set_slot, 876, 7, 14)
      (item_set_slot, 877, 7, 100)
      (item_set_slot, 878, 7, 10)
      (item_set_slot, 879, 7, 100)
      (item_set_slot, 880, 7, 20)
      (item_set_slot, 881, 7, 20)
      (item_set_slot, 882, 7, 15)
      (item_set_slot, 883, 7, 10)
      (item_set_slot, 884, 7, 24)
      (item_set_slot, 885, 7, 400)
      (eq, ':lvar_1', 0)
      (item_get_slot, ':lvar_6', ':lvar_0', 7)
      (assign, reg1, ':lvar_6')
      (set_result_string, '@qstr_221')
      (set_trigger_result, 16737792)
      (str_clear, 1)
    (else_try)
      (this_or_next|eq, ':lvar_0', 855)
      (this_or_next|eq, ':lvar_0', 856)
      (this_or_next|eq, ':lvar_0', 832)
      (this_or_next|eq, ':lvar_0', 833)
      (this_or_next|eq, ':lvar_0', 835)
      (this_or_next|eq, ':lvar_0', 836)
      (this_or_next|eq, ':lvar_0', 844)
      (eq, ':lvar_0', 845)
      (eq, ':lvar_1', 1)
      (call_script, 434, '$gvar_550')
      (str_store_string, 1, 13)
      (set_result_string, '@qstr_222')
      (set_trigger_result, 65407)
    (else_try)
      (is_between, ':lvar_0', 800, 810)
      (try_begin)
        (eq, ':lvar_1', 0)
        (set_result_string, '@qstr_223')
        (set_trigger_result, 16777215)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 810, 820)
      (try_begin)
        (eq, ':lvar_1', 0)
        (set_result_string, '@qstr_224')
        (set_trigger_result, 16777215)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 778, 793)
      (try_begin)
        (eq, ':lvar_1', 0)
        (le, '$gvar_171', 0)
        (set_result_string, '@qstr_225')
        (set_trigger_result, 65407)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 822, 830)
      (try_begin)
        (eq, ':lvar_1', 0)
        (set_result_string, '@qstr_226')
        (set_trigger_result, 16777215)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_0', 798)
      (eq, ':lvar_0', 799)
      (eq, ':lvar_1', 0)
      (set_result_string, '@qstr_219')
      (set_trigger_result, 16777215)
    (try_end)
game_on_disembark=>
    (jump_to_menu, 138)
game_context_menu_get_buttons=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (neq, ':lvar_0', 0)
      (context_menu_add_item, '@qstr_227', -7)
    (try_end)
    (try_begin)
      (is_between, ':lvar_0', 46, 204)
      (context_menu_add_item, '@qstr_228', 1)
    (else_try)
      (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
      (gt, ':lvar_1', 0)
      (party_stack_get_troop_id, ':lvar_2', ':lvar_0', 0)
      (is_between, ':lvar_2', 405, 530)
      (context_menu_add_item, '@qstr_228', 2)
    (try_end)
game_event_context_menu_button_clicked=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_begin)
      (eq, ':lvar_1', 1)
      (change_screen_notes, 3, ':lvar_0')
    (else_try)
      (eq, ':lvar_1', 2)
      (party_stack_get_troop_id, ':lvar_2', ':lvar_0', 0)
      (change_screen_notes, 1, ':lvar_2')
    (try_end)
game_get_skill_modifier_for_troop=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (troop_get_slot, ':lvar_3', ':lvar_0', 300)
    (try_begin)
      (gt, ':lvar_3', 0)
      (troop_get_slot, ':lvar_4', ':lvar_0', 301)
      (troop_get_slot, ':lvar_5', ':lvar_0', 303)
      (troop_get_slot, ':lvar_6', ':lvar_0', 305)
      (troop_get_slot, ':lvar_7', ':lvar_0', 307)
      (troop_get_slot, ':lvar_8', ':lvar_0', 309)
      (troop_get_slot, ':lvar_9', ':lvar_0', 311)
      (troop_get_slot, ':lvar_10', ':lvar_0', 313)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 11)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_7', 0)
        (val_add, ':lvar_2', ':lvar_7')
      (try_end)
      (call_script, 306, ':lvar_0', 66)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 15)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_8', 0)
        (val_add, ':lvar_2', ':lvar_8')
      (try_end)
      (call_script, 306, ':lvar_0', 68)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 9)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_7', 0)
        (val_add, ':lvar_2', ':lvar_7')
      (try_end)
      (call_script, 306, ':lvar_0', 67)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 36)
      (call_script, 306, ':lvar_0', 70)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 23)
      (call_script, 306, ':lvar_0', 71)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 0)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_9', 0)
        (val_add, ':lvar_2', ':lvar_9')
      (try_end)
      (call_script, 306, ':lvar_0', 69)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 17)
      (call_script, 306, ':lvar_0', 72)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 10)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_7', 0)
        (val_add, ':lvar_2', ':lvar_7')
      (try_end)
      (call_script, 306, ':lvar_0', 73)
      (gt, reg0, 0)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 36)
      (troop_get_inventory_slot, ':lvar_11', ':lvar_0', 5)
      (eq, ':lvar_11', 561)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 36)
      (troop_get_inventory_slot, ':lvar_11', ':lvar_0', 5)
      (eq, ':lvar_11', 565)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 23)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 4)
      (eq, ':lvar_12', 231)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 8)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 4)
      (eq, ':lvar_12', 230)
      (val_add, ':lvar_2', 2)
    (else_try)
      (eq, ':lvar_1', 23)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 4)
      (eq, ':lvar_12', 232)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 15)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 4)
      (eq, ':lvar_12', 233)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 1)
      (try_begin)
        (gt, ':lvar_3', 0)
        (gt, ':lvar_4', 0)
        (val_add, ':lvar_2', ':lvar_4')
      (try_end)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 4)
      (eq, ':lvar_12', 234)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 35)
      (troop_get_inventory_slot, ':lvar_12', ':lvar_0', 7)
      (eq, ':lvar_12', 204)
      (val_add, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 13)
      (gt, ':lvar_3', 0)
      (gt, ':lvar_10', 0)
      (val_add, ':lvar_2', ':lvar_10')
    (else_try)
      (eq, ':lvar_1', 12)
      (gt, ':lvar_3', 0)
      (gt, ':lvar_6', 0)
      (val_add, ':lvar_2', ':lvar_6')
    (else_try)
      (eq, ':lvar_1', 2)
      (gt, ':lvar_3', 0)
      (gt, ':lvar_5', 0)
      (val_add, ':lvar_2', ':lvar_5')
    (try_end)
    (set_trigger_result, ':lvar_2')
game_get_party_speed_multiplier=>
    (store_script_param, ':lvar_0', 1)
    (party_stack_get_troop_id, ':lvar_1', ':lvar_0', 0)
    (party_get_template_id, ':lvar_2', ':lvar_0')
    (try_begin)
      (party_stack_get_troop_id, ':lvar_1', ':lvar_0', 0)
      (this_or_next|is_between, ':lvar_1', 196, 211)
      (eq, ':lvar_2', 12)
      (assign, ':lvar_3', 80)
    (else_try)
      (eq, ':lvar_2', 13)
      (party_get_slot, ':lvar_4', ':lvar_0', 123)
      (party_get_slot, ':lvar_5', ':lvar_4', 800)
      (try_begin)
        (eq, ':lvar_5', 1)
        (assign, ':lvar_3', 105)
      (else_try)
        (eq, ':lvar_5', 2)
        (assign, ':lvar_3', 100)
      (else_try)
        (eq, ':lvar_5', 3)
        (assign, ':lvar_3', 110)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_2', 14)
      (this_or_next|eq, ':lvar_2', 15)
      (eq, ':lvar_2', 31)
      (assign, ':lvar_3', 60)
    (else_try)
      (eq, ':lvar_1', 0)
      (troop_get_slot, ':lvar_6', 0, 300)
      (troop_get_slot, ':lvar_7', 0, 315)
      (assign, ':lvar_8', 0)
      (try_begin)
        (eq, ':lvar_6', 0)
        (assign, ':lvar_3', 70)
        (assign, ':lvar_8', 1)
      (else_try)
        (party_get_slot, ':lvar_3', ':lvar_6', 255)
      (try_end)
      (try_begin)
        (neq, ':lvar_8', 1)
        (store_mul, ':lvar_9', ':lvar_7', 10)
        (val_add, ':lvar_9', 100)
        (val_mul, ':lvar_3', ':lvar_9')
        (val_div, ':lvar_3', 100)
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (try_begin)
          (le, '$gvar_176', 0)
          (assign, '$gvar_176', 1)
        (try_end)
        (val_mul, ':lvar_3', '$gvar_176')
      (try_end)
    (else_try)
      (assign, ':lvar_3', 100)
    (try_end)
    (try_begin)
      (is_currently_night)
      (val_mul, ':lvar_3', 333)
      (val_div, ':lvar_3', 100)
    (else_try)
      (val_mul, ':lvar_3', 2)
    (try_end)
    (val_clamp, ':lvar_3', 0, 600)
    (set_trigger_result, ':lvar_3')
npc_get_troop_wage=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
    (else_try)
      (store_character_level, ':lvar_1', ':lvar_0')
      (val_mul, ':lvar_1', ':lvar_1')
      (val_add, ':lvar_1', 50)
      (val_div, ':lvar_1', 30)
      (troop_is_mounted, ':lvar_0')
      (val_mul, ':lvar_1', 5)
      (val_div, ':lvar_1', 4)
    (try_end)
    (assign, reg0, ':lvar_1')
setup_talk_info=>
    (talk_info_set_relation_bar, '$gvar_19')
    (str_store_troop_name, 61, '$gvar_15')
    (str_store_string, 61, '@qstr_229')
    (assign, reg1, '$gvar_19')
    (str_store_string, 62, 216172782113784032)
    (talk_info_set_line, 0, 61)
    (talk_info_set_line, 1, 62)
    (call_script, 222, '$gvar_19')
    (talk_info_set_line, 3, 63)
setup_talk_info_companions=>
    (call_script, 317, '$gvar_15')
    (assign, ':lvar_0', reg0)
    (talk_info_set_relation_bar, ':lvar_0')
    (str_store_troop_name, 61, '$gvar_15')
    (str_store_string, 61, '@qstr_229')
    (assign, reg1, ':lvar_0')
    (str_store_string, 62, 216172782113784209)
    (talk_info_set_line, 0, 61)
    (talk_info_set_line, 1, 62)
    (talk_info_set_line, 3, 63)
update_party_creation_random_limits=>
    (store_character_level, ':lvar_0', 0)
    (store_mul, ':lvar_1', ':lvar_0', 3)
    (val_add, ':lvar_1', 25)
    (val_min, ':lvar_1', 100)
    (set_party_creation_random_limits, 0, ':lvar_1')
    (assign, reg0, ':lvar_1')
set_trade_route_between_centers=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 190, 205)
      (try_begin)
        (eq, ':lvar_2', 0)
        (party_slot_eq, ':lvar_0', ':lvar_4', 0)
        (party_set_slot, ':lvar_0', ':lvar_4', ':lvar_1')
        (assign, ':lvar_2', 1)
      (try_end)
      (try_begin)
        (eq, ':lvar_3', 0)
        (party_slot_eq, ':lvar_1', ':lvar_4', 0)
        (party_set_slot, ':lvar_1', ':lvar_4', ':lvar_0')
        (assign, ':lvar_3', 1)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 0)
      (str_store_party_name, 1, ':lvar_0')
      (display_message, '@qstr_230')
    (try_end)
    (try_begin)
      (eq, ':lvar_3', 0)
      (str_store_party_name, 1, ':lvar_1')
      (display_message, '@qstr_230')
    (try_end)
center_change_trade_good_production=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_random_in_range, ':lvar_4', 0, ':lvar_3')
    (store_random_in_range, ':lvar_5', 0, 2)
    (try_begin)
      (eq, ':lvar_5', 0)
      (val_add, ':lvar_2', ':lvar_4')
    (else_try)
      (val_sub, ':lvar_2', ':lvar_4')
    (try_end)
    (val_sub, ':lvar_1', 74)
    (val_add, ':lvar_1', 205)
    (party_get_slot, ':lvar_6', ':lvar_0', ':lvar_1')
    (val_add, ':lvar_2', ':lvar_6')
    (party_set_slot, ':lvar_0', ':lvar_1', ':lvar_2')
average_trade_good_productions=>
    (store_sub, ':lvar_0', 205, 74)
    (try_for_range, ':lvar_1', 46, 73)
      (this_or_next|is_between, ':lvar_1', 46, 73)
      (is_between, ':lvar_1', 114, 204)
      (try_for_range, ':lvar_2', 46, 204)
        (this_or_next|is_between, ':lvar_1', 46, 73)
        (is_between, ':lvar_1', 114, 204)
        (neq, ':lvar_2', ':lvar_1')
        (store_distance_to_party_from_party, ':lvar_3', ':lvar_1', ':lvar_2')
        (lt, ':lvar_3', 110)
        (store_sub, ':lvar_4', 110, ':lvar_3')
        (try_for_range, ':lvar_5', 74, 130)
          (store_add, ':lvar_6', ':lvar_5', ':lvar_0')
          (party_get_slot, ':lvar_7', ':lvar_1', ':lvar_6')
          (party_get_slot, ':lvar_8', ':lvar_2', ':lvar_6')
          (store_sub, ':lvar_9', ':lvar_7', ':lvar_8')
          (gt, ':lvar_9', 0)
          (store_mul, ':lvar_10', ':lvar_9', 1)
          (val_mul, ':lvar_10', ':lvar_4')
          (val_div, ':lvar_10', 110)
          (val_add, ':lvar_8', ':lvar_10')
          (party_set_slot, ':lvar_2', ':lvar_6', ':lvar_8')
        (try_end)
      (try_end)
    (try_end)
normalize_trade_good_productions=>
    (store_sub, ':lvar_0', 205, 74)
    (try_for_range, ':lvar_1', 74, 130)
      (assign, ':lvar_2', 0)
      (assign, ':lvar_3', 0)
      (store_add, ':lvar_4', ':lvar_1', ':lvar_0')
      (try_for_range, ':lvar_5', 46, 204)
        (val_add, ':lvar_3', 1)
        (try_begin)
          (is_between, ':lvar_5', 46, 73)
          (val_add, ':lvar_3', 4)
        (try_end)
        (party_get_slot, ':lvar_6', ':lvar_5', ':lvar_4')
        (val_add, ':lvar_2', ':lvar_6')
      (try_end)
      (store_div, ':lvar_7', ':lvar_2', ':lvar_3')
      (neq, ':lvar_7', 0)
      (try_for_range, ':lvar_5', 46, 204)
        (this_or_next|is_between, ':lvar_5', 46, 73)
        (is_between, ':lvar_5', 114, 204)
        (party_get_slot, ':lvar_6', ':lvar_5', ':lvar_4')
        (val_sub, ':lvar_6', ':lvar_7')
        (party_set_slot, ':lvar_5', ':lvar_4', ':lvar_6')
      (try_end)
    (try_end)
update_trade_good_prices=>
    (try_for_range, ':lvar_0', 46, 204)
      (this_or_next|is_between, ':lvar_0', 46, 73)
      (is_between, ':lvar_0', 114, 204)
      (call_script, 39, ':lvar_0')
    (try_end)
update_trade_good_price_for_party=>
    (store_script_param, ':lvar_0', 1)
    (try_for_range, ':lvar_1', 74, 130)
      (store_sub, ':lvar_2', ':lvar_1', 74)
      (val_add, ':lvar_2', 205)
      (store_sub, ':lvar_3', ':lvar_1', 74)
      (val_add, ':lvar_3', 262)
      (party_get_slot, ':lvar_4', ':lvar_0', ':lvar_2')
      (party_get_slot, ':lvar_5', ':lvar_0', ':lvar_3')
      (try_begin)
        (lt, ':lvar_4', 0)
        (store_mul, ':lvar_6', ':lvar_4', -3)
      (else_try)
        (store_mul, ':lvar_6', ':lvar_4', 3)
      (try_end)
      (store_random_in_range, ':lvar_7', 0, ':lvar_6')
      (try_begin)
        (lt, ':lvar_4', 0)
        (val_add, ':lvar_5', ':lvar_7')
      (else_try)
        (val_sub, ':lvar_5', ':lvar_7')
      (try_end)
      (store_sub, ':lvar_8', ':lvar_5', 1000)
      (val_mul, ':lvar_8', 97)
      (val_div, ':lvar_8', 100)
      (store_add, ':lvar_9', 1000, ':lvar_8')
      (val_clamp, ':lvar_9', 100, 10000)
      (party_set_slot, ':lvar_0', ':lvar_3', ':lvar_9')
    (try_end)
do_merchant_town_trade=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (call_script, 255, ':lvar_0', ':lvar_1', 20)
    (assign, ':lvar_2', reg0)
    (val_div, ':lvar_2', 2)
    (str_store_party_name, 1, ':lvar_0')
    (str_store_party_name, 2, ':lvar_1')
    (assign, reg1, ':lvar_2')
    (party_get_slot, ':lvar_3', ':lvar_1', 48)
    (party_get_slot, ':lvar_4', ':lvar_1', 50)
    (store_add, ':lvar_5', ':lvar_4', 10)
    (val_mul, ':lvar_5', ':lvar_2')
    (val_div, ':lvar_5', 2200)
    (val_add, ':lvar_3', ':lvar_5')
    (party_set_slot, ':lvar_1', 48, ':lvar_3')
    (try_begin)
      (store_random_in_range, ':lvar_6', 0, 100)
      (lt, ':lvar_6', 35)
      (call_script, 308, ':lvar_1', 1)
    (try_end)
party_calculate_regular_strength=>
    (store_script_param_1, ':lvar_0')
    (assign, reg0, 0)
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (neg|troop_is_hero, ':lvar_3')
      (store_character_level, ':lvar_4', ':lvar_3')
      (val_add, ':lvar_4', 12)
      (val_mul, ':lvar_4', ':lvar_4')
      (val_div, ':lvar_4', 100)
      (party_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_2')
      (party_stack_get_num_wounded, ':lvar_6', ':lvar_0', ':lvar_2')
      (val_sub, ':lvar_5', ':lvar_6')
      (val_mul, ':lvar_4', ':lvar_5')
      (val_add, reg0, ':lvar_4')
    (try_end)
party_calculate_strength=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, reg0, 0)
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (assign, ':lvar_3', 0)
    (try_begin)
      (neq, ':lvar_1', 0)
      (assign, ':lvar_3', 1)
    (try_end)
    (try_for_range, ':lvar_4', ':lvar_3', ':lvar_2')
      (party_stack_get_troop_id, ':lvar_5', ':lvar_0', ':lvar_4')
      (store_character_level, ':lvar_6', ':lvar_5')
      (val_add, ':lvar_6', 12)
      (val_mul, ':lvar_6', ':lvar_6')
      (val_div, ':lvar_6', 100)
      (try_begin)
        (neg|troop_is_hero, ':lvar_5')
        (party_stack_get_size, ':lvar_7', ':lvar_0', ':lvar_4')
        (party_stack_get_num_wounded, ':lvar_8', ':lvar_0', ':lvar_4')
        (val_sub, ':lvar_7', ':lvar_8')
        (val_mul, ':lvar_6', ':lvar_7')
      (else_try)
        (troop_is_wounded, ':lvar_5')
        (assign, ':lvar_6', 0)
      (try_end)
      (val_add, reg0, ':lvar_6')
    (try_end)
    (party_set_slot, ':lvar_0', 56, reg0)
loot_player_items=>
    (store_script_param, ':lvar_0', 1)
    (troop_get_inventory_capacity, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (troop_get_inventory_slot, ':lvar_3', 0, ':lvar_2')
      (ge, ':lvar_3', 0)
      (troop_get_inventory_slot_modifier, ':lvar_4', 0, ':lvar_2')
      (try_begin)
        (is_between, ':lvar_3', 74, 130)
        (assign, ':lvar_5', 20)
      (else_try)
        (is_between, ':lvar_3', 899, 908)
        (assign, ':lvar_5', 15)
      (else_try)
        (this_or_next|is_between, ':lvar_3', 599, 677)
        (is_between, ':lvar_3', 831, 887)
        (assign, ':lvar_5', 5)
      (else_try)
        (this_or_next|is_between, ':lvar_3', 197, 594)
        (is_between, ':lvar_3', 758, 788)
        (assign, ':lvar_5', 5)
      (try_end)
      (store_random_in_range, ':lvar_6', 0, 100)
      (lt, ':lvar_6', ':lvar_5')
      (troop_remove_item, 0, ':lvar_3')
      (try_begin)
        (gt, ':lvar_0', 0)
        (party_get_slot, ':lvar_7', ':lvar_0', 109)
        (val_add, ':lvar_7', 110)
        (party_set_slot, ':lvar_0', ':lvar_7', ':lvar_3')
        (val_sub, ':lvar_7', 110)
        (val_add, ':lvar_7', 115)
        (party_set_slot, ':lvar_0', ':lvar_7', ':lvar_4')
        (val_sub, ':lvar_7', 115)
        (val_add, ':lvar_7', 1)
        (val_mod, ':lvar_7', 5)
        (party_set_slot, ':lvar_0', 109, ':lvar_7')
      (try_end)
    (try_end)
    (store_troop_gold, ':lvar_8', 0)
    (store_div, ':lvar_9', ':lvar_8', 4)
    (store_div, ':lvar_10', ':lvar_8', 10)
    (store_random_in_range, ':lvar_11', ':lvar_10', ':lvar_9')
    (troop_remove_gold, 0, ':lvar_11')
party_calculate_loot=>
    (store_script_param_1, ':lvar_0')
    (call_script, 45)
    (assign, ':lvar_1', reg0)
    (try_for_range, ':lvar_2', 0, 5)
      (store_add, ':lvar_3', ':lvar_2', 110)
      (party_get_slot, ':lvar_4', '$gvar_181', ':lvar_3')
      (gt, ':lvar_4', 0)
      (party_set_slot, '$gvar_181', ':lvar_3', 0)
      (val_sub, ':lvar_3', 110)
      (val_add, ':lvar_3', 115)
      (party_get_slot, ':lvar_5', '$gvar_181', ':lvar_3')
      (troop_add_item, 1, ':lvar_4', ':lvar_5')
    (try_end)
    (party_set_slot, '$gvar_181', 109, 0)
    (assign, ':lvar_6', 0)
    (try_begin)
      (this_or_next|party_slot_eq, '$gvar_181', 0, 11)
      (party_slot_eq, '$gvar_181', 0, 15)
      (store_mul, ':lvar_7', 10, 30)
      (val_mul, ':lvar_7', '$gvar_250')
      (val_div, ':lvar_7', 100)
      (val_div, ':lvar_7', ':lvar_1')
      (try_begin)
        (party_slot_eq, '$gvar_181', 0, 11)
        (reset_item_probabilities, 100)
        (assign, ':lvar_8', 74)
        (assign, ':lvar_9', 130)
      (else_try)
        (val_div, ':lvar_7', 5)
        (reset_item_probabilities, 1)
        (assign, ':lvar_8', 74)
        (assign, ':lvar_9', 109)
      (try_end)
      (store_sub, ':lvar_10', 262, 74)
      (try_for_range, ':lvar_11', ':lvar_8', ':lvar_9')
        (store_add, ':lvar_12', ':lvar_11', ':lvar_10')
        (party_get_slot, ':lvar_13', '$gvar_181', ':lvar_12')
        (assign, ':lvar_14', 100)
        (val_mul, ':lvar_14', 1000)
        (val_div, ':lvar_14', ':lvar_13')
        (val_mul, ':lvar_14', 1000)
        (val_div, ':lvar_14', ':lvar_13')
        (val_mul, ':lvar_14', 1000)
        (val_div, ':lvar_14', ':lvar_13')
        (assign, reg0, ':lvar_14')
        (set_item_probability_in_merchandise, ':lvar_11', ':lvar_14')
      (try_end)
      (troop_add_merchandise, 1, 11, ':lvar_7')
      (assign, reg5, ':lvar_7')
      (val_add, ':lvar_6', ':lvar_7')
    (try_end)
    (store_mul, ':lvar_15', 10, 3)
    (val_mul, ':lvar_15', '$gvar_250')
    (party_get_skill_level, ':lvar_16', 0, 22)
    (val_add, ':lvar_16', 10)
    (val_mul, ':lvar_15', ':lvar_16')
    (val_div, ':lvar_15', 10)
    (val_div, ':lvar_15', ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_17', ':lvar_0')
    (try_for_range, ':lvar_18', 0, ':lvar_17')
      (party_stack_get_troop_id, ':lvar_19', ':lvar_0', ':lvar_18')
      (neg|troop_is_hero, ':lvar_19')
      (party_stack_get_size, ':lvar_20', ':lvar_0', ':lvar_18')
      (try_for_range, ':lvar_21', 0, ':lvar_20')
        (troop_loot_troop, 1, ':lvar_19', ':lvar_15')
      (try_end)
    (try_end)
    (troop_get_inventory_capacity, ':lvar_22', 1)
    (try_for_range, ':lvar_23', 0, ':lvar_22')
      (troop_get_inventory_slot, ':lvar_24', 1, ':lvar_23')
      (ge, ':lvar_24', 0)
      (val_add, ':lvar_6', 1)
    (try_end)
    (assign, reg0, ':lvar_6')
calculate_main_party_shares=>
    (assign, ':lvar_0', 10)
    (party_get_num_companion_stacks, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 1, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', 0, ':lvar_2')
      (try_begin)
        (neg|troop_is_hero, ':lvar_3')
        (party_stack_get_size, ':lvar_4', 0, ':lvar_2')
        (val_add, ':lvar_0', ':lvar_4')
      (else_try)
        (val_add, ':lvar_0', 3)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_0')
party_give_xp_and_gold=>
    (store_script_param_1, ':lvar_0')
    (call_script, 45)
    (assign, ':lvar_1', reg0)
    (assign, ':lvar_2', 0)
    (party_get_num_companion_stacks, ':lvar_3', ':lvar_0')
    (try_for_range, ':lvar_4', 0, ':lvar_3')
      (party_stack_get_troop_id, ':lvar_5', ':lvar_0', ':lvar_4')
      (neg|troop_is_hero, ':lvar_5')
      (party_stack_get_size, ':lvar_6', ':lvar_0', ':lvar_4')
      (store_character_level, ':lvar_7', ':lvar_5')
      (store_add, ':lvar_8', ':lvar_7', 10)
      (val_mul, ':lvar_8', ':lvar_8')
      (val_div, ':lvar_8', 10)
      (store_mul, ':lvar_9', ':lvar_8', ':lvar_6')
      (val_add, ':lvar_2', ':lvar_9')
    (try_end)
    (val_mul, ':lvar_2', '$gvar_250')
    (val_div, ':lvar_2', 100)
    (val_min, ':lvar_2', 40000)
    (assign, ':lvar_10', ':lvar_2')
    (store_random_in_range, ':lvar_11', 50, 100)
    (val_mul, ':lvar_10', ':lvar_11')
    (val_div, ':lvar_10', 100)
    (party_add_xp, 0, ':lvar_10')
    (store_mul, ':lvar_12', ':lvar_2', 10)
    (val_min, ':lvar_12', 60000)
    (store_random_in_range, ':lvar_11', 50, 100)
    (val_mul, ':lvar_12', ':lvar_11')
    (val_div, ':lvar_12', 100)
    (val_div, ':lvar_12', ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 0, ':lvar_3')
      (party_stack_get_troop_id, ':lvar_5', 0, ':lvar_4')
      (try_begin)
        (troop_is_hero, ':lvar_5')
        (call_script, 311, ':lvar_5', ':lvar_12')
      (try_end)
    (try_end)
    (assign, ':lvar_13', ':lvar_2')
    (val_div, ':lvar_13', ':lvar_1')
    (call_script, 160, ':lvar_13')
setup_troop_meeting=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (modify_visitors_at_site, 1)
    (reset_visitors)
    (set_visitor, 0, 0)
    (set_visitor, 17, ':lvar_0', ':lvar_1')
    (set_jump_mission, 1)
    (jump_to_scene, 1)
    (change_screen_map_conversation, ':lvar_0')
setup_party_meeting=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (lt, '$gvar_578', 0)
    (try_end)
    (modify_visitors_at_site, 1)
    (reset_visitors)
    (set_visitor, 0, 0)
    (party_stack_get_troop_id, ':lvar_1', ':lvar_0', 0)
    (party_stack_get_troop_dna, ':lvar_2', ':lvar_0', 0)
    (set_visitor, 17, ':lvar_1', ':lvar_2')
    (set_jump_mission, 1)
    (jump_to_scene, 1)
    (change_screen_map_conversation, ':lvar_1')
party_remove_all_companions=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (try_for_range_backwards, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (this_or_next|neg|troop_is_hero, ':lvar_3')
      (eq, '$gvar_35', 1)
      (party_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
      (party_remove_members, ':lvar_0', ':lvar_3', ':lvar_4')
    (try_end)
party_remove_all_prisoners=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_prisoner_stacks, ':lvar_1', ':lvar_0')
    (try_for_range_backwards, ':lvar_2', 0, ':lvar_1')
      (party_prisoner_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (this_or_next|neg|troop_is_hero, ':lvar_3')
      (eq, '$gvar_35', 1)
      (party_prisoner_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
      (party_remove_prisoners, ':lvar_0', ':lvar_3', ':lvar_4')
    (try_end)
party_add_party_companions=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_1')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_1', ':lvar_3')
      (this_or_next|neg|troop_is_hero, ':lvar_4')
      (eq, '$gvar_35', 1)
      (party_stack_get_size, ':lvar_5', ':lvar_1', ':lvar_3')
      (party_add_members, ':lvar_0', ':lvar_4', ':lvar_5')
      (party_stack_get_num_wounded, ':lvar_6', ':lvar_1', ':lvar_3')
      (party_wound_members, ':lvar_0', ':lvar_4', ':lvar_6')
    (try_end)
party_add_party_prisoners=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_prisoner_stacks, ':lvar_2', ':lvar_1')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_prisoner_stack_get_troop_id, ':lvar_4', ':lvar_1', ':lvar_3')
      (this_or_next|neg|troop_is_hero, ':lvar_4')
      (eq, '$gvar_35', 1)
      (party_prisoner_stack_get_size, ':lvar_5', ':lvar_1', ':lvar_3')
      (party_add_members, ':lvar_0', ':lvar_4', ':lvar_5')
    (try_end)
party_prisoners_add_party_companions=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_1')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_1', ':lvar_3')
      (this_or_next|neg|troop_is_hero, ':lvar_4')
      (eq, '$gvar_35', 1)
      (party_stack_get_size, ':lvar_5', ':lvar_1', ':lvar_3')
      (party_add_prisoners, ':lvar_0', ':lvar_4', ':lvar_5')
    (try_end)
party_prisoners_add_party_prisoners=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_prisoner_stacks, ':lvar_2', ':lvar_1')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_prisoner_stack_get_troop_id, ':lvar_4', ':lvar_1', ':lvar_3')
      (this_or_next|neg|troop_is_hero, ':lvar_4')
      (eq, '$gvar_35', 1)
      (party_prisoner_stack_get_size, ':lvar_5', ':lvar_1', ':lvar_3')
      (party_add_prisoners, ':lvar_0', ':lvar_4', ':lvar_5')
    (try_end)
party_add_party=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (call_script, 51, ':lvar_0', ':lvar_1')
    (call_script, 54, ':lvar_0', ':lvar_1')
party_copy=>
    (assign, '$gvar_35', 1)
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_clear, ':lvar_0')
    (call_script, 55, ':lvar_0', ':lvar_1')
clear_party_group=>
    (store_script_param_1, ':lvar_0')
    (party_clear, ':lvar_0')
    (party_get_num_attached_parties, ':lvar_1', ':lvar_0')
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_get_attached_party_with_rank, ':lvar_3', ':lvar_0', ':lvar_2')
      (call_script, 57, ':lvar_3')
    (try_end)
get_nonempty_party_in_group=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 0)
      (assign, reg0, ':lvar_0')
    (else_try)
      (assign, reg0, -1)
      (party_get_num_attached_parties, ':lvar_2', ':lvar_0')
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (lt, reg0, 0)
        (party_get_attached_party_with_rank, ':lvar_4', ':lvar_0', ':lvar_3')
        (call_script, 58, ':lvar_4')
      (try_end)
    (try_end)
collect_prisoners_from_empty_parties=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_companions, ':lvar_2', ':lvar_0')
    (try_begin)
      (eq, ':lvar_2', 0)
      (party_get_num_prisoner_stacks, ':lvar_3', ':lvar_0')
      (try_for_range, ':lvar_4', 0, ':lvar_3')
        (party_prisoner_stack_get_troop_id, ':lvar_5', ':lvar_0', ':lvar_4')
        (troop_is_hero, ':lvar_5')
        (party_add_members, ':lvar_1', ':lvar_5', 1)
      (try_end)
    (try_end)
    (party_get_num_attached_parties, ':lvar_6', ':lvar_0')
    (try_for_range, ':lvar_7', 0, ':lvar_6')
      (party_get_attached_party_with_rank, ':lvar_8', ':lvar_0', ':lvar_7')
      (call_script, 59, ':lvar_8', ':lvar_1')
    (try_end)
print_casualties_to_s0=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (str_clear, 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (party_get_num_companion_stacks, ':lvar_5', ':lvar_0')
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (party_stack_get_troop_id, ':lvar_7', ':lvar_0', ':lvar_6')
      (party_stack_get_size, ':lvar_8', ':lvar_0', ':lvar_6')
      (party_stack_get_num_wounded, ':lvar_9', ':lvar_0', ':lvar_6')
      (store_sub, ':lvar_10', ':lvar_8', ':lvar_9')
      (val_add, ':lvar_4', ':lvar_10')
      (val_add, ':lvar_3', ':lvar_9')
      (try_begin)
        (this_or_next|gt, ':lvar_10', 0)
        (gt, ':lvar_9', 0)
        (store_add, reg3, ':lvar_10', ':lvar_9')
        (str_store_troop_name_by_count, 1, ':lvar_7', reg3)
        (try_begin)
          (troop_is_hero, ':lvar_7')
          (assign, reg3, 0)
        (try_end)
        (try_begin)
          (gt, ':lvar_10', 0)
          (gt, ':lvar_9', 0)
          (assign, reg4, ':lvar_10')
          (assign, reg5, ':lvar_9')
          (str_store_string, 2, '@qstr_231')
        (else_try)
          (gt, ':lvar_10', 0)
          (str_store_string, 2, '@qstr_232')
        (else_try)
          (str_store_string, 2, '@qstr_233')
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 1)
          (try_begin)
            (eq, ':lvar_2', 0)
            (str_store_string, 0, '@qstr_234')
          (else_try)
            (str_store_string, 0, '@qstr_235')
          (try_end)
        (else_try)
          (str_store_string, 0, '@qstr_236')
        (try_end)
        (val_add, ':lvar_2', 1)
      (try_end)
    (try_end)
    (try_begin)
      (this_or_next|gt, ':lvar_4', 0)
      (gt, ':lvar_3', 0)
      (store_add, reg3, ':lvar_4', ':lvar_3')
      (try_begin)
        (gt, ':lvar_4', 0)
        (gt, ':lvar_3', 0)
        (assign, reg4, ':lvar_4')
        (assign, reg5, ':lvar_3')
        (str_store_string, 2, '@qstr_231')
      (else_try)
        (gt, ':lvar_4', 0)
        (str_store_string, 2, '@qstr_232')
      (else_try)
        (str_store_string, 2, '@qstr_233')
      (try_end)
      (str_store_string, 0, '@qstr_237')
    (else_try)
      (try_begin)
        (eq, ':lvar_1', 1)
        (str_store_string, 0, '@qstr_238')
      (else_try)
        (str_store_string, 0, '@qstr_239')
      (try_end)
    (try_end)
write_fit_party_members_to_stack_selection=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (assign, ':lvar_3', 2)
    (assign, ':lvar_4', 0)
    (try_for_range, ':lvar_5', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_6', ':lvar_0', ':lvar_5')
      (assign, ':lvar_7', 0)
      (try_begin)
        (troop_is_hero, ':lvar_6')
        (try_begin)
          (neg|troop_is_wounded, ':lvar_6')
          (this_or_next|eq, ':lvar_1', 0)
          (neq, ':lvar_5', 0)
          (assign, ':lvar_7', 1)
        (try_end)
      (else_try)
        (party_stack_get_size, ':lvar_7', ':lvar_0', ':lvar_5')
        (party_stack_get_num_wounded, ':lvar_8', ':lvar_0', ':lvar_5')
        (val_sub, ':lvar_7', ':lvar_8')
      (try_end)
      (try_begin)
        (gt, ':lvar_7', 0)
        (troop_set_slot, 917, ':lvar_3', ':lvar_7')
        (troop_set_slot, 918, ':lvar_3', ':lvar_6')
        (val_add, ':lvar_3', 1)
      (try_end)
      (val_add, ':lvar_4', ':lvar_7')
    (try_end)
    (val_sub, ':lvar_3', 2)
    (troop_set_slot, 917, 0, ':lvar_3')
    (troop_set_slot, 917, 1, ':lvar_4')
remove_fit_party_member_from_stack_selection=>
    (store_script_param, ':lvar_0', 1)
    (val_add, ':lvar_0', 2)
    (troop_get_slot, ':lvar_1', 917, ':lvar_0')
    (troop_get_slot, ':lvar_2', 918, ':lvar_0')
    (val_sub, ':lvar_1', 1)
    (troop_set_slot, 917, ':lvar_0', ':lvar_1')
    (troop_get_slot, ':lvar_3', 917, 1)
    (val_sub, ':lvar_3', 1)
    (troop_set_slot, 917, 1, ':lvar_3')
    (try_begin)
      (le, ':lvar_1', 0)
      (troop_get_slot, ':lvar_4', 917, 0)
      (store_add, ':lvar_5', ':lvar_4', 2)
      (store_add, ':lvar_6', ':lvar_0', 1)
      (try_for_range, ':lvar_7', ':lvar_6', ':lvar_5')
        (store_sub, ':lvar_8', ':lvar_7', 1)
        (troop_get_slot, ':lvar_9', 917, ':lvar_7')
        (troop_set_slot, 917, ':lvar_8', ':lvar_9')
        (troop_get_slot, ':lvar_9', 918, ':lvar_7')
        (troop_set_slot, 918, ':lvar_8', ':lvar_9')
      (try_end)
      (val_sub, ':lvar_4', 1)
      (troop_set_slot, 917, 0, ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_2')
remove_random_fit_party_member_from_stack_selection=>
    (troop_get_slot, ':lvar_0', 917, 1)
    (store_random_in_range, ':lvar_1', 0, ':lvar_0')
    (troop_get_slot, ':lvar_2', 917, 0)
    (store_add, ':lvar_3', ':lvar_2', 2)
    (try_for_range, ':lvar_4', 2, ':lvar_3')
      (troop_get_slot, ':lvar_5', 917, ':lvar_4')
      (val_sub, ':lvar_1', ':lvar_5')
      (lt, ':lvar_1', 0)
      (assign, ':lvar_3', 0)
      (store_sub, ':lvar_6', ':lvar_4', 2)
    (try_end)
    (call_script, 62, ':lvar_6')
cf_training_ground_sub_routine_1_for_melee_details=>
    (store_script_param, ':lvar_0', 1)
    (ge, '$gvar_274', ':lvar_0')
    (val_add, ':lvar_0', 1)
    (troop_get_slot, ':lvar_1', 918, ':lvar_0')
    (str_store_troop_name, 0, ':lvar_1')
training_ground_sub_routine_2_for_melee_details=>
    (store_script_param, ':lvar_0', 1)
    (val_sub, ':lvar_0', 1)
    (try_begin)
      (lt, ':lvar_0', 0)
      (call_script, 63)
    (else_try)
      (call_script, 62, ':lvar_0')
    (try_end)
    (assign, ':lvar_1', reg0)
    (store_sub, ':lvar_2', '$gvar_69', 1)
    (troop_set_slot, 914, ':lvar_2', ':lvar_1')
    (try_begin)
      (eq, '$gvar_41', '$gvar_69')
      (call_script, 69, -1, '$gvar_41')
    (else_try)
      (val_add, '$gvar_69', 1)
      (jump_to_menu, 152)
    (try_end)
cf_training_ground_sub_routine_for_training_result=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_character_level, ':lvar_4', ':lvar_0')
    (store_add, ':lvar_5', ':lvar_4', 5)
    (store_mul, ':lvar_6', ':lvar_5', 3)
    (val_min, ':lvar_6', 100)
    (store_sub, ':lvar_7', ':lvar_6', '$gvar_585')
    (val_max, ':lvar_7', 0)
    (store_sub, ':lvar_7', 100, ':lvar_7')
    (val_mul, ':lvar_7', ':lvar_7')
    (val_div, ':lvar_7', 10)
    (store_mul, ':lvar_8', ':lvar_3', ':lvar_7')
    (val_div, ':lvar_8', 1000)
    (try_begin)
      (eq, ':lvar_0', 0)
      (val_mul, ':lvar_8', 1)
    (else_try)
      (try_begin)
        (eq, '$gvar_247', 1)
        (try_begin)
          (this_or_next|troop_is_guarantee_ranged, ':lvar_0')
          (troop_is_guarantee_horse, ':lvar_0')
          (val_div, ':lvar_8', 4)
        (try_end)
      (else_try)
        (eq, '$gvar_247', 3)
        (try_begin)
          (neg|troop_is_guarantee_horse, ':lvar_0')
          (assign, ':lvar_8', 0)
        (try_end)
      (else_try)
        (neg|troop_is_guarantee_ranged, ':lvar_0')
        (assign, ':lvar_8', 0)
      (try_end)
    (try_end)
    (val_add, ':lvar_4', 1)
    (store_mul, ':lvar_9', 100, ':lvar_4')
    (val_mul, ':lvar_9', ':lvar_2')
    (val_div, ':lvar_9', 20)
    (val_mul, ':lvar_9', ':lvar_8')
    (val_div, ':lvar_9', 1000)
    (store_mul, ':lvar_10', ':lvar_9', 3)
    (val_div, ':lvar_10', 2)
    (store_div, ':lvar_11', ':lvar_9', 2)
    (store_random_in_range, ':lvar_12', ':lvar_11', ':lvar_10')
    (gt, ':lvar_12', 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
      (add_xp_to_troop, ':lvar_12', ':lvar_0')
      (store_div, ':lvar_13', ':lvar_12', 50)
      (try_begin)
        (gt, ':lvar_13', 0)
        (troop_raise_proficiency, ':lvar_0', '$gvar_582', ':lvar_13')
      (try_end)
    (else_try)
      (party_add_xp_to_stack, 0, ':lvar_1', ':lvar_12')
    (try_end)
    (assign, reg0, ':lvar_12')
print_troop_owned_centers_in_numbers_to_s0=>
    (store_script_param_1, ':lvar_0')
    (str_store_string, 0, '@qstr_240')
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (try_for_range_backwards, ':lvar_4', 46, 204)
      (party_slot_eq, ':lvar_4', 7, ':lvar_0')
      (try_begin)
        (party_slot_eq, ':lvar_4', 0, 3)
        (val_add, ':lvar_1', 1)
      (else_try)
        (party_slot_eq, ':lvar_4', 0, 2)
        (val_add, ':lvar_2', 1)
      (else_try)
        (val_add, ':lvar_3', 1)
      (try_end)
    (try_end)
    (assign, ':lvar_5', 0)
    (try_begin)
      (gt, ':lvar_3', 0)
      (assign, reg0, ':lvar_3')
      (store_sub, reg1, reg0, 1)
      (str_store_string, 0, '@qstr_241')
      (val_add, ':lvar_5', 1)
    (try_end)
    (try_begin)
      (gt, ':lvar_2', 0)
      (assign, reg0, ':lvar_2')
      (store_sub, reg1, reg0, 1)
      (try_begin)
        (eq, ':lvar_5', 0)
        (str_store_string, 0, '@qstr_242')
      (else_try)
        (str_store_string, 0, '@qstr_243')
      (try_end)
      (val_add, ':lvar_5', 1)
    (try_end)
    (try_begin)
      (gt, ':lvar_1', 0)
      (assign, reg0, ':lvar_1')
      (store_sub, reg1, reg0, 1)
      (try_begin)
        (eq, ':lvar_5', 0)
        (str_store_string, 0, '@qstr_244')
      (else_try)
        (eq, ':lvar_5', 1)
        (str_store_string, 0, '@qstr_245')
      (else_try)
        (str_store_string, 0, '@qstr_246')
      (try_end)
    (try_end)
    (store_add, reg0, ':lvar_3', ':lvar_2')
    (val_add, reg0, ':lvar_1')
get_random_melee_training_weapon=>
    (assign, ':lvar_0', -1)
    (assign, ':lvar_1', -1)
    (store_random_in_range, ':lvar_2', 0, 3)
    (try_begin)
      (eq, ':lvar_2', 0)
      (assign, ':lvar_0', 650)
    (else_try)
      (eq, ':lvar_2', 1)
      (assign, ':lvar_0', 644)
    (else_try)
      (assign, ':lvar_0', 674)
      (assign, ':lvar_1', 762)
    (try_end)
    (assign, reg0, ':lvar_0')
    (assign, reg1, ':lvar_1')
start_training_at_training_ground=>
    (val_add, '$gvar_273', 1)
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', -1)
    (assign, ':lvar_4', -1)
    (assign, '$gvar_340', 0)
    (try_begin)
      (eq, ':lvar_0', 8)
      (assign, '$gvar_582', 3)
      (assign, ':lvar_2', 11)
      (try_begin)
        (eq, '$gvar_247', 3)
        (assign, ':lvar_3', 20)
      (else_try)
        (assign, ':lvar_3', 19)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 9)
      (assign, '$gvar_582', 4)
      (assign, ':lvar_2', 12)
      (assign, ':lvar_3', 21)
    (else_try)
      (try_begin)
        (eq, ':lvar_0', 10)
        (assign, '$gvar_582', 5)
        (try_begin)
          (eq, '$gvar_247', 3)
          (assign, ':lvar_3', 797)
        (else_try)
          (assign, ':lvar_3', 796)
        (try_end)
      (else_try)
        (eq, ':lvar_0', 17)
        (assign, '$gvar_582', 4)
        (try_begin)
          (eq, '$gvar_247', 3)
          (assign, ':lvar_2', 840)
          (assign, ':lvar_3', 810)
        (else_try)
          (assign, ':lvar_2', 890)
          (assign, ':lvar_3', 821)
        (try_end)
      (else_try)
        (eq, ':lvar_0', 16)
        (assign, '$gvar_582', 6)
        (try_begin)
          (eq, '$gvar_247', 3)
          (assign, ':lvar_2', 869)
          (assign, ':lvar_3', 800)
        (else_try)
          (assign, ':lvar_2', 889)
          (assign, ':lvar_3', 820)
        (try_end)
      (else_try)
        (eq, ':lvar_0', 3)
        (assign, '$gvar_582', 1)
        (assign, ':lvar_2', 604)
      (else_try)
        (eq, ':lvar_0', 4)
        (assign, '$gvar_582', 2)
        (assign, ':lvar_2', 9)
      (else_try)
        (assign, '$gvar_582', 1)
        (call_script, 68)
        (assign, ':lvar_2', reg0)
        (assign, ':lvar_3', reg1)
      (try_end)
      (try_begin)
        (eq, '$gvar_247', 3)
        (assign, ':lvar_4', 909)
        (store_add, '$gvar_583', 57, '$gvar_269')
        (val_sub, '$gvar_583', 205)
      (else_try)
        (store_add, '$gvar_583', 62, '$gvar_269')
        (val_sub, '$gvar_583', 205)
      (try_end)
      (modify_visitors_at_site, '$gvar_583')
      (reset_visitors)
      (set_visitor, 0, 0)
      (assign, ':lvar_5', -1)
      (try_for_range, ':lvar_6', 0, 4)
        (troop_get_inventory_slot, ':lvar_7', 0, ':lvar_6')
        (ge, ':lvar_7', 0)
        (item_get_type, ':lvar_8', ':lvar_7')
        (try_begin)
          (eq, ':lvar_8', ':lvar_0')
          (eq, ':lvar_5', -1)
          (assign, ':lvar_5', ':lvar_7')
        (try_end)
      (try_end)
      (mission_tpl_entry_clear_override_items, 22, 0)
      (mission_tpl_entry_add_override_item, 22, 0, 22)
      (try_begin)
        (ge, ':lvar_2', 0)
        (try_begin)
          (ge, ':lvar_5', 0)
          (mission_tpl_entry_add_override_item, 22, 0, ':lvar_5')
        (else_try)
          (mission_tpl_entry_add_override_item, 22, 0, ':lvar_2')
        (try_end)
      (try_end)
      (try_begin)
        (ge, ':lvar_3', 0)
        (mission_tpl_entry_add_override_item, 22, 0, ':lvar_3')
      (try_end)
      (try_begin)
        (ge, ':lvar_4', 0)
        (mission_tpl_entry_add_override_item, 22, 0, ':lvar_4')
      (try_end)
      (assign, ':lvar_9', 5)
      (troop_get_slot, ':lvar_10', 917, 1)
      (store_add, ':lvar_11', 5, ':lvar_10')
      (val_min, ':lvar_11', 13)
      (try_for_range, ':lvar_9', 5, ':lvar_11')
        (call_script, 63)
        (set_visitor, ':lvar_9', reg0)
        (val_add, ':lvar_9', 1)
      (try_end)
      (try_begin)
        (eq, '$gvar_247', 1)
        (assign, ':lvar_12', 0)
        (try_for_range, ':lvar_13', 0, ':lvar_1')
          (troop_get_slot, ':lvar_14', 914, ':lvar_13')
          (store_add, ':lvar_15', ':lvar_13', 1)
          (set_visitor, ':lvar_15', ':lvar_14')
          (mission_tpl_entry_clear_override_items, 22, ':lvar_15')
          (mission_tpl_entry_add_override_item, 22, ':lvar_15', 22)
          (call_script, 68)
          (mission_tpl_entry_add_override_item, 22, ':lvar_15', reg0)
          (try_begin)
            (ge, reg1, 0)
            (mission_tpl_entry_add_override_item, 22, ':lvar_15', reg1)
          (try_end)
          (store_character_level, ':lvar_16', ':lvar_14')
          (val_add, ':lvar_16', 10)
          (val_mul, ':lvar_16', ':lvar_16')
          (val_add, ':lvar_12', ':lvar_16')
        (try_end)
        (assign, '$gvar_584', ':lvar_1')
        (assign, '$gvar_585', ':lvar_12')
        (store_add, ':lvar_17', '$gvar_584', 4)
        (val_mul, '$gvar_585', ':lvar_17')
        (val_div, '$gvar_585', 2400)
        (str_store_string, 0, '@qstr_247')
      (else_try)
        (eq, '$gvar_247', 3)
        (try_begin)
          (eq, ':lvar_0', 8)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 30)
        (else_try)
          (eq, ':lvar_0', 10)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 30)
        (else_try)
          (eq, ':lvar_0', 2)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 45)
        (else_try)
          (eq, ':lvar_0', 3)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 45)
        (else_try)
          (eq, ':lvar_0', 16)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 35)
        (else_try)
          (eq, ':lvar_0', 17)
          (assign, '$gvar_585', 200)
          (assign, '$gvar_586', 35)
        (else_try)
          (eq, ':lvar_0', 4)
          (assign, '$gvar_585', 280)
          (assign, '$gvar_586', 35)
        (try_end)
        (str_store_string, 0, '@qstr_248')
      (else_try)
        (eq, '$gvar_247', 2)
        (store_mul, '$gvar_587', ':lvar_1', 100)
        (assign, ':lvar_18', ':lvar_1')
        (val_mul, ':lvar_18', ':lvar_18')
        (try_begin)
          (eq, ':lvar_0', 8)
          (val_mul, ':lvar_18', 3)
          (val_div, ':lvar_18', 2)
        (else_try)
          (eq, ':lvar_0', 10)
          (val_mul, ':lvar_18', 5)
          (val_div, ':lvar_18', 2)
          (val_mul, ':lvar_18', ':lvar_1')
          (val_div, ':lvar_18', 2)
        (try_end)
        (store_mul, '$gvar_585', 100, ':lvar_18')
        (val_div, '$gvar_585', 6000)
        (str_store_string, 0, '@qstr_249')
      (try_end)
      (jump_to_menu, 156)
    (try_end)
party_count_fit_regulars=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (assign, reg0, 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (neg|troop_is_hero, ':lvar_3')
      (party_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
      (party_stack_get_num_wounded, ':lvar_5', ':lvar_0', ':lvar_2')
      (val_sub, ':lvar_4', ':lvar_5')
      (val_add, reg0, ':lvar_4')
    (try_end)
party_count_fit_for_battle=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (assign, reg0, 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (assign, ':lvar_4', 0)
      (try_begin)
        (troop_is_hero, ':lvar_3')
        (try_begin)
          (neg|troop_is_wounded, ':lvar_3')
          (assign, ':lvar_4', 1)
        (try_end)
      (else_try)
        (party_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
        (party_stack_get_num_wounded, ':lvar_5', ':lvar_0', ':lvar_2')
        (val_sub, ':lvar_4', ':lvar_5')
      (try_end)
      (val_add, reg0, ':lvar_4')
    (try_end)
party_count_members_with_full_health=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (assign, reg0, 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (assign, ':lvar_4', 0)
      (try_begin)
        (troop_is_hero, ':lvar_3')
        (neq, ':lvar_3', 0)
        (store_troop_health, ':lvar_5', ':lvar_3')
        (try_begin)
          (ge, ':lvar_5', 80)
          (assign, ':lvar_4', 1)
        (try_end)
      (else_try)
        (party_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
        (party_stack_get_num_wounded, ':lvar_6', ':lvar_0', ':lvar_2')
        (val_sub, ':lvar_4', ':lvar_6')
        (val_max, ':lvar_4', 0)
      (try_end)
      (val_add, reg0, ':lvar_4')
    (try_end)
get_stack_with_rank=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (assign, reg0, -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 0, ':lvar_2')
      (eq, reg0, -1)
      (party_stack_get_troop_id, ':lvar_5', ':lvar_0', ':lvar_4')
      (neg|troop_is_hero, ':lvar_5')
      (party_stack_get_size, ':lvar_6', ':lvar_0', ':lvar_4')
      (party_stack_get_num_wounded, ':lvar_7', ':lvar_0', ':lvar_4')
      (val_sub, ':lvar_6', ':lvar_7')
      (val_add, ':lvar_3', ':lvar_6')
      (try_begin)
        (lt, ':lvar_1', ':lvar_3')
        (assign, reg0, ':lvar_4')
      (try_end)
    (try_end)
inflict_casualties_to_party=>
    (party_clear, 4)
    (store_script_param_1, ':lvar_0')
    (call_script, 70, ':lvar_0')
    (assign, ':lvar_1', reg0)
    (store_script_param_2, ':lvar_2')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (gt, ':lvar_1', 0)
      (store_random_in_range, ':lvar_4', 0, ':lvar_1')
      (assign, reg1, ':lvar_4')
      (call_script, 73, ':lvar_0', ':lvar_4')
      (assign, ':lvar_5', reg0)
      (party_stack_get_troop_id, ':lvar_6', ':lvar_0', ':lvar_5')
      (store_character_level, ':lvar_7', ':lvar_6')
      (val_add, ':lvar_7', 5)
      (assign, ':lvar_8', 10000)
      (val_div, ':lvar_8', ':lvar_7')
      (try_begin)
        (store_random_in_range, ':lvar_9', 0, 10000)
        (lt, ':lvar_9', ':lvar_8')
        (store_random_in_range, ':lvar_10', 0, 2)
        (try_begin)
          (troop_is_hero, ':lvar_6')
          (store_troop_health, ':lvar_11', ':lvar_6')
          (val_sub, ':lvar_11', 45)
          (val_max, ':lvar_11', 1)
          (troop_set_health, ':lvar_6', ':lvar_11')
        (else_try)
          (lt, ':lvar_10', 1)
          (party_add_members, 4, ':lvar_6', 1)
          (party_wound_members, 4, ':lvar_6', 1)
          (party_wound_members, ':lvar_0', ':lvar_6', 1)
        (else_try)
          (party_add_members, 4, ':lvar_6', 1)
          (party_remove_members, ':lvar_0', ':lvar_6', 1)
        (try_end)
        (val_sub, ':lvar_1', 1)
      (try_end)
    (try_end)
move_members_with_ratio=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_prisoner_stacks, ':lvar_2', ':lvar_0')
    (try_for_range_backwards, ':lvar_3', 0, ':lvar_2')
      (party_prisoner_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (party_prisoner_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_3')
      (store_mul, ':lvar_6', ':lvar_5', '$gvar_201')
      (val_div, ':lvar_6', 1000)
      (party_remove_prisoners, ':lvar_0', ':lvar_4', ':lvar_6')
      (assign, ':lvar_7', reg0)
      (party_add_prisoners, ':lvar_1', ':lvar_4', ':lvar_7')
    (try_end)
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (try_for_range_backwards, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (party_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_3')
      (store_mul, ':lvar_6', ':lvar_5', '$gvar_201')
      (val_div, ':lvar_6', 1000)
      (party_remove_members, ':lvar_0', ':lvar_4', ':lvar_6')
      (assign, ':lvar_7', reg0)
      (party_add_members, ':lvar_1', ':lvar_4', ':lvar_7')
    (try_end)
count_parties_of_faction_and_party_type=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, reg0, 0)
    (try_for_parties, ':lvar_2')
      (party_is_active, ':lvar_2')
      (party_get_slot, ':lvar_3', ':lvar_2', 0)
      (store_faction_of_party, ':lvar_4', ':lvar_2')
      (eq, ':lvar_3', ':lvar_1')
      (eq, ':lvar_4', ':lvar_0')
      (val_add, reg0, 1)
    (try_end)
faction_get_number_of_armies=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 405, 530)
      (store_troop_faction, ':lvar_3', ':lvar_2')
      (eq, ':lvar_3', ':lvar_0')
      (troop_get_slot, ':lvar_4', ':lvar_2', 10)
      (ge, ':lvar_4', 0)
      (call_script, 70, ':lvar_4')
      (assign, ':lvar_5', reg0)
      (call_script, 22, ':lvar_4')
      (assign, ':lvar_6', reg0)
      (val_mul, ':lvar_6', 60)
      (val_div, ':lvar_6', 100)
      (gt, ':lvar_5', ':lvar_6')
      (val_add, ':lvar_1', 1)
    (try_end)
    (assign, reg0, ':lvar_1')
faction_recalculate_strength=>
    (store_script_param_1, ':lvar_0')
    (call_script, 77, ':lvar_0')
    (assign, ':lvar_1', reg0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 204)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (try_begin)
        (party_slot_eq, ':lvar_4', 0, 2)
        (val_add, ':lvar_2', 1)
      (else_try)
        (party_slot_eq, ':lvar_4', 0, 3)
        (val_add, ':lvar_3', 1)
      (try_end)
    (try_end)
    (faction_set_slot, ':lvar_0', 80, ':lvar_1')
    (faction_set_slot, ':lvar_0', 81, ':lvar_2')
    (faction_set_slot, ':lvar_0', 82, ':lvar_3')
cf_select_random_town_with_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 73)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', ':lvar_0')
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_5', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 73)
      (eq, ':lvar_1', -1)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', ':lvar_0')
      (val_add, ':lvar_2', 1)
      (gt, ':lvar_2', ':lvar_5')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_1')
cf_select_random_minorplanet_with_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 114, 204)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', ':lvar_0')
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_5', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 114, 204)
      (eq, ':lvar_1', -1)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', ':lvar_0')
      (val_add, ':lvar_2', 1)
      (gt, ':lvar_2', ':lvar_5')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_1')
cf_select_random_walled_center_with_faction=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 114)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (val_add, ':lvar_3', 1)
      (eq, ':lvar_4', ':lvar_1')
      (val_add, ':lvar_3', 99)
    (try_end)
    (gt, ':lvar_3', 0)
    (store_random_in_range, ':lvar_6', 0, ':lvar_3')
    (try_for_range, ':lvar_4', 46, 114)
      (eq, ':lvar_2', -1)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (val_sub, ':lvar_6', 1)
      (try_begin)
        (eq, ':lvar_4', ':lvar_1')
        (val_sub, ':lvar_6', 99)
      (try_end)
      (lt, ':lvar_6', 0)
      (assign, ':lvar_2', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_2')
cf_select_random_walled_center_with_faction_and_owner_priority_no_siege=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 114)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (party_slot_eq, ':lvar_4', 54, -1)
      (val_add, ':lvar_3', 1)
      (party_slot_eq, ':lvar_4', 7, ':lvar_1')
      (val_add, ':lvar_3', 1000)
    (try_end)
    (gt, ':lvar_3', 0)
    (store_random_in_range, ':lvar_6', 0, ':lvar_3')
    (try_for_range, ':lvar_4', 46, 114)
      (eq, ':lvar_2', -1)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (party_slot_eq, ':lvar_4', 54, -1)
      (val_sub, ':lvar_6', 1)
      (try_begin)
        (party_slot_eq, ':lvar_4', 7, ':lvar_1')
        (val_sub, ':lvar_6', 1000)
      (try_end)
      (lt, ':lvar_6', 0)
      (assign, ':lvar_2', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_2')
cf_select_random_walled_center_with_faction_and_less_strength_priority=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 114)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (party_slot_eq, ':lvar_4', 54, -1)
      (val_add, ':lvar_3', 1)
      (try_begin)
        (eq, ':lvar_4', ':lvar_1')
        (val_add, ':lvar_3', 99)
      (try_end)
    (try_end)
    (gt, ':lvar_3', 0)
    (store_random_in_range, ':lvar_6', 0, ':lvar_3')
    (try_for_range, ':lvar_4', 46, 114)
      (eq, ':lvar_2', -1)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (party_slot_eq, ':lvar_4', 54, -1)
      (val_sub, ':lvar_6', 1)
      (try_begin)
        (eq, ':lvar_4', ':lvar_1')
        (val_sub, ':lvar_6', 99)
      (try_end)
      (lt, ':lvar_6', 0)
      (assign, ':lvar_2', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_2')
cf_select_random_town_at_peace_with_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 73)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (store_relation, ':lvar_5', ':lvar_4', ':lvar_0')
      (ge, ':lvar_5', 0)
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_6', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 73)
      (eq, ':lvar_1', -1)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (store_relation, ':lvar_5', ':lvar_4', ':lvar_0')
      (ge, ':lvar_5', 0)
      (val_add, ':lvar_2', 1)
      (gt, ':lvar_2', ':lvar_6')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_1')
cf_select_random_town_at_peace_with_faction_in_trade_route=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 190, 205)
      (party_get_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (gt, ':lvar_5', 0)
      (store_faction_of_party, ':lvar_6', ':lvar_5')
      (store_relation, ':lvar_7', ':lvar_6', ':lvar_1')
      (ge, ':lvar_7', 0)
      (val_add, ':lvar_3', 1)
    (try_end)
    (gt, ':lvar_3', 0)
    (store_random_in_range, ':lvar_8', 0, ':lvar_3')
    (try_for_range, ':lvar_4', 190, 205)
      (eq, ':lvar_2', -1)
      (party_get_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (gt, ':lvar_5', 0)
      (store_faction_of_party, ':lvar_6', ':lvar_5')
      (store_relation, ':lvar_7', ':lvar_6', ':lvar_1')
      (ge, ':lvar_7', 0)
      (val_sub, ':lvar_8', 1)
      (lt, ':lvar_8', 0)
      (assign, ':lvar_2', ':lvar_5')
    (try_end)
    (assign, reg0, ':lvar_2')
shuffle_troop_slots=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (try_for_range, ':lvar_3', ':lvar_1', ':lvar_2')
      (store_random_in_range, ':lvar_4', ':lvar_1', ':lvar_2')
      (troop_get_slot, ':lvar_5', ':lvar_0', ':lvar_3')
      (troop_get_slot, ':lvar_6', ':lvar_0', ':lvar_4')
      (troop_set_slot, ':lvar_0', ':lvar_3', ':lvar_6')
      (troop_set_slot, ':lvar_0', ':lvar_4', ':lvar_5')
    (try_end)
get_random_quest=>
    (store_script_param_1, ':lvar_0')
    (store_character_level, ':lvar_1', 0)
    (store_troop_faction, ':lvar_2', ':lvar_0')
    (troop_get_slot, ':lvar_3', ':lvar_0', 10)
    (troop_get_slot, ':lvar_4', ':lvar_0', 52)
    (assign, ':lvar_5', -1)
    (try_begin)
      (gt, ':lvar_3', 0)
      (party_get_attached_to, ':lvar_5', ':lvar_3')
    (else_try)
      (is_between, '$gvar_269', 46, 204)
      (assign, ':lvar_5', '$gvar_269')
    (try_end)
    (try_begin)
      (troop_slot_eq, ':lvar_0', 2, 2)
      (try_begin)
        (ge, '$gvar_20', 0)
        (assign, ':lvar_6', 0)
        (assign, ':lvar_7', 24)
      (else_try)
        (assign, ':lvar_6', 23)
        (assign, ':lvar_7', 24)
      (try_end)
    (else_try)
      (is_between, ':lvar_0', 790, 880)
      (assign, ':lvar_6', 40)
      (assign, ':lvar_7', 43)
    (else_try)
      (is_between, ':lvar_0', 763, 790)
      (assign, ':lvar_6', 32)
      (assign, ':lvar_7', 40)
    (else_try)
      (assign, ':lvar_6', 29)
      (assign, ':lvar_7', 32)
    (try_end)
    (assign, ':lvar_8', -1)
    (try_for_range, ':lvar_9', 0, 20)
      (eq, ':lvar_8', -1)
      (assign, ':lvar_10', -1)
      (assign, ':lvar_11', -1)
      (assign, ':lvar_12', -1)
      (assign, ':lvar_13', -1)
      (assign, ':lvar_14', -1)
      (assign, ':lvar_15', -1)
      (assign, ':lvar_16', -1)
      (assign, ':lvar_17', -1)
      (assign, ':lvar_18', -1)
      (assign, ':lvar_19', -1)
      (assign, ':lvar_20', -1)
      (assign, ':lvar_21', 1)
      (assign, ':lvar_22', 0)
      (assign, ':lvar_23', 0)
      (assign, ':lvar_24', 0)
      (assign, ':lvar_25', 0)
      (assign, ':lvar_26', 0)
      (store_random_in_range, ':lvar_27', ':lvar_6', ':lvar_7')
      (neg|check_quest_active, ':lvar_27')
      (neg|quest_slot_ge, ':lvar_27', 25, 1)
      (try_begin)
        (eq, ':lvar_27', 40)
        (try_begin)
          (is_between, ':lvar_5', 114, 204)
          (call_script, 306, ':lvar_0', 113)
          (eq, reg0, 0)
          (neg|party_slot_ge, ':lvar_5', 50, 40)
          (assign, ':lvar_11', ':lvar_5')
          (store_random_in_range, ':lvar_18', 4, 8)
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 2)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 41)
        (try_begin)
          (is_between, ':lvar_5', 114, 204)
          (party_get_slot, ':lvar_28', ':lvar_5', 45)
          (lt, ':lvar_28', 50)
          (assign, ':lvar_11', ':lvar_5')
          (store_random_in_range, ':lvar_18', 5, 10)
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 2)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 42)
        (try_begin)
          (is_between, ':lvar_5', 114, 204)
          (store_skill_level, ':lvar_29', 17, 0)
          (gt, ':lvar_29', 0)
          (store_random_in_range, ':lvar_18', 5, 8)
          (assign, ':lvar_11', ':lvar_5')
          (assign, ':lvar_25', 20)
          (assign, ':lvar_26', 4)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 33)
        (is_between, ':lvar_5', 46, 204)
        (store_random_party_in_range, ':lvar_11', 46, 73)
        (store_distance_to_party_from_party, ':lvar_30', ':lvar_5', ':lvar_11')
        (assign, ':lvar_23', ':lvar_30')
        (val_add, ':lvar_23', 25)
        (val_mul, ':lvar_23', 25)
        (val_div, ':lvar_23', 20)
        (store_random_in_range, ':lvar_18', 6, 12)
        (assign, '$gvar_138', 0)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 34)
        (is_between, ':lvar_5', 46, 204)
        (store_random_party_in_range, ':lvar_11', 46, 73)
        (store_random_in_range, ':lvar_31', 0, 2)
        (try_begin)
          (eq, ':lvar_31', 0)
          (assign, ':lvar_20', 131)
        (else_try)
          (assign, ':lvar_20', 132)
        (try_end)
        (store_random_in_range, ':lvar_18', 6, 12)
        (store_distance_to_party_from_party, ':lvar_30', ':lvar_5', ':lvar_11')
        (assign, ':lvar_23', ':lvar_30')
        (val_add, ':lvar_23', 2)
        (assign, ':lvar_32', 5)
        (val_add, ':lvar_32', ':lvar_18')
        (val_mul, ':lvar_23', ':lvar_32')
        (val_div, ':lvar_23', 100)
        (val_mul, ':lvar_23', 10)
        (store_item_value, '$gvar_588', ':lvar_20')
        (val_mul, '$gvar_588', ':lvar_18')
        (val_mul, '$gvar_588', 6)
        (val_div, '$gvar_588', 5)
        (assign, ':lvar_25', 7)
        (assign, ':lvar_26', 5)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 35)
        (is_between, ':lvar_5', 46, 204)
        (store_character_level, ':lvar_23', 0)
        (val_add, ':lvar_23', 20)
        (val_mul, ':lvar_23', 35)
        (val_div, ':lvar_23', 100)
        (val_mul, ':lvar_23', 10)
        (assign, ':lvar_25', 30)
        (assign, ':lvar_26', 7)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 36)
        (is_between, ':lvar_5', 46, 204)
        (store_random_in_range, ':lvar_11', 114, 204)
        (store_character_level, ':lvar_18')
        (val_add, ':lvar_18', 15)
        (store_distance_to_party_from_party, ':lvar_30', ':lvar_5', ':lvar_11')
        (val_add, ':lvar_30', 15)
        (val_mul, ':lvar_30', 2)
        (val_mul, ':lvar_18', ':lvar_30')
        (val_div, ':lvar_18', 100)
        (val_mul, ':lvar_18', 10)
        (assign, ':lvar_23', ':lvar_18')
        (val_div, ':lvar_23', 40)
        (val_mul, ':lvar_23', 10)
        (assign, ':lvar_26', 5)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 32)
        (is_between, ':lvar_5', 46, 204)
        (call_script, 84, ':lvar_2')
        (neq, ':lvar_5', reg0)
        (assign, ':lvar_11', reg0)
        (store_distance_to_party_from_party, ':lvar_30', ':lvar_5', ':lvar_11')
        (assign, ':lvar_23', ':lvar_30')
        (val_add, ':lvar_23', 25)
        (val_mul, ':lvar_23', 50)
        (val_div, ':lvar_23', 20)
        (assign, ':lvar_25', 20)
        (assign, ':lvar_26', 5)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 37)
        (is_between, ':lvar_5', 46, 204)
        (store_faction_of_party, ':lvar_33', ':lvar_5')
        (call_script, 89, ':lvar_33')
        (assign, ':lvar_34', reg0)
        (call_script, 94, ':lvar_33')
        (assign, ':lvar_35', reg0)
        (call_script, 94, ':lvar_34')
        (assign, ':lvar_10', reg0)
        (assign, ':lvar_14', ':lvar_35')
        (assign, ':lvar_12', ':lvar_34')
        (assign, ':lvar_13', ':lvar_33')
        (assign, ':lvar_23', 12000)
        (assign, ':lvar_24', 7000)
        (assign, ':lvar_25', 30)
        (assign, ':lvar_26', 100)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 38)
        (is_between, ':lvar_1', 0, 15)
        (is_between, ':lvar_5', 46, 204)
        (store_faction_of_party, ':lvar_33', ':lvar_5')
        (store_num_parties_destroyed_by_player, ':lvar_36', 6)
        (party_template_set_slot, 6, 1, ':lvar_36')
        (quest_set_slot, '$gvar_136', 11, 0)
        (quest_set_slot, '$gvar_136', 9, 6)
        (assign, ':lvar_23', 500)
        (assign, ':lvar_22', 500)
        (assign, ':lvar_25', 20)
        (assign, ':lvar_26', 7)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 39)
        (is_between, ':lvar_1', 0, 15)
        (is_between, ':lvar_5', 46, 204)
        (party_slot_ge, ':lvar_5', 149, 1)
        (assign, ':lvar_11', ':lvar_5')
        (assign, ':lvar_25', 4)
        (assign, ':lvar_26', 7)
        (assign, ':lvar_8', ':lvar_27')
      (else_try)
        (eq, ':lvar_27', 29)
        (try_begin)
          (ge, '$gvar_20', 0)
          (is_between, ':lvar_1', 5, 25)
          (troop_get_slot, ':lvar_37', ':lvar_0', 31)
          (try_begin)
            (eq, ':lvar_37', 0)
            (troop_get_slot, ':lvar_37', ':lvar_0', 30)
          (try_end)
          (troop_slot_ge, ':lvar_37', 8, 0)
          (call_script, 192, ':lvar_37')
          (assign, ':lvar_38', reg0)
          (is_between, ':lvar_38', 46, 73)
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 73)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 30)
        (try_begin)
          (ge, '$gvar_20', 0)
          (is_between, ':lvar_1', 5, 25)
          (troop_get_slot, ':lvar_37', ':lvar_0', 31)
          (try_begin)
            (eq, ':lvar_37', 0)
            (troop_get_slot, ':lvar_37', ':lvar_0', 30)
          (try_end)
          (troop_slot_ge, ':lvar_37', 8, 0)
          (call_script, 192, ':lvar_37')
          (assign, ':lvar_38', reg0)
          (is_between, ':lvar_38', 46, 73)
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 30)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 31)
        (try_begin)
          (ge, '$gvar_20', 0)
          (ge, ':lvar_1', 10)
          (call_script, 91, ':lvar_0', 2)
          (assign, ':lvar_37', reg0)
          (neg|troop_slot_eq, ':lvar_0', 30, ':lvar_37')
          (neg|troop_slot_eq, ':lvar_0', 31, ':lvar_37')
          (neg|troop_slot_ge, ':lvar_37', 8, 0)
          (troop_slot_ge, ':lvar_37', 10, 0)
          (neg|troop_slot_eq, ':lvar_37', 52, 6)
          (neg|troop_slot_eq, ':lvar_37', 52, 7)
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 50)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 23)
        (try_begin)
          (eq, '$gvar_232', 0)
          (neq, ':lvar_4', 2)
          (neq, ':lvar_4', 5)
          (assign, ':lvar_39', 0)
          (assign, ':lvar_40', -1)
          (party_get_num_companion_stacks, ':lvar_41', 0)
          (try_for_range, ':lvar_42', 1, ':lvar_41')
            (party_stack_get_troop_id, ':lvar_43', 0, ':lvar_42')
            (troop_is_hero, ':lvar_43')
            (store_skill_level, ':lvar_44', 10, ':lvar_43')
            (gt, ':lvar_44', ':lvar_39')
            (assign, ':lvar_39', ':lvar_44')
            (assign, ':lvar_40', ':lvar_43')
          (try_end)
          (store_character_level, ':lvar_45', 0)
          (assign, ':lvar_46', 5)
          (val_div, ':lvar_45', 10)
          (val_add, ':lvar_46', ':lvar_45')
          (ge, ':lvar_39', ':lvar_46')
          (assign, ':lvar_14', ':lvar_40')
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 10)
          (assign, ':lvar_23', 10)
          (assign, ':lvar_26', 10)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 21)
        (try_begin)
          (eq, '$gvar_281', ':lvar_2')
          (neq, ':lvar_4', 6)
          (call_script, 150, ':lvar_0')
          (assign, ':lvar_47', reg0)
          (gt, ':lvar_47', 3)
          (call_script, 89, ':lvar_2')
          (assign, ':lvar_48', reg0)
          (store_relation, ':lvar_49', ':lvar_48', 15)
          (lt, ':lvar_49', 0)
          (call_script, 79, ':lvar_48')
          (assign, ':lvar_38', reg0)
          (call_script, 226, ':lvar_38')
          (assign, ':lvar_11', ':lvar_38')
          (store_random_in_range, ':lvar_18', 216172782113784089, 216172782113784093)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_23', 500)
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 7)
          (quest_set_slot, 21, 22, 500)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 20)
        (try_begin)
          (eq, '$gvar_281', ':lvar_2')
          (this_or_next|eq, ':lvar_4', 4)
          (this_or_next|eq, ':lvar_4', 2)
          (eq, ':lvar_4', 5)
          (gt, ':lvar_1', 10)
          (neg|faction_slot_eq, ':lvar_2', 10, ':lvar_0')
          (call_script, 90, ':lvar_2')
          (assign, ':lvar_12', reg0)
          (store_troop_faction, ':lvar_13', ':lvar_0')
          (assign, ':lvar_17', 31)
          (assign, ':lvar_18', 2)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 100)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 0)
        (try_begin)
          (ge, '$gvar_20', 0)
          (lt, ':lvar_1', 20)
          (call_script, 93, ':lvar_2')
          (assign, ':lvar_37', reg0)
          (neq, ':lvar_37', ':lvar_0')
          (call_script, 129, ':lvar_37')
          (assign, ':lvar_38', reg0)
          (neq, ':lvar_5', ':lvar_38')
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_22', 30)
          (assign, ':lvar_23', 40)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 3)
        (try_begin)
          (ge, '$gvar_20', 0)
          (ge, ':lvar_1', 10)
          (troop_get_slot, ':lvar_35', ':lvar_0', 33)
          (store_random_in_range, ':lvar_31', 0, 2)
          (try_begin)
            (this_or_next|eq, ':lvar_35', 0)
            (eq, ':lvar_31', 0)
            (troop_get_slot, ':lvar_50', ':lvar_0', 30)
            (gt, ':lvar_50', 0)
            (assign, ':lvar_35', ':lvar_50')
          (try_end)
          (gt, ':lvar_35', 0)
          (troop_get_type, ':lvar_51', ':lvar_35')
          (eq, ':lvar_51', 1)
          (gt, ':lvar_5', 0)
          (troop_slot_eq, ':lvar_35', 12, ':lvar_5')
          (call_script, 79, ':lvar_2')
          (assign, ':lvar_38', reg0)
          (neq, ':lvar_38', ':lvar_5')
          (hero_can_join)
          (assign, ':lvar_14', ':lvar_35')
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_25', 20)
          (assign, ':lvar_26', 7)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 1)
        (try_begin)
          (ge, '$gvar_20', 0)
          (is_between, ':lvar_1', 5, 25)
          (call_script, 95, ':lvar_2')
          (assign, ':lvar_37', reg0)
          (call_script, 129, ':lvar_37')
          (assign, ':lvar_11', reg0)
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 200)
          (assign, ':lvar_23', 0)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 40)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 4)
        (try_begin)
          (neq, ':lvar_4', 5)
          (neq, ':lvar_4', 2)
          (ge, '$gvar_20', 0)
          (assign, ':lvar_52', 204)
          (assign, ':lvar_38', -1)
          (try_for_range, ':lvar_53', 114, ':lvar_52')
            (party_slot_eq, ':lvar_53', 7, ':lvar_0')
            (party_slot_eq, ':lvar_53', 39, 1)
            (assign, ':lvar_38', ':lvar_53')
            (assign, ':lvar_52', 0)
          (try_end)
          (ge, ':lvar_38', 0)
          (neg|check_quest_active, 43)
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 2)
        (try_begin)
          (neq, ':lvar_4', 1)
          (neq, ':lvar_2', 15)
          (ge, '$gvar_20', 0)
          (store_character_level, ':lvar_45', 0)
          (gt, ':lvar_45', 5)
          (troop_slot_ge, 0, 7, 100)
          (store_random_in_range, ':lvar_18', 5, 8)
          (party_get_free_companions_capacity, ':lvar_54', 0)
          (le, ':lvar_18', ':lvar_54')
          (faction_get_slot, ':lvar_14', ':lvar_2', 41)
          (store_random_in_range, ':lvar_55', 20, 40)
          (val_add, ':lvar_55', ':lvar_45')
          (val_div, ':lvar_55', 10)
          (store_mul, ':lvar_23', ':lvar_18', 10)
          (assign, ':lvar_10', ':lvar_14')
          (try_for_range, ':lvar_9', 0, ':lvar_55')
            (troop_get_upgrade_troop, ':lvar_56', ':lvar_10', 0)
            (gt, ':lvar_56', 0)
            (assign, ':lvar_10', ':lvar_56')
            (val_mul, ':lvar_23', ':lvar_23', 7)
            (val_div, ':lvar_23', ':lvar_23', 4)
          (try_end)
          (assign, ':lvar_22', ':lvar_23')
          (val_mul, ':lvar_22', 3)
          (val_div, ':lvar_22', 10)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 120)
          (assign, ':lvar_26', 15)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 5)
        (try_begin)
          (neq, ':lvar_4', 6)
          (neq, ':lvar_4', 7)
          (ge, '$gvar_20', 0)
          (call_script, 205, ':lvar_0', ':lvar_5')
          (assign, ':lvar_11', reg0)
          (assign, ':lvar_21', 1)
          (assign, ':lvar_23', 0)
          (assign, ':lvar_22', 100)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 50)
          (assign, ':lvar_26', 20)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 6)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_2')
          (assign, ':lvar_11', reg0)
          (store_random_in_range, ':lvar_19', 0, 1000000)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 5)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 13)
        (try_begin)
          (this_or_next|eq, ':lvar_4', 2)
          (this_or_next|eq, ':lvar_4', 4)
          (eq, ':lvar_4', 5)
          (neg|faction_slot_eq, ':lvar_2', 10, ':lvar_0')
          (ge, '$gvar_20', 0)
          (gt, ':lvar_1', 5)
          (is_between, ':lvar_5', 46, 73)
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 300)
          (assign, ':lvar_23', 1000)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 10)
          (assign, ':lvar_26', 30)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 14)
        (try_begin)
          (neq, ':lvar_4', 6)
          (neq, ':lvar_4', 7)
          (ge, '$gvar_20', 0)
          (ge, ':lvar_1', 5)
          (gt, ':lvar_5', 0)
          (eq, '$gvar_232', 0)
          (assign, ':lvar_57', -1)
          (try_for_range, ':lvar_53', 114, 204)
            (party_slot_eq, ':lvar_53', 7, ':lvar_0')
            (store_distance_to_party_from_party, ':lvar_30', ':lvar_53', ':lvar_5')
            (lt, ':lvar_30', 25)
            (assign, ':lvar_57', ':lvar_53')
          (try_end)
          (ge, ':lvar_57', 0)
          (call_script, 79, ':lvar_2')
          (assign, ':lvar_38', reg0)
          (neq, ':lvar_38', ':lvar_5')
          (store_distance_to_party_from_party, ':lvar_30', ':lvar_38', ':lvar_5')
          (ge, ':lvar_30', 20)
          (assign, ':lvar_17', 22)
          (assign, ':lvar_15', ':lvar_57')
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 200)
          (assign, ':lvar_23', 150)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 20)
          (assign, '$gvar_4', 0)
          (assign, '$gvar_3', 0)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 15)
        (try_begin)
          (ge, '$gvar_20', 0)
          (neq, ':lvar_4', 6)
          (party_get_skill_level, ':lvar_58', 0, 16)
          (ge, ':lvar_58', 2)
          (ge, ':lvar_1', 10)
          (eq, '$gvar_232', 0)
          (gt, ':lvar_3', 0)
          (gt, ':lvar_5', 0)
          (party_slot_eq, '$gvar_269', 0, 3)
          (party_get_position, 2, 0)
          (assign, ':lvar_59', 99999)
          (try_for_range, ':lvar_60', 0, 10)
            (call_script, 114, ':lvar_3')
            (assign, ':lvar_61', reg0)
            (party_get_position, 3, ':lvar_61')
            (map_get_random_position_around_position, 4, 3, 6)
            (get_distance_between_positions, ':lvar_62', 2, 4)
            (lt, ':lvar_62', ':lvar_59')
            (assign, ':lvar_59', ':lvar_62')
            (assign, ':lvar_57', ':lvar_61')
            (copy_position, 63, 4)
          (try_end)
          (gt, ':lvar_57', 0)
          (assign, ':lvar_15', ':lvar_57')
          (assign, ':lvar_26', 50)
          (assign, ':lvar_8', ':lvar_27')
          (assign, '$gvar_5', 0)
          (assign, '$gvar_6', 0)
          (assign, '$gvar_7', 0)
          (assign, '$gvar_8', 0)
          (assign, '$gvar_9', 0)
          (assign, '$gvar_10', 0)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 16)
        (try_begin)
          (eq, '$gvar_281', ':lvar_2')
          (neg|faction_slot_eq, '$gvar_281', 7, 0)
          (ge, ':lvar_1', 15)
          (call_script, 89, ':lvar_2')
          (assign, ':lvar_12', reg0)
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 80)
          (assign, ':lvar_23', 2000)
          (assign, ':lvar_8', ':lvar_27')
        (try_end)
      (else_try)
        (eq, ':lvar_27', 17)
        (try_begin)
          (ge, '$gvar_20', 0)
          (assign, ':lvar_63', 0)
          (party_get_num_companion_stacks, ':lvar_41', 0)
          (try_for_range, ':lvar_42', 0, ':lvar_41')
            (party_stack_get_troop_id, ':lvar_43', 0, ':lvar_42')
            (troop_is_hero, ':lvar_43')
            (is_between, ':lvar_43', 386, 404)
            (store_character_level, ':lvar_64', ':lvar_43')
            (ge, ':lvar_64', 15)
            (assign, ':lvar_65', 0)
            (try_for_range, ':lvar_66', 0, 46)
              (check_quest_active, ':lvar_66')
              (this_or_next|quest_slot_eq, ':lvar_66', 2, ':lvar_43')
              (quest_slot_eq, ':lvar_66', 4, ':lvar_43')
              (assign, ':lvar_65', 1)
            (try_end)
            (eq, ':lvar_65', 0)
            (val_add, ':lvar_63', 1)
          (try_end)
          (gt, ':lvar_63', 0)
          (store_random_in_range, ':lvar_67', 0, ':lvar_63')
          (assign, ':lvar_63', 0)
          (assign, ':lvar_37', -1)
          (try_for_range, ':lvar_42', 0, ':lvar_41')
            (eq, ':lvar_37', -1)
            (party_stack_get_troop_id, ':lvar_43', 0, ':lvar_42')
            (troop_is_hero, ':lvar_43')
            (neq, ':lvar_43', 0)
            (store_character_level, ':lvar_64', ':lvar_43')
            (ge, ':lvar_64', 15)
            (assign, ':lvar_65', 0)
            (try_for_range, ':lvar_66', 0, 46)
              (check_quest_active, ':lvar_66')
              (this_or_next|quest_slot_eq, ':lvar_66', 2, ':lvar_43')
              (quest_slot_eq, ':lvar_66', 4, ':lvar_43')
              (assign, ':lvar_65', 1)
            (try_end)
            (eq, ':lvar_65', 0)
            (val_add, ':lvar_63', 1)
            (gt, ':lvar_63', ':lvar_67')
            (assign, ':lvar_37', ':lvar_43')
          (try_end)
          (assign, ':lvar_10', ':lvar_37')
          (store_current_day, ':lvar_18')
          (val_add, ':lvar_18', 8)
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 300)
          (assign, ':lvar_23', 400)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_26', 30)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 18)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 93, ':lvar_2')
          (assign, ':lvar_10', reg0)
          (neq, ':lvar_10', ':lvar_0')
          (call_script, 129, ':lvar_10')
          (assign, ':lvar_11', reg0)
          (neq, ':lvar_5', ':lvar_11')
          (assign, ':lvar_22', 30)
          (assign, ':lvar_23', 40)
          (assign, ':lvar_8', ':lvar_27')
          (store_random_in_range, ':lvar_18', 6, 9)
          (val_mul, ':lvar_18', 500)
          (store_div, ':lvar_24', ':lvar_18', 5)
          (assign, ':lvar_25', 90)
          (assign, ':lvar_26', 5)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 19)
        (try_begin)
          (neq, ':lvar_4', 7)
          (neq, ':lvar_4', 6)
          (eq, '$gvar_281', ':lvar_2')
          (ge, ':lvar_1', 10)
          (faction_slot_eq, ':lvar_2', 10, ':lvar_0')
          (assign, ':lvar_68', 1)
          (assign, ':lvar_69', 0)
          (try_for_range, ':lvar_9', 0, ':lvar_68')
            (call_script, 89, ':lvar_2')
            (assign, ':lvar_34', reg0)
            (faction_get_slot, ':lvar_37', ':lvar_34', 10)
            (assign, ':lvar_70', 0)
            (try_for_range, ':lvar_71', 405, 530)
              (troop_slot_eq, ':lvar_71', 2, 2)
              (neg|troop_slot_ge, ':lvar_71', 8, 0)
              (neq, ':lvar_37', ':lvar_71')
              (store_troop_faction, ':lvar_72', ':lvar_71')
              (eq, ':lvar_34', ':lvar_72')
              (val_add, ':lvar_70', 1)
            (try_end)
            (gt, ':lvar_70', 0)
            (assign, ':lvar_35', -1)
            (store_random_in_range, ':lvar_73', 0, ':lvar_70')
            (try_for_range, ':lvar_71', 405, 530)
              (eq, ':lvar_35', -1)
              (troop_slot_eq, ':lvar_71', 2, 2)
              (neq, ':lvar_37', ':lvar_71')
              (store_troop_faction, ':lvar_72', ':lvar_71')
              (eq, ':lvar_34', ':lvar_72')
              (val_sub, ':lvar_73', 1)
              (lt, ':lvar_73', 0)
              (assign, ':lvar_35', ':lvar_71')
            (try_end)
            (assign, ':lvar_38', -1)
            (call_script, 129, ':lvar_37')
            (is_between, reg0, 46, 73)
            (party_slot_eq, reg0, 7, ':lvar_37')
            (assign, ':lvar_38', reg0)
            (assign, ':lvar_68', -1)
            (assign, ':lvar_69', 1)
          (try_end)
          (eq, ':lvar_69', 1)
          (assign, '$gvar_589', 0)
          (party_get_num_companion_stacks, ':lvar_41', 0)
          (try_for_range, ':lvar_42', 1, ':lvar_41')
            (eq, '$gvar_589', 0)
            (party_stack_get_troop_id, ':lvar_43', 0, ':lvar_42')
            (neg|troop_is_hero, ':lvar_43')
            (store_character_level, ':lvar_74', ':lvar_43')
            (ge, ':lvar_74', 25)
            (assign, '$gvar_589', ':lvar_43')
          (try_end)
          (gt, '$gvar_589', 0)
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_14', ':lvar_35')
          (assign, ':lvar_11', ':lvar_38')
          (assign, ':lvar_12', ':lvar_34')
          (assign, ':lvar_21', 1)
          (assign, ':lvar_22', 700)
          (assign, ':lvar_23', 1000)
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 30)
          (assign, ':lvar_26', 180)
        (try_end)
      (else_try)
        (eq, ':lvar_27', 22)
        (try_begin)
          (eq, '$gvar_281', ':lvar_2')
          (call_script, 89, ':lvar_2')
          (assign, ':lvar_34', reg0)
          (store_add, ':lvar_75', 45, 1)
          (store_random_in_range, ':lvar_76', 42, ':lvar_75')
          (faction_get_slot, ':lvar_37', ':lvar_34', ':lvar_76')
          (gt, ':lvar_37', 0)
          (store_random_in_range, ':lvar_18', 3, 7)
          (assign, ':lvar_10', ':lvar_37')
          (assign, ':lvar_12', ':lvar_34')
          (assign, ':lvar_21', 1)
          (store_character_level, ':lvar_23', ':lvar_37')
          (val_add, ':lvar_23', 5)
          (val_mul, ':lvar_23', ':lvar_23')
          (val_div, ':lvar_23', 5)
          (val_mul, ':lvar_23', ':lvar_18')
          (assign, ':lvar_22', ':lvar_23')
          (assign, ':lvar_8', ':lvar_27')
          (assign, ':lvar_25', 90)
          (assign, ':lvar_26', 20)
        (try_end)
      (try_end)
    (try_end)
    (try_begin)
      (neq, ':lvar_8', -1)
      (try_begin)
        (ge, ':lvar_11', 0)
        (store_faction_of_party, ':lvar_12', ':lvar_11')
      (try_end)
      (quest_set_slot, ':lvar_8', 2, ':lvar_10')
      (quest_set_slot, ':lvar_8', 1, ':lvar_11')
      (quest_set_slot, ':lvar_8', 4, ':lvar_14')
      (quest_set_slot, ':lvar_8', 3, ':lvar_12')
      (quest_set_slot, ':lvar_8', 15, ':lvar_13')
      (quest_set_slot, ':lvar_8', 7, ':lvar_15')
      (quest_set_slot, ':lvar_8', 8, ':lvar_16')
      (quest_set_slot, ':lvar_8', 9, ':lvar_17')
      (quest_set_slot, ':lvar_8', 10, ':lvar_18')
      (quest_set_slot, ':lvar_8', 20, ':lvar_21')
      (quest_set_slot, ':lvar_8', 21, ':lvar_22')
      (quest_set_slot, ':lvar_8', 22, ':lvar_23')
      (quest_set_slot, ':lvar_8', 19, ':lvar_24')
      (quest_set_slot, ':lvar_8', 23, ':lvar_25')
      (quest_set_slot, ':lvar_8', 24, ':lvar_26')
      (quest_set_slot, ':lvar_8', 11, 0)
      (quest_set_slot, ':lvar_8', 6, ':lvar_0')
      (quest_set_slot, ':lvar_8', 12, ':lvar_5')
      (quest_set_slot, ':lvar_8', 13, ':lvar_19')
      (quest_set_slot, ':lvar_8', 14, ':lvar_20')
    (try_end)
    (assign, reg0, ':lvar_8')
cf_get_random_enemy_center_within_range=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (store_faction_of_party, ':lvar_3', ':lvar_0')
    (try_for_range, ':lvar_4', 46, 204)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (store_relation, ':lvar_6', ':lvar_3', ':lvar_5')
      (lt, ':lvar_6', 0)
      (store_distance_to_party_from_party, ':lvar_7', ':lvar_0', ':lvar_4')
      (le, ':lvar_7', ':lvar_1')
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_8', 0, ':lvar_2')
    (assign, ':lvar_9', 204)
    (try_for_range, ':lvar_4', 46, ':lvar_9')
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (store_relation, ':lvar_6', ':lvar_3', ':lvar_5')
      (lt, ':lvar_6', 0)
      (store_distance_to_party_from_party, ':lvar_7', ':lvar_0', ':lvar_4')
      (le, ':lvar_7', ':lvar_1')
      (val_sub, ':lvar_8', 1)
      (lt, ':lvar_8', 0)
      (assign, ':lvar_10', ':lvar_4')
      (assign, ':lvar_9', 0)
    (try_end)
    (assign, reg0, ':lvar_10')
cf_faction_get_random_enemy_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 15, 19)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (store_relation, ':lvar_4', ':lvar_0', ':lvar_3')
      (le, ':lvar_4', -1)
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_random_in_range, ':lvar_5', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 15, 19)
      (eq, ':lvar_1', -1)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (store_relation, ':lvar_4', ':lvar_0', ':lvar_3')
      (le, ':lvar_4', -1)
      (val_add, ':lvar_2', 1)
      (gt, ':lvar_2', ':lvar_5')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (neq, ':lvar_1', -1)
    (assign, reg0, ':lvar_1')
cf_faction_get_random_friendly_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 15, 19)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (neq, ':lvar_3', ':lvar_0')
      (store_relation, ':lvar_4', ':lvar_0', ':lvar_3')
      (ge, ':lvar_4', 0)
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_random_in_range, ':lvar_5', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 15, 19)
      (eq, ':lvar_1', -1)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (neq, ':lvar_3', ':lvar_0')
      (store_relation, ':lvar_4', ':lvar_0', ':lvar_3')
      (ge, ':lvar_4', 0)
      (val_add, ':lvar_2', 1)
      (gt, ':lvar_2', ':lvar_5')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (neq, ':lvar_1', -1)
    (assign, reg0, ':lvar_1')
cf_troop_get_random_enemy_troop_with_occupation=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 40, 45)
      (troop_get_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (gt, ':lvar_5', 0)
      (troop_slot_eq, ':lvar_5', 2, ':lvar_1')
      (val_add, ':lvar_3', 1)
    (try_end)
    (store_random_in_range, ':lvar_6', 0, ':lvar_3')
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 40, 45)
      (eq, ':lvar_2', -1)
      (troop_get_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (gt, ':lvar_5', 0)
      (troop_slot_eq, ':lvar_5', 2, ':lvar_1')
      (val_add, ':lvar_3', 1)
      (gt, ':lvar_3', ':lvar_6')
      (assign, ':lvar_2', ':lvar_5')
    (try_end)
    (neq, ':lvar_2', -1)
    (assign, reg0, ':lvar_2')
cf_get_random_faction_hero_as_lover=>
    (assign, ':lvar_0', -1)
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 405, 530)
      (troop_slot_eq, ':lvar_2', 36, 0)
      (troop_slot_eq, ':lvar_2', 30, 0)
      (val_add, ':lvar_1', 1)
    (try_end)
    (store_random_in_range, ':lvar_3', 0, ':lvar_1')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 405, 530)
      (eq, ':lvar_0', -1)
      (troop_slot_eq, ':lvar_2', 36, 0)
      (troop_slot_eq, ':lvar_2', 30, 0)
      (val_add, ':lvar_1', 1)
      (gt, ':lvar_1', ':lvar_3')
      (assign, ':lvar_0', ':lvar_2')
    (try_end)
    (neq, ':lvar_0', -1)
    (assign, reg0, ':lvar_0')
cf_get_random_lord_in_a_center_with_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (eq, ':lvar_0', ':lvar_4')
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_5', ':lvar_3', 10)
      (ge, ':lvar_5', 0)
      (party_get_attached_to, ':lvar_6', ':lvar_5')
      (is_between, ':lvar_6', 46, 204)
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_random_in_range, ':lvar_7', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (eq, ':lvar_1', -1)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (eq, ':lvar_0', ':lvar_4')
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_5', ':lvar_3', 10)
      (ge, ':lvar_5', 0)
      (party_get_attached_to, ':lvar_6', ':lvar_5')
      (is_between, ':lvar_6', 46, 204)
      (val_add, ':lvar_2', 1)
      (lt, ':lvar_7', ':lvar_2')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (neq, ':lvar_1', -1)
    (assign, reg0, ':lvar_1')
cf_get_random_lord_except_king_with_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (eq, ':lvar_0', ':lvar_4')
      (neg|faction_slot_eq, ':lvar_0', 10, ':lvar_3')
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_5', ':lvar_3', 10)
      (ge, ':lvar_5', 0)
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_random_in_range, ':lvar_6', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (eq, ':lvar_1', -1)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (eq, ':lvar_0', ':lvar_4')
      (neg|faction_slot_eq, ':lvar_0', 10, ':lvar_3')
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_5', ':lvar_3', 10)
      (ge, ':lvar_5', 0)
      (val_add, ':lvar_2', 1)
      (lt, ':lvar_6', ':lvar_2')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (neq, ':lvar_1', -1)
    (assign, reg0, ':lvar_1')
cf_get_random_lord_from_another_faction_in_a_center=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (neq, ':lvar_4', ':lvar_0')
      (store_relation, ':lvar_5', ':lvar_4', 15)
      (store_relation, ':lvar_6', ':lvar_4', ':lvar_0')
      (lt, ':lvar_6', 0)
      (ge, ':lvar_5', 0)
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_7', ':lvar_3', 10)
      (ge, ':lvar_7', 0)
      (party_get_attached_to, ':lvar_8', ':lvar_7')
      (is_between, ':lvar_8', 46, 204)
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_random_in_range, ':lvar_9', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 405, 530)
      (eq, ':lvar_1', -1)
      (store_troop_faction, ':lvar_4', ':lvar_3')
      (neq, ':lvar_4', ':lvar_0')
      (store_relation, ':lvar_5', ':lvar_4', 15)
      (store_relation, ':lvar_6', ':lvar_4', ':lvar_0')
      (lt, ':lvar_6', 0)
      (ge, ':lvar_5', 0)
      (troop_slot_eq, ':lvar_3', 2, 2)
      (neg|troop_slot_ge, ':lvar_3', 8, 0)
      (troop_get_slot, ':lvar_7', ':lvar_3', 10)
      (ge, ':lvar_7', 0)
      (party_get_attached_to, ':lvar_8', ':lvar_7')
      (is_between, ':lvar_8', 46, 204)
      (val_add, ':lvar_2', 1)
      (lt, ':lvar_9', ':lvar_2')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (neq, ':lvar_1', -1)
    (assign, reg0, ':lvar_1')
get_closest_walled_center=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 9999999)
    (assign, reg0, -1)
    (try_for_range, ':lvar_2', 46, 114)
      (store_distance_to_party_from_party, ':lvar_3', ':lvar_0', ':lvar_2')
      (lt, ':lvar_3', ':lvar_1')
      (assign, ':lvar_1', ':lvar_3')
      (assign, reg0, ':lvar_2')
    (try_end)
get_closest_center=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 9999999)
    (assign, reg0, -1)
    (try_for_range, ':lvar_2', 46, 204)
      (store_distance_to_party_from_party, ':lvar_3', ':lvar_0', ':lvar_2')
      (lt, ':lvar_3', ':lvar_1')
      (assign, ':lvar_1', ':lvar_3')
      (assign, reg0, ':lvar_2')
    (try_end)
get_closest_center_of_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 99999)
    (assign, ':lvar_3', -1)
    (try_for_range, ':lvar_4', 46, 204)
      (store_faction_of_party, ':lvar_1', ':lvar_4')
      (eq, ':lvar_1', ':lvar_1')
      (store_distance_to_party_from_party, ':lvar_5', ':lvar_0', ':lvar_4')
      (lt, ':lvar_5', ':lvar_2')
      (assign, ':lvar_2', ':lvar_5')
      (assign, ':lvar_3', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_3')
get_closest_walled_center_of_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 99999)
    (assign, ':lvar_3', -1)
    (try_for_range, ':lvar_4', 46, 114)
      (store_faction_of_party, ':lvar_1', ':lvar_4')
      (eq, ':lvar_1', ':lvar_1')
      (store_distance_to_party_from_party, ':lvar_5', ':lvar_0', ':lvar_4')
      (lt, ':lvar_5', ':lvar_2')
      (assign, ':lvar_2', ':lvar_5')
      (assign, ':lvar_3', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_3')
let_nearby_parties_join_current_battle=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 5)
    (try_begin)
      (is_currently_night)
      (assign, ':lvar_2', 3)
    (try_end)
    (try_for_parties, ':lvar_3')
      (party_get_battle_opponent, ':lvar_4', ':lvar_3')
      (lt, ':lvar_4', 0)
      (party_get_attached_to, ':lvar_5', ':lvar_3')
      (lt, ':lvar_5', 0)
      (get_party_ai_behavior, ':lvar_6', ':lvar_3')
      (neq, ':lvar_6', 8)
      (store_distance_to_party_from_party, ':lvar_7', ':lvar_3', 0)
      (lt, ':lvar_7', ':lvar_2')
      (store_faction_of_party, ':lvar_8', ':lvar_3')
      (store_faction_of_party, ':lvar_9', '$gvar_181')
      (try_begin)
        (eq, ':lvar_8', 15)
        (assign, ':lvar_10', 100)
      (else_try)
        (store_relation, ':lvar_10', ':lvar_8', 15)
      (try_end)
      (try_begin)
        (eq, ':lvar_8', ':lvar_9')
        (assign, ':lvar_11', 100)
      (else_try)
        (store_relation, ':lvar_11', ':lvar_8', ':lvar_9')
      (try_end)
      (assign, ':lvar_12', 1)
      (try_begin)
        (neq, '$gvar_181', '$gvar_269')
        (assign, ':lvar_12', 2)
      (try_end)
      (try_begin)
        (eq, ':lvar_0', 0)
        (lt, ':lvar_10', 0)
        (gt, ':lvar_11', 0)
        (party_get_slot, ':lvar_13', ':lvar_3')
        (eq, ':lvar_13', 13)
        (get_party_ai_behavior, ':lvar_14', ':lvar_3')
        (neq, ':lvar_14', 5)
        (party_quick_attach_to_current_battle, ':lvar_3', ':lvar_12')
        (str_store_party_name, 1, ':lvar_3')
        (display_message, 216172782113783950, 16732240)
      (else_try)
        (eq, ':lvar_1', 0)
        (gt, ':lvar_10', 0)
        (lt, ':lvar_11', 0)
        (assign, ':lvar_15', 1)
        (try_begin)
          (eq, ':lvar_0', 1)
          (assign, ':lvar_15', 0)
          (eq, ':lvar_8', '$gvar_281')
          (faction_slot_eq, '$gvar_281', 7, 0)
          (assign, ':lvar_15', 1)
        (try_end)
        (eq, ':lvar_15', 1)
        (party_get_slot, ':lvar_13', ':lvar_3')
        (eq, ':lvar_13', 13)
        (party_stack_get_troop_id, ':lvar_16', ':lvar_3', 0)
        (call_script, 150, ':lvar_16')
        (assign, ':lvar_17', reg0)
        (ge, ':lvar_17', 0)
        (party_quick_attach_to_current_battle, ':lvar_3', 0)
        (str_store_party_name, 1, ':lvar_3')
        (display_message, 216172782113783951, 5308240)
      (try_end)
    (try_end)
party_wound_all_members_aux=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (try_begin)
        (neg|troop_is_hero, ':lvar_3')
        (party_stack_get_size, ':lvar_4', ':lvar_0', ':lvar_2')
        (party_wound_members, ':lvar_0', ':lvar_3', ':lvar_4')
      (else_try)
        (troop_set_health, ':lvar_3', 0)
      (try_end)
    (try_end)
    (party_get_num_attached_parties, ':lvar_5', ':lvar_0')
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (party_get_attached_party_with_rank, ':lvar_7', ':lvar_0', ':lvar_6')
      (call_script, 101, ':lvar_7')
    (try_end)
party_wound_all_members=>
    (store_script_param_1, ':lvar_0')
    (call_script, 101, ':lvar_0')
calculate_battle_advantage=>
    (call_script, 71, 17)
    (assign, ':lvar_0', reg0)
    (party_get_skill_level, ':lvar_1', 0, 15)
    (party_get_skill_level, ':lvar_2', 17, 15)
    (val_max, ':lvar_1', ':lvar_2')
    (call_script, 71, 15)
    (assign, ':lvar_3', reg0)
    (party_get_skill_level, ':lvar_4', 15, 15)
    (val_add, ':lvar_0', 1)
    (val_add, ':lvar_3', 1)
    (try_begin)
      (ge, ':lvar_0', ':lvar_3')
      (val_mul, ':lvar_0', 100)
      (store_div, ':lvar_5', ':lvar_0', ':lvar_3')
      (store_sub, ':lvar_6', ':lvar_5', 100)
    (else_try)
      (val_mul, ':lvar_3', 100)
      (store_div, ':lvar_5', ':lvar_3', ':lvar_0')
      (store_sub, ':lvar_6', 100, ':lvar_5')
    (try_end)
    (val_mul, ':lvar_6', 2)
    (val_mul, ':lvar_1', 30)
    (val_mul, ':lvar_4', 30)
    (val_add, ':lvar_6', ':lvar_1')
    (val_sub, ':lvar_6', ':lvar_4')
    (val_div, ':lvar_6', 100)
    (assign, reg0, ':lvar_6')
    (display_message, '@qstr_250', 4294967295)
cf_check_enemies_nearby=>
    (get_player_agent_no, ':lvar_0')
    (agent_is_alive, ':lvar_0')
    (agent_get_position, 1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (set_fixed_point_multiplier, 100)
    (try_for_agents, ':lvar_2')
      (neq, ':lvar_2', ':lvar_0')
      (agent_is_alive, ':lvar_2')
      (agent_is_human, ':lvar_2')
      (neg|agent_is_ally, ':lvar_2')
      (agent_get_position, 2, ':lvar_2')
      (get_distance_between_positions, ':lvar_3', 1, 2)
      (le, ':lvar_3', 1500)
      (assign, ':lvar_1', 1)
    (try_end)
    (eq, ':lvar_1', 0)
get_heroes_attached_to_center_aux=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (troop_is_hero, ':lvar_4')
      (party_add_members, ':lvar_1', ':lvar_4', 1)
    (try_end)
    (party_get_num_attached_parties, ':lvar_5', ':lvar_0')
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (party_get_attached_party_with_rank, ':lvar_7', ':lvar_0', ':lvar_6')
      (call_script, 105, ':lvar_7', ':lvar_1')
    (try_end)
get_heroes_attached_to_center=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_clear, ':lvar_1')
    (call_script, 105, ':lvar_0', ':lvar_1')
    (try_for_range, ':lvar_2', 530, 530)
      (neq, ':lvar_2', '$gvar_36')
      (troop_slot_eq, ':lvar_2', 12, ':lvar_0')
      (party_add_members, ':lvar_1', ':lvar_2', 1)
    (try_end)
get_heroes_attached_to_center_as_prisoner_aux=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_num_prisoner_stacks, ':lvar_2', ':lvar_0')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_prisoner_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (troop_is_hero, ':lvar_4')
      (party_add_members, ':lvar_1', ':lvar_4', 1)
    (try_end)
    (party_get_num_attached_parties, ':lvar_5', ':lvar_0')
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (party_get_attached_party_with_rank, ':lvar_7', ':lvar_0', ':lvar_6')
      (call_script, 107, ':lvar_7', ':lvar_1')
    (try_end)
get_heroes_attached_to_center_as_prisoner=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_clear, ':lvar_1')
    (call_script, 107, ':lvar_0', ':lvar_1')
give_center_to_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (check_quest_active, 27)
      (quest_slot_eq, 27, 1, ':lvar_0')
      (call_script, 194, 27, 0)
      (faction_get_slot, ':lvar_2', '$gvar_281', 7)
      (str_store_troop_name_link, 9, ':lvar_2')
      (setup_quest_text, 24)
      (str_store_string, 2, '@qstr_251')
      (call_script, 260, 24, ':lvar_2')
      (assign, '$gvar_58', 0)
    (try_end)
    (store_faction_of_party, ':lvar_3', ':lvar_0')
    (call_script, 110, ':lvar_0', ':lvar_1')
    (call_script, 267)
    (try_for_range, ':lvar_4', 15, 19)
      (call_script, 78, ':lvar_4')
    (try_end)
    (assign, '$gvar_70', 1)
    (call_script, 258, ':lvar_3')
    (try_begin)
      (eq, ':lvar_1', 15)
      (faction_slot_eq, 15, 10, 0)
      (call_script, 112, ':lvar_0', 0, 0)
      (try_for_range, ':lvar_5', 114, 204)
        (store_faction_of_party, ':lvar_6', ':lvar_5')
        (eq, ':lvar_6', 15)
        (neg|party_slot_eq, ':lvar_5', 7, 0)
        (call_script, 112, ':lvar_5', 0, 0)
      (try_end)
    (try_end)
give_center_to_faction_aux=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_faction_of_party, ':lvar_2', ':lvar_0')
    (party_set_slot, ':lvar_0', 62, ':lvar_2')
    (party_set_faction, ':lvar_0', ':lvar_1')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 4)
      (party_get_slot, ':lvar_3', ':lvar_0', 122)
      (gt, ':lvar_3', 0)
      (party_is_active, ':lvar_3')
      (party_set_faction, ':lvar_3', ':lvar_1')
    (try_end)
    (party_get_slot, ':lvar_4', ':lvar_0', 7)
    (party_set_slot, ':lvar_0', 7, -1)
    (party_set_banner_icon, ':lvar_0', 0)
    (call_script, 277, ':lvar_2')
    (call_script, 277, ':lvar_1')
    (call_script, 281, ':lvar_0')
    (try_begin)
      (ge, ':lvar_4', 0)
      (call_script, 279, ':lvar_4')
    (try_end)
    (try_for_range, ':lvar_5', 46, 204)
      (party_slot_eq, ':lvar_5', 120, ':lvar_0')
      (call_script, 110, ':lvar_5', ':lvar_1')
    (try_end)
change_troop_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (is_between, ':lvar_1', 15, 19)
      (neg|faction_slot_eq, ':lvar_1', 21, 0)
      (faction_set_slot, ':lvar_1', 21, 0)
      (call_script, 349)
    (try_end)
    (troop_set_faction, ':lvar_0', ':lvar_1')
    (try_for_range, ':lvar_2', 46, 114)
      (party_slot_eq, ':lvar_2', 7, ':lvar_0')
      (party_set_faction, ':lvar_2', ':lvar_1')
      (try_for_range, ':lvar_3', 114, 204)
        (party_slot_eq, ':lvar_3', 120, ':lvar_2')
        (party_set_faction, ':lvar_3', ':lvar_1')
        (party_get_slot, ':lvar_4', ':lvar_3', 122)
        (try_begin)
          (gt, ':lvar_4', 0)
          (party_is_active, ':lvar_4')
          (party_set_faction, ':lvar_4', ':lvar_1')
        (try_end)
        (try_begin)
          (party_get_slot, ':lvar_5', ':lvar_3', 7)
          (neq, ':lvar_5', ':lvar_0')
          (party_set_slot, ':lvar_3', 7, -1)
        (try_end)
      (try_end)
    (try_end)
    (try_for_range, ':lvar_3', 114, 204)
      (party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (store_faction_of_party, ':lvar_6', ':lvar_3')
      (try_begin)
        (neq, ':lvar_6', ':lvar_1')
        (party_set_slot, ':lvar_3', 7, -1)
      (try_end)
    (try_end)
    (try_begin)
      (troop_get_slot, ':lvar_7', ':lvar_0', 10)
      (ge, ':lvar_7', 0)
      (party_set_faction, ':lvar_7', ':lvar_1')
      (party_get_num_prisoner_stacks, ':lvar_8', ':lvar_7')
      (try_for_range_backwards, ':lvar_9', 0, ':lvar_8')
        (party_prisoner_stack_get_troop_id, ':lvar_10', ':lvar_7', ':lvar_9')
        (store_troop_faction, ':lvar_11', ':lvar_10')
        (troop_is_hero, ':lvar_10')
        (eq, ':lvar_11', ':lvar_1')
        (call_script, 364, ':lvar_10')
        (party_remove_prisoners, ':lvar_7', ':lvar_10', 1)
      (try_end)
    (try_end)
    (call_script, 283)
    (call_script, 267)
    (assign, '$gvar_70', 1)
give_center_to_lord=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (party_get_slot, ':lvar_3', ':lvar_0', 7)
    (store_troop_faction, ':lvar_4', ':lvar_1')
    (try_begin)
      (eq, ':lvar_1', 0)
      (gt, '$gvar_281', 0)
      (party_set_faction, ':lvar_0', '$gvar_281')
    (else_try)
      (eq, ':lvar_1', 0)
      (le, '$gvar_281', 0)
      (party_set_faction, ':lvar_0', 15)
    (else_try)
      (party_set_faction, ':lvar_0', ':lvar_4')
    (try_end)
    (party_set_slot, ':lvar_0', 7, ':lvar_1')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 4)
      (party_get_slot, ':lvar_5', ':lvar_0', 122)
      (gt, ':lvar_5', 0)
      (party_is_active, ':lvar_5')
      (store_faction_of_party, ':lvar_6', ':lvar_0')
      (party_set_faction, ':lvar_5', ':lvar_6')
    (try_end)
    (try_begin)
      (this_or_next|party_slot_eq, ':lvar_0', 0, 3)
      (party_slot_eq, ':lvar_0', 0, 2)
      (troop_get_slot, ':lvar_7', ':lvar_1', 13)
      (gt, ':lvar_7', 0)
      (val_sub, ':lvar_7', 594)
      (val_add, ':lvar_7', 109)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 0)
      (neq, ':lvar_3', 0)
      (party_get_slot, ':lvar_8', ':lvar_0', 26)
      (is_between, ':lvar_8', -4, 5)
      (call_script, 153, ':lvar_0', 5)
      (gt, ':lvar_3', 0)
      (call_script, 152, ':lvar_3', -25)
    (try_end)
    (call_script, 279, ':lvar_1')
    (call_script, 281, ':lvar_0')
    (call_script, 277, ':lvar_4')
    (try_begin)
      (ge, ':lvar_3', 0)
      (call_script, 279, ':lvar_3')
      (store_troop_faction, ':lvar_9', ':lvar_3')
      (call_script, 277, ':lvar_9')
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (this_or_next|party_slot_eq, ':lvar_0', 0, 3)
      (party_slot_eq, ':lvar_0', 0, 2)
      (assign, ':lvar_10', 3)
      (try_begin)
        (party_slot_eq, ':lvar_0', 0, 3)
        (assign, ':lvar_10', 9)
      (try_end)
      (try_for_range, ':lvar_11', 0, ':lvar_10')
        (call_script, 120, ':lvar_0')
      (try_end)
      (try_for_range, ':lvar_11', 0, 7)
        (store_random_in_range, ':lvar_12', 1500, 2000)
        (party_upgrade_with_xp, ':lvar_0', ':lvar_12', 0)
      (try_end)
    (try_end)
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 2)
      (try_for_range, ':lvar_13', 114, 204)
        (party_slot_eq, ':lvar_13', 120, ':lvar_0')
        (call_script, 112, ':lvar_13', ':lvar_1', 0)
      (try_end)
    (try_end)
    (try_begin)
      (this_or_next|party_slot_eq, ':lvar_0', 0, 3)
      (party_slot_eq, ':lvar_0', 0, 2)
      (call_script, 403, ':lvar_0')
    (try_end)
get_number_of_hero_centers=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 46, 204)
      (party_slot_eq, ':lvar_2', 7, ':lvar_0')
      (val_add, ':lvar_1', 1)
    (try_end)
    (assign, reg0, ':lvar_1')
cf_get_random_enemy_center=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 0)
    (store_faction_of_party, ':lvar_3', ':lvar_0')
    (try_for_range, ':lvar_4', 46, 204)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (store_relation, ':lvar_6', ':lvar_5', ':lvar_3')
      (lt, ':lvar_6', 0)
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_7', 0, ':lvar_2')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_4', 46, 204)
      (eq, ':lvar_1', -1)
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (store_relation, ':lvar_6', ':lvar_5', ':lvar_3')
      (lt, ':lvar_6', 0)
      (val_sub, ':lvar_7', 1)
      (lt, ':lvar_7', 0)
      (assign, ':lvar_1', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_1')
find_travel_location=>
    (store_script_param_1, ':lvar_0')
    (store_faction_of_party, ':lvar_1', ':lvar_0')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 204)
      (neq, ':lvar_0', ':lvar_3')
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_1', ':lvar_4')
      (store_distance_to_party_from_party, ':lvar_5', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_5', 1)
      (assign, ':lvar_6', 100000)
      (val_div, ':lvar_6', ':lvar_5')
      (val_add, ':lvar_2', ':lvar_6')
    (try_end)
    (assign, reg0, -1)
    (try_begin)
      (eq, ':lvar_2', 0)
    (else_try)
      (store_random_in_range, ':lvar_7', 0, ':lvar_2')
      (assign, ':lvar_2', 0)
      (assign, ':lvar_8', 0)
      (try_for_range, ':lvar_3', 46, 204)
        (eq, ':lvar_8', 0)
        (neq, ':lvar_0', ':lvar_3')
        (store_faction_of_party, ':lvar_4', ':lvar_3')
        (eq, ':lvar_1', ':lvar_4')
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_0', ':lvar_3')
        (val_add, ':lvar_5', 1)
        (assign, ':lvar_6', 100000)
        (val_div, ':lvar_6', ':lvar_5')
        (val_add, ':lvar_2', ':lvar_6')
        (lt, ':lvar_7', ':lvar_2')
        (assign, reg0, ':lvar_3')
        (assign, ':lvar_8', 1)
      (try_end)
    (try_end)
get_relation_between_parties=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_faction_of_party, ':lvar_2', ':lvar_0')
    (store_faction_of_party, ':lvar_3', ':lvar_1')
    (try_begin)
      (eq, ':lvar_2', ':lvar_3')
      (assign, reg0, 100)
    (else_try)
      (store_relation, ':lvar_4', ':lvar_2', ':lvar_3')
      (assign, reg0, ':lvar_4')
    (try_end)
calculate_weekly_party_wage=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (party_get_num_companion_stacks, ':lvar_2', ':lvar_0')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (party_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_3')
      (call_script, 30, ':lvar_4', ':lvar_0')
      (assign, ':lvar_6', reg0)
      (val_mul, ':lvar_6', ':lvar_5')
      (val_add, ':lvar_1', ':lvar_6')
    (try_end)
    (assign, reg0, ':lvar_1')
calculate_player_faction_wage=>
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', 0)
    (try_for_parties, ':lvar_2')
      (assign, ':lvar_3', 0)
      (try_begin)
        (this_or_next|party_slot_eq, ':lvar_2', 0, 3)
        (party_slot_eq, ':lvar_2', 0, 2)
        (party_slot_eq, ':lvar_2', 7, 0)
        (assign, ':lvar_3', 1)
      (try_end)
      (this_or_next|eq, ':lvar_2', 0)
      (eq, ':lvar_3', 1)
      (party_get_num_companion_stacks, ':lvar_4', ':lvar_2')
      (try_for_range, ':lvar_5', 0, ':lvar_4')
        (party_stack_get_troop_id, ':lvar_6', ':lvar_2', ':lvar_5')
        (party_stack_get_size, ':lvar_7', ':lvar_2', ':lvar_5')
        (call_script, 10, ':lvar_6', ':lvar_2')
        (assign, ':lvar_8', reg0)
        (val_mul, ':lvar_8', ':lvar_7')
        (try_begin)
          (eq, ':lvar_3', 1)
          (val_add, ':lvar_1', ':lvar_8')
        (else_try)
          (val_add, ':lvar_0', ':lvar_8')
        (try_end)
      (try_end)
    (try_end)
    (val_div, ':lvar_1', 2)
    (store_sub, ':lvar_9', 14, '$gvar_638')
    (val_mul, ':lvar_0', ':lvar_9')
    (val_div, ':lvar_0', 14)
    (store_add, reg0, ':lvar_0', ':lvar_1')
calculate_hero_weekly_net_income_and_add_to_wealth=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (troop_get_slot, ':lvar_2', ':lvar_0', 11)
    (assign, ':lvar_3', 750)
    (store_character_level, ':lvar_4', ':lvar_0')
    (store_mul, ':lvar_5', ':lvar_4', 10)
    (val_add, ':lvar_3', ':lvar_5')
    (store_troop_faction, ':lvar_6', ':lvar_0')
    (try_begin)
      (faction_slot_eq, ':lvar_6', 10, ':lvar_0')
      (val_add, ':lvar_3', 1500)
    (try_end)
    (assign, ':lvar_7', 0)
    (try_begin)
      (gt, ':lvar_1', 0)
      (call_script, 117, ':lvar_1')
      (assign, ':lvar_7', reg0)
    (try_end)
    (val_sub, ':lvar_3', ':lvar_7')
    (val_add, ':lvar_2', ':lvar_3')
    (val_max, ':lvar_2', 0)
    (troop_set_slot, ':lvar_0', 11, ':lvar_2')
cf_reinforce_party=>
    (store_script_param_1, ':lvar_0')
    (store_faction_of_party, ':lvar_1', ':lvar_0')
    (party_get_slot, ':lvar_2', ':lvar_0', 0)
    (try_begin)
      (eq, ':lvar_2', 13)
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0')
      (troop_get_slot, ':lvar_1', ':lvar_3', 14)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 15)
      (party_get_slot, ':lvar_4', ':lvar_0', 7)
      (try_begin)
        (gt, ':lvar_4', 0)
        (troop_get_slot, ':lvar_1', ':lvar_4', 14)
      (else_try)
        (party_get_slot, ':lvar_1', ':lvar_0', 61)
      (try_end)
    (try_end)
    (faction_get_slot, ':lvar_5', ':lvar_1', 77)
    (faction_get_slot, ':lvar_6', ':lvar_1', 78)
    (faction_get_slot, ':lvar_7', ':lvar_1', 79)
    (assign, ':lvar_8', 0)
    (store_random_in_range, ':lvar_9', 0, 100)
    (try_begin)
      (this_or_next|eq, ':lvar_2', 3)
      (eq, ':lvar_2', 2)
      (try_begin)
        (lt, ':lvar_9', 70)
        (assign, ':lvar_8', ':lvar_5')
      (else_try)
        (assign, ':lvar_8', ':lvar_6')
      (try_end)
    (else_try)
      (eq, ':lvar_2', 13)
      (try_begin)
        (lt, ':lvar_9', 55)
        (assign, ':lvar_8', ':lvar_5')
      (else_try)
        (lt, ':lvar_9', 80)
        (assign, ':lvar_8', ':lvar_6')
      (else_try)
        (assign, ':lvar_8', ':lvar_7')
      (try_end)
    (else_try)
    (try_end)
    (try_begin)
      (gt, ':lvar_8', 0)
      (party_add_template, ':lvar_0', ':lvar_8')
    (try_end)
hire_men_to_faction_hero_party=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (troop_get_slot, ':lvar_2', ':lvar_0', 11)
    (assign, ':lvar_3', ':lvar_2')
    (val_mul, ':lvar_3', 3)
    (val_div, ':lvar_3', 4)
    (assign, ':lvar_4', 1)
    (call_script, 22, ':lvar_1')
    (assign, ':lvar_5', reg0)
    (store_mul, ':lvar_6', ':lvar_5', 3)
    (val_div, ':lvar_6', 2)
    (party_get_num_companions, ':lvar_7', ':lvar_1')
    (try_for_range, ':lvar_8', 0, ':lvar_4')
      (try_begin)
        (lt, ':lvar_7', ':lvar_5')
        (gt, ':lvar_3', 400)
        (gt, ':lvar_1', 0)
        (call_script, 120, ':lvar_1')
        (val_sub, ':lvar_2', 400)
        (troop_set_slot, ':lvar_0', 11, ':lvar_2')
      (else_try)
        (gt, ':lvar_7', ':lvar_6')
        (store_troop_faction, ':lvar_9', ':lvar_0')
        (party_get_num_companion_stacks, ':lvar_10', ':lvar_1')
        (assign, ':lvar_11', 0)
        (assign, ':lvar_12', 0)
        (try_for_range_backwards, ':lvar_13', 0, ':lvar_10')
          (party_stack_get_troop_id, ':lvar_14', ':lvar_1', ':lvar_13')
          (neg|troop_is_hero, ':lvar_14')
          (party_stack_get_size, ':lvar_15', ':lvar_1', ':lvar_13')
          (store_character_level, ':lvar_16', ':lvar_14')
          (store_troop_faction, ':lvar_17', ':lvar_14')
          (try_begin)
            (eq, ':lvar_9', ':lvar_17')
            (val_mul, ':lvar_16', 3)
          (try_end)
          (val_mul, ':lvar_16', ':lvar_15')
          (val_add, ':lvar_11', ':lvar_15')
          (val_add, ':lvar_12', ':lvar_16')
        (try_end)
        (gt, ':lvar_11', 0)
        (store_div, ':lvar_18', ':lvar_12', ':lvar_11')
        (try_for_range_backwards, ':lvar_13', 0, ':lvar_10')
          (party_stack_get_troop_id, ':lvar_14', ':lvar_1', ':lvar_13')
          (neg|troop_is_hero, ':lvar_14')
          (party_stack_get_size, ':lvar_15', ':lvar_1', ':lvar_13')
          (store_character_level, ':lvar_16', ':lvar_14')
          (store_troop_faction, ':lvar_17', ':lvar_14')
          (try_begin)
            (eq, ':lvar_9', ':lvar_17')
            (val_mul, ':lvar_16', 3)
          (try_end)
          (store_sub, ':lvar_19', ':lvar_18', ':lvar_16')
          (val_div, ':lvar_19', 3)
          (store_add, ':lvar_20', 10, ':lvar_19')
          (gt, ':lvar_20', 0)
          (call_script, 122, ':lvar_15', ':lvar_20')
          (gt, reg0, 0)
          (party_remove_members, ':lvar_1', ':lvar_14', reg0)
        (try_end)
      (try_end)
    (try_end)
get_percentage_with_randomized_round=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_mul, ':lvar_2', ':lvar_0', ':lvar_1')
    (val_div, ':lvar_2', 100)
    (store_mul, ':lvar_3', ':lvar_2', 100)
    (val_div, ':lvar_3', ':lvar_1')
    (store_sub, ':lvar_4', ':lvar_0', ':lvar_3')
    (try_begin)
      (gt, ':lvar_4', 0)
      (store_mul, ':lvar_5', ':lvar_4', ':lvar_1')
      (store_random_in_range, ':lvar_6', 0, 100)
      (lt, ':lvar_6', ':lvar_5')
      (val_add, ':lvar_2', 1)
    (try_end)
    (assign, reg0, ':lvar_2')
create_cattle_herd=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -1)
    (set_spawn_radius, 1)
    (spawn_around_party, ':lvar_0', 5)
    (assign, ':lvar_2', reg0)
    (party_get_position, 1, ':lvar_0')
    (call_script, 199, 1, 2)
    (party_set_position, ':lvar_2', 2)
    (party_set_slot, ':lvar_2', 0, 17)
    (party_set_slot, ':lvar_2', 4, -1)
    (party_set_ai_behavior, ':lvar_2', 0)
    (party_set_slot, ':lvar_2', 30, -1)
    (try_begin)
      (gt, ':lvar_1', 0)
      (party_clear, ':lvar_2')
      (party_add_members, ':lvar_2', 23, ':lvar_1')
    (try_end)
    (assign, reg0, ':lvar_2')
buy_cattle_from_village=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (try_for_range, ':lvar_3', 0, ':lvar_1')
      (call_script, 8, 76, 0)
      (call_script, 8, 76, 0)
    (try_end)
    (party_get_slot, ':lvar_4', ':lvar_0', 45)
    (val_sub, ':lvar_4', ':lvar_1')
    (party_set_slot, ':lvar_0', 45, ':lvar_4')
    (store_mul, ':lvar_5', ':lvar_2', ':lvar_1')
    (troop_remove_gold, 0, ':lvar_5')
    (assign, ':lvar_6', 1)
    (try_for_parties, ':lvar_7')
      (eq, ':lvar_6', 1)
      (party_slot_eq, ':lvar_7', 0, 17)
      (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_7')
      (lt, ':lvar_8', 6)
      (assign, ':lvar_9', 1)
      (try_begin)
        (check_quest_active, 32)
        (quest_slot_eq, 32, 8, ':lvar_7')
        (assign, ':lvar_9', 0)
      (try_end)
      (eq, ':lvar_9', 1)
      (party_add_members, ':lvar_7', 23, ':lvar_1')
      (assign, ':lvar_6', 0)
      (assign, reg0, ':lvar_7')
    (try_end)
    (try_begin)
      (eq, ':lvar_6', 1)
      (call_script, 123, ':lvar_0', ':lvar_1')
    (try_end)
kill_cattle_from_herd=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (troop_clear_inventory, 1)
    (store_mul, ':lvar_2', ':lvar_1', 2)
    (troop_add_items, 1, 76, ':lvar_2')
    (troop_get_inventory_capacity, ':lvar_3', 1)
    (try_for_range, ':lvar_4', 0, ':lvar_3')
      (troop_get_inventory_slot, ':lvar_5', 1, ':lvar_4')
      (eq, ':lvar_5', 76)
      (troop_set_inventory_slot_modifier, 1, ':lvar_4', 37)
    (try_end)
    (party_get_num_companions, ':lvar_6', ':lvar_0')
    (try_begin)
      (ge, ':lvar_1', ':lvar_6')
      (remove_party, ':lvar_0')
    (else_try)
      (party_remove_members, ':lvar_0', 23, ':lvar_1')
    (try_end)
create_faction_hero_party=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_troop_faction, ':lvar_2', ':lvar_0')
    (assign, '$gvar_590', -1)
    (set_spawn_radius, 0)
    (spawn_around_party, ':lvar_1', 35)
    (assign, '$gvar_590', reg0)
    (party_set_faction, '$gvar_590', ':lvar_2')
    (party_set_slot, '$gvar_590', 0, 13)
    (call_script, 139, '$gvar_590', -1, -1)
    (troop_set_slot, ':lvar_0', 10, '$gvar_590')
    (party_add_leader, '$gvar_590', ':lvar_0')
    (str_store_troop_name, 5, ':lvar_0')
    (party_set_name, '$gvar_590', 216172782113783820)
    (party_set_slot, '$gvar_590', 30, -1)
    (troop_get_slot, ':lvar_3', ':lvar_0', 13)
    (try_begin)
      (gt, ':lvar_3', 0)
      (val_sub, ':lvar_3', 594)
      (val_add, ':lvar_3', 109)
      (party_set_banner_icon, '$gvar_590', ':lvar_3')
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 16)
      (try_begin)
        (eq, ':lvar_0', 405)
        (party_set_icon, '$gvar_590', 1)
      (else_try)
        (eq, ':lvar_0', 415)
        (party_set_icon, '$gvar_590', 2)
      (else_try)
        (is_between, ':lvar_0', 405, 424)
        (party_set_icon, '$gvar_590', 1)
      (else_try)
        (is_between, ':lvar_0', 424, 440)
        (party_set_icon, '$gvar_590', 3)
      (else_try)
        (party_set_icon, '$gvar_590', 4)
      (try_end)
    (else_try)
      (eq, ':lvar_2', 17)
      (try_begin)
        (is_between, ':lvar_0', 406, 465)
        (party_set_icon, '$gvar_590', 12)
      (else_try)
        (is_between, ':lvar_0', 465, 475)
        (party_set_icon, '$gvar_590', 10)
      (else_try)
        (this_or_next|eq, ':lvar_0', 471)
        (eq, ':lvar_0', 474)
        (party_set_icon, '$gvar_590', 11)
      (else_try)
        (store_random_in_range, ':lvar_4', 0, 1)
        (try_begin)
          (eq, ':lvar_4', 1)
          (party_set_icon, '$gvar_590', 10)
        (else_try)
          (party_set_icon, '$gvar_590', 11)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_2', 18)
      (try_begin)
        (is_between, ':lvar_0', 407, 497)
        (party_set_icon, '$gvar_590', 19)
      (else_try)
        (is_between, ':lvar_0', 497, 504)
        (party_set_icon, '$gvar_590', 20)
      (else_try)
        (party_set_icon, '$gvar_590', 21)
      (try_end)
    (else_try)
      (eq, ':lvar_2', 15)
      (party_set_icon, '$gvar_590', 26)
    (try_end)
    (try_begin)
      (troop_slot_eq, ':lvar_0', 28, 0)
      (troop_set_slot, ':lvar_0', 28, 1)
      (assign, ':lvar_5', 15)
      (try_begin)
        (store_troop_faction, ':lvar_6', ':lvar_0')
        (faction_slot_eq, ':lvar_6', 10, ':lvar_0')
        (assign, ':lvar_5', 40)
      (try_end)
      (try_for_range, ':lvar_7', 0, ':lvar_5')
        (call_script, 121, ':lvar_0')
      (try_end)
      (store_random_in_range, ':lvar_8', 2, 6)
      (troop_get_slot, ':lvar_9', ':lvar_0', 7)
      (store_div, ':lvar_10', ':lvar_9', 100)
      (val_add, ':lvar_8', ':lvar_10')
      (try_for_range, ':lvar_7', 0, ':lvar_8')
        (call_script, 293, '$gvar_590', 4000)
      (try_end)
    (try_end)
create_faction_party_if_below_limit=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (call_script, 76, ':lvar_0', ':lvar_1')
    (assign, ':lvar_2', reg0)
    (assign, ':lvar_3', 0)
    (try_begin)
      (eq, ':lvar_1', 11)
      (assign, ':lvar_3', 12)
    (try_end)
    (assign, reg0, -1)
    (try_begin)
      (lt, ':lvar_2', ':lvar_3')
      (call_script, 128, ':lvar_0', ':lvar_1')
    (try_end)
cf_create_faction_party=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (str_store_faction_name, 7, ':lvar_0')
    (assign, ':lvar_2', 216172782113783808)
    (faction_get_slot, ':lvar_3', ':lvar_0', 78)
    (try_begin)
      (eq, ':lvar_1', 11)
      (assign, ':lvar_4', 31)
    (try_end)
    (assign, ':lvar_5', -1)
    (try_begin)
      (try_begin)
        (eq, ':lvar_1', 11)
        (call_script, 79, ':lvar_0', -1)
        (set_spawn_radius, 0)
      (else_try)
        (call_script, 81, ':lvar_0', -1)
        (set_spawn_radius, 1)
      (try_end)
      (assign, ':lvar_6', reg0)
      (is_between, ':lvar_6', 46, 204)
      (spawn_around_party, ':lvar_6', ':lvar_4')
      (assign, ':lvar_5', reg0)
      (party_set_faction, ':lvar_5', ':lvar_0')
      (try_begin)
        (eq, ':lvar_1', 11)
        (party_set_slot, ':lvar_5', 123, ':lvar_6')
        (try_begin)
          (eq, ':lvar_0', 16)
          (party_set_icon, ':lvar_5', 5)
        (else_try)
          (eq, ':lvar_0', 17)
          (party_set_icon, ':lvar_5', 9)
        (else_try)
          (eq, ':lvar_0', 18)
          (party_set_icon, ':lvar_5', 22)
        (else_try)
        (try_end)
      (try_end)
      (party_set_slot, ':lvar_5', 0, ':lvar_1')
      (party_set_slot, ':lvar_5', 4, -1)
      (try_begin)
        (neq, ':lvar_2', 216172782113783808)
        (party_set_name, ':lvar_5', ':lvar_2')
      (try_end)
      (try_begin)
        (eq, ':lvar_1', 11)
        (party_add_template, ':lvar_5', ':lvar_3')
        (party_add_template, ':lvar_5', ':lvar_3')
        (party_set_ai_behavior, ':lvar_5', 1)
        (party_set_ai_object, ':lvar_5', ':lvar_6')
        (party_set_flags, ':lvar_5', 65536, 1)
        (store_sub, ':lvar_7', 262, 74)
        (try_for_range, ':lvar_8', 74, 130)
          (store_add, ':lvar_9', ':lvar_8', ':lvar_7')
          (party_set_slot, ':lvar_5', ':lvar_9', 1000)
        (try_end)
      (try_end)
    (try_end)
    (ge, ':lvar_5', 0)
    (assign, reg0, ':lvar_5')
get_troop_attached_party=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (assign, ':lvar_2', -1)
    (try_begin)
      (ge, ':lvar_1', 0)
      (party_get_attached_to, ':lvar_2', ':lvar_1')
    (try_end)
    (assign, reg0, ':lvar_2')
center_get_food_consumption=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 3)
      (assign, ':lvar_1', 500)
    (else_try)
      (party_slot_eq, ':lvar_0', 0, 2)
      (assign, ':lvar_1', 50)
    (try_end)
    (assign, reg0, ':lvar_1')
center_get_food_store_limit=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 3)
      (assign, ':lvar_1', 50000)
    (else_try)
      (party_slot_eq, ':lvar_0', 0, 2)
      (assign, ':lvar_1', 1500)
    (try_end)
    (assign, reg0, ':lvar_1')
refresh_minorplanet_merchant_inventory=>
    (store_script_param_1, ':lvar_0')
    (party_get_slot, ':lvar_1', ':lvar_0', 25)
    (reset_item_probabilities, 0)
    (store_sub, ':lvar_2', 262, 74)
    (try_for_range, ':lvar_3', 74, 130)
      (store_add, ':lvar_4', ':lvar_3', ':lvar_2')
      (party_get_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (assign, ':lvar_6', 100)
      (val_mul, ':lvar_6', 1000)
      (val_div, ':lvar_6', ':lvar_5')
      (val_mul, ':lvar_6', 1000)
      (val_div, ':lvar_6', ':lvar_5')
      (val_mul, ':lvar_6', 1000)
      (val_div, ':lvar_6', ':lvar_5')
      (val_mul, ':lvar_6', 1000)
      (val_div, ':lvar_6', ':lvar_5')
      (set_item_probability_in_merchandise, ':lvar_3', ':lvar_6')
    (try_end)
    (set_item_probability_in_merchandise, 111, 0)
    (set_item_probability_in_merchandise, 128, 0)
    (troop_add_merchandise, ':lvar_1', 11, 3)
    (troop_ensure_inventory_space, ':lvar_1', 80)
    (store_troop_gold, ':lvar_7', ':lvar_1')
    (try_begin)
      (gt, ':lvar_7', 3500)
      (store_div, ':lvar_8', ':lvar_7', 3000)
      (store_mul, ':lvar_9', ':lvar_8', 3000)
      (troop_remove_gold, ':lvar_1', ':lvar_9')
      (call_script, 308, ':lvar_0', ':lvar_8')
    (try_end)
refresh_minorplanet_defenders=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 50)
    (try_begin)
      (party_get_num_companions, ':lvar_2', ':lvar_0')
      (lt, ':lvar_2', ':lvar_1')
      (party_add_template, ':lvar_0', 4)
    (try_end)
minorplanet_set_state=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (eq, ':lvar_1', 0)
      (party_set_extra_text, ':lvar_0', 216172782113783809)
      (party_set_slot, ':lvar_0', 34, -1)
    (else_try)
      (eq, ':lvar_1', 1)
      (party_set_extra_text, ':lvar_0', '@qstr_252')
    (else_try)
      (eq, ':lvar_1', 2)
      (party_set_extra_text, ':lvar_0', '@qstr_253')
      (party_set_slot, ':lvar_0', 34, -1)
      (call_script, 308, ':lvar_0', -30)
    (else_try)
      (eq, ':lvar_1', 5)
      (party_set_extra_text, ':lvar_0', '@qstr_254')
    (try_end)
    (party_set_slot, ':lvar_0', 35, ':lvar_1')
process_minorplanet_raids=>
    (try_for_range, ':lvar_0', 114, 204)
      (party_get_slot, ':lvar_1', ':lvar_0', 36)
      (try_begin)
        (party_slot_eq, ':lvar_0', 35, 0)
        (val_sub, ':lvar_1', 5)
        (val_max, ':lvar_1', 0)
        (party_set_slot, ':lvar_0', 36, ':lvar_1')
      (else_try)
        (party_slot_eq, ':lvar_0', 35, 1)
        (assign, ':lvar_2', 1)
        (party_get_slot, ':lvar_3', ':lvar_0', 34)
        (try_begin)
          (ge, ':lvar_3', 0)
          (party_is_active, ':lvar_3')
          (this_or_next|neq, ':lvar_3', 0)
          (eq, '$gvar_279', 0)
          (store_distance_to_party_from_party, ':lvar_4', ':lvar_0', ':lvar_3')
          (lt, ':lvar_4', 4)
          (assign, ':lvar_2', 0)
        (try_end)
        (try_begin)
          (eq, ':lvar_2', 1)
          (call_script, 134, ':lvar_0', 0)
          (party_set_slot, ':lvar_0', 38, 0)
          (party_clear_particle_systems, ':lvar_0')
        (else_try)
          (assign, ':lvar_5', 11)
          (party_get_slot, ':lvar_6', ':lvar_0', 34)
          (try_begin)
            (party_get_skill_level, ':lvar_7', ':lvar_6', 22)
            (val_add, ':lvar_5', ':lvar_7')
          (try_end)
          (try_begin)
            (party_slot_eq, ':lvar_0', 132, 1)
            (val_mul, ':lvar_5', 75)
            (val_div, ':lvar_5', 100)
          (try_end)
          (val_add, ':lvar_1', ':lvar_5')
          (party_set_slot, ':lvar_0', 36, ':lvar_1')
          (try_begin)
            (ge, ':lvar_1', 50)
            (party_slot_eq, ':lvar_0', 38, 0)
            (party_add_particle_system, ':lvar_0', 70)
            (party_set_slot, ':lvar_0', 38, 1)
          (try_end)
          (try_begin)
            (gt, ':lvar_1', 100)
            (str_store_party_name_link, 1, ':lvar_0')
            (party_stack_get_troop_id, ':lvar_8', ':lvar_6')
            (ge, ':lvar_8', 0)
            (str_store_party_name, 2, ':lvar_6')
            (call_script, 385, 5, ':lvar_0')
            (display_log_message, '@qstr_255', reg20)
            (call_script, 134, ':lvar_0', 2)
            (party_set_slot, ':lvar_0', 36, 0)
            (party_set_slot, ':lvar_0', 37, 0)
            (try_begin)
              (store_faction_of_party, ':lvar_9', ':lvar_0')
              (this_or_next|party_slot_eq, ':lvar_0', 7, 0)
              (eq, ':lvar_9', 15)
              (call_script, 175, 186, ':lvar_0', ':lvar_8')
            (try_end)
            (call_script, 353, 1, ':lvar_8', ':lvar_0', -1, -1)
          (try_end)
        (try_end)
      (else_try)
        (party_slot_eq, ':lvar_0', 35, 2)
        (party_get_slot, ':lvar_10', ':lvar_0', 37)
        (val_add, ':lvar_10', 1)
        (party_set_slot, ':lvar_0', 37, ':lvar_10')
        (try_begin)
          (ge, ':lvar_10', 10)
          (party_slot_eq, ':lvar_0', 38, 1)
          (party_clear_particle_systems, ':lvar_0')
          (party_add_particle_system, ':lvar_0', 70)
          (party_set_slot, ':lvar_0', 38, 2)
        (try_end)
        (try_begin)
          (gt, ':lvar_10', 50)
          (party_slot_eq, ':lvar_0', 38, 2)
          (party_clear_particle_systems, ':lvar_0')
          (party_set_slot, ':lvar_0', 38, 3)
        (try_end)
        (try_begin)
          (gt, ':lvar_10', 100)
          (call_script, 134, ':lvar_0', 0)
          (party_set_slot, ':lvar_0', 37, 0)
          (party_clear_particle_systems, ':lvar_0')
          (party_add_particle_system, ':lvar_0', 68)
          (party_set_slot, ':lvar_0', 38, 0)
          (party_set_icon, ':lvar_0', 74)
        (try_end)
      (try_end)
    (try_end)
process_sieges=>
    (try_for_range, ':lvar_0', 46, 114)
      (party_get_slot, ':lvar_1', ':lvar_0', 65)
      (val_sub, ':lvar_1', 20)
      (val_max, ':lvar_1', 0)
      (party_set_slot, ':lvar_0', 65, ':lvar_1')
      (party_get_slot, ':lvar_2', ':lvar_0', 53)
      (call_script, 131, ':lvar_0')
      (assign, ':lvar_3', reg0)
      (try_begin)
        (party_get_slot, ':lvar_4', ':lvar_0', 54)
        (ge, ':lvar_4', 0)
        (try_begin)
          (store_random_in_range, ':lvar_5', 0, 3)
          (eq, ':lvar_5', 0)
          (call_script, 308, ':lvar_0', -1)
        (try_end)
        (store_faction_of_party, ':lvar_6', ':lvar_0')
        (assign, ':lvar_7', 0)
        (try_begin)
          (try_begin)
            (neg|party_is_active, ':lvar_4')
            (assign, ':lvar_7', 1)
          (else_try)
            (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_4')
            (gt, ':lvar_8', 5)
            (assign, ':lvar_7', 1)
          (try_end)
          (eq, ':lvar_7', 1)
          (try_for_range, ':lvar_9', 405, 530)
            (troop_slot_eq, ':lvar_9', 2, 2)
            (troop_get_slot, ':lvar_10', ':lvar_9', 10)
            (ge, ':lvar_10', 0)
            (party_is_active, ':lvar_10')
            (store_faction_of_party, ':lvar_11', ':lvar_10')
            (store_relation, ':lvar_12', ':lvar_11', ':lvar_6')
            (lt, ':lvar_12', 0)
            (store_distance_to_party_from_party, ':lvar_13', ':lvar_0', ':lvar_10')
            (lt, ':lvar_13', 4)
            (assign, ':lvar_4', ':lvar_10')
            (party_set_slot, ':lvar_0', 54, ':lvar_10')
            (assign, ':lvar_7', 0)
          (try_end)
        (try_end)
        (try_begin)
          (eq, ':lvar_7', 1)
          (call_script, 137, ':lvar_0', 1)
        (else_try)
          (call_script, 130, ':lvar_0')
          (assign, ':lvar_14', reg0)
          (val_sub, ':lvar_2', ':lvar_14')
          (try_begin)
            (le, ':lvar_2', 0)
            (store_random_in_range, ':lvar_15', 0, 100)
            (lt, ':lvar_15', 10)
            (call_script, 102, ':lvar_0')
          (try_end)
        (try_end)
      (else_try)
        (val_add, ':lvar_2', 30)
      (try_end)
      (val_min, ':lvar_2', ':lvar_3')
      (val_max, ':lvar_2', 0)
      (party_set_slot, ':lvar_0', 53, ':lvar_2')
    (try_end)
lift_siege=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (party_set_slot, ':lvar_0', 54, -1)
    (call_script, 134, ':lvar_0', 0)
    (try_begin)
      (eq, ':lvar_0', '$gvar_212')
      (assign, '$gvar_220', 0)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 1)
      (str_store_party_name_link, 3, ':lvar_0')
      (call_script, 385, 8, ':lvar_0')
      (display_message, '@qstr_256', reg20)
    (try_end)
process_alarms=>
    (try_for_range, ':lvar_0', 46, 204)
      (party_set_slot, ':lvar_0', 55, -1)
    (try_end)
    (assign, ':lvar_1', 2)
    (try_begin)
      (is_currently_night)
      (assign, ':lvar_1', 2)
    (try_end)
    (try_begin)
      (party_slot_eq, ':lvar_0', 132, 1)
      (val_mul, ':lvar_1', 2)
    (try_end)
    (try_for_parties, ':lvar_2')
      (party_slot_eq, ':lvar_2', 0, 13)
      (neg|party_is_in_any_town, ':lvar_2')
      (store_faction_of_party, ':lvar_3', ':lvar_2')
      (try_for_range, ':lvar_0', 46, 204)
        (store_distance_to_party_from_party, ':lvar_4', ':lvar_2', ':lvar_0')
        (le, ':lvar_4', ':lvar_1')
        (store_faction_of_party, ':lvar_5', ':lvar_0')
        (store_relation, ':lvar_6', ':lvar_5', ':lvar_3')
        (lt, ':lvar_6', 0)
        (party_set_slot, ':lvar_0', 55, ':lvar_2')
      (try_end)
    (try_end)
    (try_for_range, ':lvar_0', 46, 204)
      (store_faction_of_party, ':lvar_5', ':lvar_0')
      (this_or_next|party_slot_eq, ':lvar_0', 7, 0)
      (eq, ':lvar_5', '$gvar_281')
      (party_get_slot, ':lvar_7', ':lvar_0', 55)
      (ge, ':lvar_7', 0)
      (store_distance_to_party_from_party, ':lvar_8', 0, ':lvar_0')
      (assign, ':lvar_9', 0)
      (try_begin)
        (this_or_next|party_slot_eq, ':lvar_0', 7, 0)
        (eq, ':lvar_5', 15)
        (party_slot_eq, ':lvar_0', 134, 1)
        (assign, ':lvar_9', 1)
      (try_end)
      (this_or_next|lt, ':lvar_8', 30)
      (eq, ':lvar_9', 1)
      (str_store_party_name_link, 1, ':lvar_0')
      (display_message, '@qstr_257', 16732240)
    (try_end)
party_set_ai_state=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (party_get_slot, ':lvar_3', ':lvar_0', 4)
    (party_get_slot, ':lvar_4', ':lvar_0', 5)
    (party_get_attached_to, ':lvar_5', ':lvar_0')
    (assign, ':lvar_6', 0)
    (try_begin)
      (is_between, ':lvar_5', 46, 204)
      (assign, ':lvar_6', ':lvar_5')
    (try_end)
    (party_set_slot, ':lvar_0', 63, 0)
    (try_begin)
      (eq, ':lvar_3', ':lvar_1')
      (eq, ':lvar_4', ':lvar_2')
    (else_try)
      (try_begin)
        (eq, ':lvar_1', 11)
        (party_set_ai_behavior, ':lvar_0', 10)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 1)
        (party_get_position, 1, ':lvar_2')
        (map_get_random_position_around_position, 2, 1, 2)
        (party_set_ai_behavior, ':lvar_0', 6)
        (party_set_ai_target_position, ':lvar_0', 2)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (party_set_slot, ':lvar_0', 63, 1)
        (party_set_slot, ':lvar_0', 8, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (neq, ':lvar_6', ':lvar_2')
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 7)
        (party_set_ai_behavior, ':lvar_0', 1)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (neq, ':lvar_6', ':lvar_2')
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 4)
        (party_get_position, 1, ':lvar_2')
        (map_get_random_position_around_position, 2, 1, 1)
        (party_set_ai_behavior, ':lvar_0', 6)
        (party_set_ai_target_position, ':lvar_0', 2)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_ai_patrol_radius, ':lvar_0', 5)
        (party_set_flags, ':lvar_0', 65536, 0)
        (party_set_slot, ':lvar_0', 63, 1)
        (party_set_slot, ':lvar_0', 8, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 16)
        (party_get_position, 1, ':lvar_2')
        (map_get_random_position_around_position, 2, 1, 2)
        (party_set_ai_behavior, ':lvar_0', 6)
        (party_set_ai_target_position, ':lvar_0', 2)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (party_set_slot, ':lvar_0', 8, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (neq, ':lvar_6', ':lvar_2')
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 5)
        (party_get_position, 1, ':lvar_2')
        (map_get_random_position_around_position, 2, 1, 1)
        (party_set_ai_behavior, ':lvar_0', 2)
        (party_set_ai_patrol_radius, ':lvar_0', 10)
        (party_set_ai_target_position, ':lvar_0', 2)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (party_set_slot, ':lvar_0', 63, 1)
        (party_set_slot, ':lvar_0', 8, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (neq, ':lvar_6', ':lvar_2')
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 10)
        (party_set_ai_behavior, ':lvar_0', 4)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 0)
        (try_begin)
          (gt, ':lvar_6', 0)
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', 14)
        (party_set_ai_behavior, ':lvar_0', 1)
        (party_set_ai_object, ':lvar_0', ':lvar_2')
        (party_set_flags, ':lvar_0', 65536, 1)
        (party_set_slot, ':lvar_0', 30, -1)
        (try_begin)
          (gt, ':lvar_6', 0)
          (neq, ':lvar_6', ':lvar_2')
          (party_detach, ':lvar_0')
        (try_end)
      (else_try)
        (eq, ':lvar_1', -1)
        (party_set_ai_behavior, ':lvar_0', 0)
        (party_set_flags, ':lvar_0', 65536, 0)
      (try_end)
    (try_end)
    (party_set_slot, ':lvar_0', 4, ':lvar_1')
    (party_set_slot, ':lvar_0', 5, ':lvar_2')
decide_faction_party_ais=>
    (try_for_range, ':lvar_0', 15, 19)
      (faction_slot_eq, ':lvar_0', 21, 0)
      (neq, ':lvar_0', 15)
      (faction_get_slot, ':lvar_1', ':lvar_0', 4)
      (neq, ':lvar_1', 0)
      (faction_get_slot, ':lvar_2', ':lvar_0', 5)
      (faction_get_slot, ':lvar_3', ':lvar_0', 7)
      (gt, ':lvar_3', 0)
      (neq, ':lvar_3', 0)
      (troop_get_slot, ':lvar_4', ':lvar_3', 10)
      (gt, ':lvar_4', 0)
      (try_begin)
        (eq, ':lvar_1', 1)
        (call_script, 139, ':lvar_4', -1, -1)
        (party_set_ai_initiative, ':lvar_4', 100)
      (else_try)
        (eq, ':lvar_1', 2)
        (call_script, 139, ':lvar_4', 1, ':lvar_2')
        (party_set_ai_initiative, ':lvar_4', 50)
      (else_try)
        (eq, ':lvar_1', 3)
        (call_script, 139, ':lvar_4', 5, ':lvar_2')
        (party_set_ai_initiative, ':lvar_4', 50)
      (else_try)
        (eq, ':lvar_1', 5)
        (call_script, 139, ':lvar_4', 4, ':lvar_2')
        (party_set_ai_initiative, ':lvar_4', 50)
      (else_try)
        (eq, ':lvar_1', 4)
        (call_script, 139, ':lvar_4', 10, ':lvar_2')
        (party_set_ai_initiative, ':lvar_4', 50)
      (try_end)
      (party_set_slot, ':lvar_4', 30, -1)
    (try_end)
    (try_for_range, ':lvar_5', 405, 530)
      (try_begin)
        (store_troop_faction, ':lvar_6', ':lvar_5')
        (neg|faction_slot_eq, ':lvar_6', 7, ':lvar_5')
        (troop_get_slot, ':lvar_7', ':lvar_5', 10)
        (gt, ':lvar_7', 0)
        (party_is_active, ':lvar_7')
        (party_set_ai_initiative, ':lvar_7', 100)
      (try_end)
      (call_script, 169, ':lvar_5')
    (try_end)
    (try_for_range, ':lvar_5', 405, 530)
      (call_script, 170, ':lvar_5')
    (try_end)
party_decide_next_ai_state_under_command=>
    (store_script_param_1, ':lvar_0')
    (party_get_slot, ':lvar_1', ':lvar_0', 30)
    (try_begin)
      (party_is_active, ':lvar_1')
      (party_get_slot, ':lvar_2', ':lvar_1', 4)
      (party_get_slot, ':lvar_3', ':lvar_1', 5)
      (store_faction_of_party, ':lvar_4', ':lvar_0')
      (store_distance_to_party_from_party, ':lvar_5', ':lvar_0', ':lvar_1')
      (try_begin)
        (gt, ':lvar_5', 5)
        (call_script, 139, ':lvar_0', 11, ':lvar_1')
      (else_try)
        (try_begin)
          (eq, ':lvar_1', 0)
          (call_script, 139, ':lvar_0', 11, 0)
        (else_try)
          (eq, ':lvar_2', 1)
          (store_distance_to_party_from_party, ':lvar_6', ':lvar_0', ':lvar_3')
          (le, ':lvar_6', 5)
          (call_script, 139, ':lvar_0', 1, ':lvar_3')
        (else_try)
          (party_get_attached_to, ':lvar_7', ':lvar_1')
          (assign, ':lvar_8', 0)
          (try_begin)
            (lt, ':lvar_7', 0)
            (party_get_cur_town, ':lvar_7', ':lvar_1')
          (try_end)
          (try_begin)
            (eq, ':lvar_2', 7)
            (call_script, 139, ':lvar_0', 7, ':lvar_3')
            (assign, ':lvar_8', 1)
          (else_try)
            (eq, ':lvar_2', -1)
            (is_between, ':lvar_7', 46, 204)
            (call_script, 139, ':lvar_0', 7, ':lvar_7')
            (assign, ':lvar_8', 1)
          (try_end)
          (eq, ':lvar_8', 1)
        (else_try)
          (faction_get_slot, ':lvar_9', ':lvar_4', 7)
          (ge, ':lvar_9', 0)
          (troop_slot_eq, ':lvar_9', 10, ':lvar_1')
          (call_script, 139, ':lvar_0', 11, ':lvar_1')
        (else_try)
          (this_or_next|eq, ':lvar_2', 4)
          (this_or_next|eq, ':lvar_2', 5)
          (eq, ':lvar_2', 10)
          (call_script, 139, ':lvar_0', 11, ':lvar_1')
        (else_try)
          (call_script, 139, ':lvar_0', -1, -1)
          (party_set_slot, ':lvar_0', 30, -1)
        (try_end)
      (try_end)
    (try_end)
faction_hero_decide_next_ai_state_follow_or_not=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (try_begin)
      (party_get_slot, ':lvar_2', ':lvar_1', 4)
      (assign, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_2', 14)
        (neg|party_is_in_any_town, ':lvar_1')
        (assign, ':lvar_3', 1)
      (try_end)
      (eq, ':lvar_3', 0)
      (party_get_slot, ':lvar_4', ':lvar_1', 56)
      (store_div, ':lvar_5', ':lvar_4', 2)
      (assign, ':lvar_6', 0)
      (party_get_attached_to, ':lvar_7', ':lvar_1')
      (try_begin)
        (lt, ':lvar_7', 0)
        (party_get_cur_town, ':lvar_7', ':lvar_1')
      (try_end)
      (try_begin)
        (neg|is_between, ':lvar_7', 46, 204)
        (assign, ':lvar_7', -1)
        (assign, ':lvar_8', 0)
        (store_sub, ':lvar_9', 1000000)
      (else_try)
        (party_get_slot, ':lvar_8', ':lvar_7', 57)
        (store_sub, ':lvar_9', ':lvar_8', ':lvar_4')
        (party_get_slot, ':lvar_10', ':lvar_7', 54)
        (gt, ':lvar_10', 0)
        (party_is_active, ':lvar_10')
        (assign, ':lvar_6', 1)
      (try_end)
      (store_troop_faction, ':lvar_11', ':lvar_0')
      (faction_get_slot, ':lvar_12', ':lvar_11', 4)
      (party_get_slot, ':lvar_13', ':lvar_1', 30)
      (try_begin)
        (ge, ':lvar_13', 0)
        (try_begin)
          (party_is_active, ':lvar_13')
          (try_begin)
            (store_faction_of_party, ':lvar_14', ':lvar_13')
            (neq, ':lvar_11', ':lvar_14')
            (assign, ':lvar_15', 0)
            (try_begin)
              (neq, ':lvar_13', 0)
              (assign, ':lvar_15', 1)
            (else_try)
              (neq, '$gvar_281', ':lvar_11')
              (assign, ':lvar_15', 1)
            (try_end)
            (eq, ':lvar_15', 1)
            (assign, ':lvar_13', -1)
          (try_end)
        (else_try)
          (assign, ':lvar_13', -1)
        (try_end)
      (try_end)
      (faction_get_slot, ':lvar_16', ':lvar_11', 82)
      (store_mul, ':lvar_17', ':lvar_16', 2)
      (faction_get_slot, ':lvar_18', ':lvar_11', 81)
      (val_add, ':lvar_17', ':lvar_18')
      (val_mul, ':lvar_17', 10)
      (val_max, ':lvar_17', 5)
      (troop_get_slot, ':lvar_19', ':lvar_0', 57)
      (assign, ':lvar_20', 0)
      (assign, ':lvar_21', -1)
      (try_begin)
        (eq, ':lvar_6', 0)
        (ge, ':lvar_9', ':lvar_5')
        (assign, ':lvar_15', 0)
        (try_begin)
          (ge, ':lvar_13', 0)
          (gt, '$gvar_597', 30)
          (assign, ':lvar_15', 1)
        (else_try)
          (gt, '$gvar_597', 50)
          (lt, '$gvar_598', 50)
          (assign, ':lvar_15', 1)
        (try_end)
        (eq, ':lvar_15', 1)
        (try_begin)
          (eq, ':lvar_11', 15)
          (neg|troop_slot_eq, ':lvar_0', 16, -1)
          (assign, ':lvar_15', 0)
        (try_end)
        (eq, ':lvar_15', 1)
        (faction_get_slot, ':lvar_22', ':lvar_11', 7)
        (ge, ':lvar_22', 0)
        (neg|troop_slot_ge, ':lvar_22', 8, 0)
        (troop_get_slot, ':lvar_23', ':lvar_22', 10)
        (neq, ':lvar_22', ':lvar_0')
        (ge, ':lvar_23', 0)
        (try_begin)
          (eq, ':lvar_12', 1)
          (assign, ':lvar_24', -1)
          (try_begin)
            (ge, ':lvar_13', 0)
            (assign, ':lvar_24', ':lvar_13')
          (try_end)
          (assign, ':lvar_15', 0)
          (try_begin)
            (ge, ':lvar_19', 60)
            (assign, ':lvar_15', 1)
          (else_try)
            (ge, ':lvar_19', 10)
            (eq, ':lvar_24', ':lvar_23')
            (assign, ':lvar_15', 1)
          (try_end)
          (try_begin)
            (eq, ':lvar_15', 1)
            (store_distance_to_party_from_party, ':lvar_25', ':lvar_23', ':lvar_1')
            (store_sub, ':lvar_26', 120, ':lvar_25')
            (val_min, ':lvar_26', 100)
            (val_max, ':lvar_26', 20)
            (store_sub, ':lvar_27', '$gvar_629', ':lvar_17')
            (val_mul, ':lvar_27', 2)
            (val_add, ':lvar_26', ':lvar_27')
            (val_max, ':lvar_26', 10)
            (assign, ':lvar_21', ':lvar_23')
            (assign, ':lvar_20', ':lvar_26')
            (try_begin)
              (eq, ':lvar_24', ':lvar_21')
              (val_mul, ':lvar_20', 1000)
            (try_end)
          (try_end)
        (else_try)
          (this_or_next|eq, ':lvar_12', 2)
          (this_or_next|eq, ':lvar_12', 3)
          (this_or_next|eq, ':lvar_12', 5)
          (eq, ':lvar_12', 4)
          (eq, ':lvar_13', ':lvar_23')
          (ge, ':lvar_19', 10)
          (assign, ':lvar_21', ':lvar_23')
          (assign, ':lvar_20', 100000)
        (try_end)
      (try_end)
      (try_begin)
        (le, ':lvar_20', 0)
        (eq, ':lvar_6', 0)
        (ge, ':lvar_9', ':lvar_5')
        (assign, ':lvar_15', 0)
        (try_begin)
          (ge, ':lvar_13', 0)
          (gt, '$gvar_597', 40)
          (assign, ':lvar_15', 1)
        (else_try)
          (gt, '$gvar_597', 75)
          (lt, '$gvar_598', 50)
          (assign, ':lvar_15', 1)
        (try_end)
        (eq, ':lvar_15', 1)
        (try_begin)
          (eq, ':lvar_11', 15)
          (neg|troop_slot_eq, ':lvar_0', 16, -1)
          (neg|troop_slot_eq, ':lvar_0', 16, 11)
          (assign, ':lvar_15', 0)
        (try_end)
        (eq, ':lvar_15', 1)
        (neg|faction_slot_eq, ':lvar_11', 10, ':lvar_0')
        (assign, ':lvar_24', -1)
        (try_begin)
          (ge, ':lvar_13', 0)
          (assign, ':lvar_24', ':lvar_13')
        (try_end)
        (troop_get_slot, ':lvar_28', ':lvar_0', 7)
        (assign, ':lvar_29', 0)
        (try_begin)
          (eq, 0, ':lvar_24')
          (val_add, ':lvar_29', 1)
          (eq, 0, ':lvar_24')
          (val_add, ':lvar_29', 999)
        (try_end)
        (try_for_range, ':lvar_30', 405, 530)
          (neq, ':lvar_30', ':lvar_0')
          (store_troop_faction, ':lvar_31', ':lvar_30')
          (eq, ':lvar_31', ':lvar_11')
          (troop_get_slot, ':lvar_32', ':lvar_30', 10)
          (ge, ':lvar_32', 0)
          (troop_get_slot, ':lvar_33', ':lvar_30', 7)
          (lt, ':lvar_28', ':lvar_33')
          (neg|party_slot_ge, ':lvar_32', 30, 0)
          (store_distance_to_party_from_party, ':lvar_25', ':lvar_32', ':lvar_1')
          (lt, ':lvar_25', 25)
          (party_slot_eq, ':lvar_32', 63, 1)
          (val_add, ':lvar_29', 1)
          (eq, ':lvar_32', ':lvar_24')
          (val_add, ':lvar_29', 999)
        (try_end)
        (gt, ':lvar_29', 0)
        (store_random_in_range, ':lvar_34', 0, ':lvar_29')
        (try_begin)
          (eq, 0, ':lvar_24')
          (val_sub, ':lvar_34', 1)
          (try_begin)
            (eq, 0, ':lvar_24')
            (val_sub, ':lvar_34', 999)
          (try_end)
          (lt, ':lvar_34', 0)
          (store_mul, ':lvar_26', 100, '$gvar_629')
          (val_div, ':lvar_26', ':lvar_17')
          (val_max, ':lvar_26', 10)
          (assign, ':lvar_20', ':lvar_26')
          (val_mul, ':lvar_20', 2)
          (assign, ':lvar_21', 0)
          (eq, ':lvar_24', ':lvar_21')
          (val_mul, ':lvar_20', 100)
        (try_end)
        (try_for_range, ':lvar_30', 405, 530)
          (eq, ':lvar_21', -1)
          (neq, ':lvar_30', ':lvar_0')
          (store_troop_faction, ':lvar_31', ':lvar_30')
          (eq, ':lvar_31', ':lvar_11')
          (troop_get_slot, ':lvar_32', ':lvar_30', 10)
          (ge, ':lvar_32', 0)
          (troop_get_slot, ':lvar_33', ':lvar_30', 7)
          (lt, ':lvar_28', ':lvar_33')
          (neg|party_slot_ge, ':lvar_32', 30, 0)
          (store_distance_to_party_from_party, ':lvar_25', ':lvar_32', ':lvar_1')
          (lt, ':lvar_25', 25)
          (party_slot_eq, ':lvar_32', 63, 1)
          (val_sub, ':lvar_34', 1)
          (try_begin)
            (eq, ':lvar_32', ':lvar_24')
            (val_sub, ':lvar_34', 999)
          (try_end)
          (lt, ':lvar_34', 0)
          (store_mul, ':lvar_26', 100, '$gvar_629')
          (val_div, ':lvar_26', ':lvar_17')
          (val_max, ':lvar_26', 10)
          (assign, ':lvar_20', ':lvar_26')
          (try_begin)
            (faction_slot_eq, ':lvar_11', 10, ':lvar_30')
            (val_mul, ':lvar_20', 2)
          (try_end)
          (assign, ':lvar_21', ':lvar_32')
          (eq, ':lvar_24', ':lvar_21')
          (val_mul, ':lvar_20', 100)
        (try_end)
      (try_end)
      (assign, ':lvar_35', ':lvar_20')
      (val_add, ':lvar_35', 600)
      (store_random_in_range, ':lvar_36', 0, ':lvar_35')
      (try_begin)
        (val_sub, ':lvar_36', ':lvar_20')
        (lt, ':lvar_36', 0)
        (party_set_slot, ':lvar_1', 30, ':lvar_21')
      (else_try)
        (party_set_slot, ':lvar_1', 30, -1)
      (try_end)
    (try_end)
faction_hero_decide_next_ai_state=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (try_begin)
      (party_get_slot, ':lvar_2', ':lvar_1', 56)
      (store_div, ':lvar_3', ':lvar_2', 2)
      (party_get_slot, ':lvar_4', ':lvar_1', 59)
      (store_troop_faction, ':lvar_5', ':lvar_0')
      (assign, ':lvar_6', -1)
      (party_get_attached_to, ':lvar_7', ':lvar_1')
      (try_begin)
        (lt, ':lvar_7', 0)
        (party_get_cur_town, ':lvar_7', ':lvar_1')
      (try_end)
      (try_begin)
        (neg|is_between, ':lvar_7', 46, 204)
        (assign, ':lvar_7', -1)
        (assign, ':lvar_8', 0)
        (store_sub, ':lvar_9', 1000000)
      (else_try)
        (party_get_slot, ':lvar_8', ':lvar_7', 57)
        (store_sub, ':lvar_9', ':lvar_8', ':lvar_2')
        (party_get_slot, ':lvar_6', ':lvar_7', 54)
        (try_begin)
          (neg|party_is_active, ':lvar_6')
          (assign, ':lvar_6', -1)
        (try_end)
        (store_faction_of_party, ':lvar_10', ':lvar_7')
        (store_relation, ':lvar_11', ':lvar_10', ':lvar_5')
      (try_end)
      (party_get_slot, ':lvar_12', ':lvar_1', 4)
      (party_get_slot, ':lvar_13', ':lvar_1', 5)
      (assign, ':lvar_14', 0)
      (try_begin)
        (eq, ':lvar_12', 14)
        (neg|party_is_in_any_town, ':lvar_1')
        (assign, ':lvar_14', 1)
      (try_end)
      (eq, ':lvar_14', 0)
      (faction_get_slot, ':lvar_15', ':lvar_5', 82)
      (store_mul, ':lvar_16', ':lvar_15', 2)
      (faction_get_slot, ':lvar_17', ':lvar_5', 81)
      (val_add, ':lvar_16', ':lvar_17')
      (val_mul, ':lvar_16', 10)
      (val_max, ':lvar_16', 5)
      (assign, ':lvar_18', 0)
      (assign, ':lvar_19', -1)
      (assign, ':lvar_20', 0)
      (assign, ':lvar_21', -1)
      (assign, ':lvar_22', 0)
      (assign, ':lvar_23', -1)
      (assign, ':lvar_24', 0)
      (assign, ':lvar_25', -1)
      (assign, ':lvar_26', 0)
      (assign, ':lvar_27', -1)
      (assign, ':lvar_28', 0)
      (assign, ':lvar_29', -1)
      (try_begin)
        (eq, ':lvar_6', -1)
        (assign, ':lvar_30', -1)
        (try_begin)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_30', ':lvar_13')
        (try_end)
        (try_begin)
          (is_between, ':lvar_7', 46, 204)
          (party_slot_eq, ':lvar_7', 7, ':lvar_0')
          (assign, ':lvar_19', ':lvar_7')
          (assign, ':lvar_18', 100)
        (try_end)
        (try_begin)
          (eq, ':lvar_19', -1)
          (this_or_next|gt, '$gvar_597', 20)
          (eq, ':lvar_7', -1)
          (ge, ':lvar_9', ':lvar_3')
          (call_script, 204, ':lvar_0', ':lvar_30')
          (assign, ':lvar_19', reg0)
          (assign, ':lvar_18', 50)
          (try_begin)
            (eq, ':lvar_30', ':lvar_19')
            (val_mul, ':lvar_18', 100)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (try_begin)
          (ge, ':lvar_6', 0)
          (ge, ':lvar_11', 0)
          (assign, ':lvar_20', 50000)
          (assign, ':lvar_21', ':lvar_7')
        (else_try)
          (assign, ':lvar_31', -1)
          (try_begin)
            (eq, ':lvar_12', 7)
            (assign, ':lvar_31', ':lvar_13')
          (try_end)
          (try_begin)
            (eq, ':lvar_21', -1)
            (try_begin)
              (this_or_next|le, '$gvar_597', 20)
              (lt, ':lvar_9', ':lvar_3')
              (is_between, ':lvar_7', 46, 204)
              (ge, ':lvar_11', 0)
              (assign, ':lvar_20', 500)
              (assign, ':lvar_21', ':lvar_7')
            (else_try)
              (call_script, 83, ':lvar_5', ':lvar_31')
              (assign, ':lvar_21', reg0)
              (assign, ':lvar_20', 10)
              (party_get_slot, ':lvar_32', ':lvar_21', 7)
              (try_begin)
                (call_script, 202, ':lvar_0', ':lvar_32')
                (assign, ':lvar_20', 1)
              (try_end)
              (try_begin)
                (eq, ':lvar_31', ':lvar_21')
                (val_mul, ':lvar_20', 1000)
              (try_end)
            (try_end)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (lt, '$gvar_597', 50)
        (store_sub, ':lvar_33', 100, '$gvar_597')
        (try_begin)
          (gt, ':lvar_18', 0)
          (val_mul, ':lvar_18', 200)
          (val_div, ':lvar_18', ':lvar_33')
        (else_try)
          (val_mul, ':lvar_20', 200)
          (val_div, ':lvar_20', ':lvar_33')
        (try_end)
      (try_end)
      (try_begin)
        (gt, '$gvar_598', 50)
        (try_begin)
          (gt, ':lvar_18', 0)
          (val_mul, ':lvar_18', 2)
        (else_try)
          (val_mul, ':lvar_20', 2)
        (try_end)
      (try_end)
      (try_begin)
        (eq, ':lvar_6', -1)
        (ge, ':lvar_9', ':lvar_3')
        (assign, ':lvar_34', -1)
        (try_begin)
          (eq, ':lvar_12', 16)
          (assign, ':lvar_34', ':lvar_13')
        (try_end)
        (troop_get_slot, ':lvar_35', ':lvar_0', 14)
        (faction_get_slot, ':lvar_36', ':lvar_35', 9)
        (assign, ':lvar_37', 0)
        (try_for_range, ':lvar_38', 114, 204)
          (store_faction_of_party, ':lvar_39', ':lvar_38')
          (store_relation, ':lvar_40', ':lvar_39', ':lvar_5')
          (this_or_next|ge, ':lvar_40', 0)
          (party_slot_eq, ':lvar_38', 19, ':lvar_36')
          (assign, ':lvar_41', 1)
          (try_begin)
            (eq, ':lvar_39', ':lvar_5')
            (assign, ':lvar_41', 20)
          (try_end)
          (assign, ':lvar_42', 1)
          (party_get_slot, ':lvar_43', ':lvar_38', 91)
          (try_begin)
            (gt, ':lvar_43', 0)
            (val_add, ':lvar_43', 5)
            (val_add, ':lvar_42', ':lvar_43')
          (try_end)
          (store_distance_to_party_from_party, ':lvar_44', ':lvar_38', ':lvar_1')
          (store_sub, ':lvar_45', 100, ':lvar_44')
          (val_max, ':lvar_45', 10)
          (assign, ':lvar_46', 100)
          (try_begin)
            (party_slot_eq, ':lvar_38', 35, 1)
            (assign, ':lvar_46', 1)
          (try_end)
          (store_mul, ':lvar_47', ':lvar_41', ':lvar_45')
          (val_mul, ':lvar_47', ':lvar_46')
          (val_mul, ':lvar_47', ':lvar_42')
          (try_begin)
            (eq, ':lvar_38', ':lvar_34')
            (val_mul, ':lvar_47', 100)
          (try_end)
          (val_add, ':lvar_37', ':lvar_47')
        (try_end)
        (gt, ':lvar_37', 0)
        (store_random_in_range, ':lvar_48', 0, ':lvar_37')
        (try_for_range, ':lvar_38', 114, 204)
          (eq, ':lvar_29', -1)
          (store_faction_of_party, ':lvar_39', ':lvar_38')
          (store_relation, ':lvar_40', ':lvar_39', ':lvar_5')
          (this_or_next|ge, ':lvar_40', 0)
          (party_slot_eq, ':lvar_38', 19, ':lvar_36')
          (assign, ':lvar_41', 1)
          (try_begin)
            (eq, ':lvar_39', ':lvar_5')
            (assign, ':lvar_41', 20)
          (try_end)
          (assign, ':lvar_42', 1)
          (party_get_slot, ':lvar_43', ':lvar_38', 91)
          (try_begin)
            (gt, ':lvar_43', 0)
            (val_add, ':lvar_43', 5)
            (val_add, ':lvar_42', ':lvar_43')
          (try_end)
          (store_distance_to_party_from_party, ':lvar_44', ':lvar_38', ':lvar_1')
          (store_sub, ':lvar_45', 100, ':lvar_44')
          (val_max, ':lvar_45', 10)
          (assign, ':lvar_46', 100)
          (try_begin)
            (party_slot_eq, ':lvar_38', 35, 1)
            (assign, ':lvar_46', 1)
          (try_end)
          (store_mul, ':lvar_47', ':lvar_41', ':lvar_45')
          (val_mul, ':lvar_47', ':lvar_46')
          (val_mul, ':lvar_47', ':lvar_42')
          (try_begin)
            (eq, ':lvar_38', ':lvar_34')
            (val_mul, ':lvar_47', 100)
          (try_end)
          (val_sub, ':lvar_48', ':lvar_47')
          (lt, ':lvar_48', 0)
          (assign, ':lvar_29', ':lvar_38')
          (assign, ':lvar_28', 3)
          (try_begin)
            (eq, ':lvar_34', ':lvar_29')
            (val_mul, ':lvar_28', 1000)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (eq, ':lvar_6', -1)
        (ge, ':lvar_9', ':lvar_3')
        (gt, '$gvar_597', 75)
        (lt, '$gvar_598', 50)
        (assign, ':lvar_49', -1)
        (try_begin)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_49', ':lvar_13')
        (try_end)
        (assign, ':lvar_37', 0)
        (try_for_range, ':lvar_50', 114, 204)
          (call_script, 147, ':lvar_50', ':lvar_5')
          (lt, reg0, 0)
          (assign, ':lvar_51', 0)
          (try_begin)
            (party_slot_eq, ':lvar_50', 35, 1)
            (party_slot_eq, ':lvar_50', 34, ':lvar_1')
            (assign, ':lvar_51', 1)
          (try_end)
          (this_or_next|party_slot_eq, ':lvar_50', 35, 0)
          (eq, ':lvar_51', 1)
          (store_distance_to_party_from_party, ':lvar_44', ':lvar_50', ':lvar_1')
          (store_sub, ':lvar_45', 75, ':lvar_44')
          (val_max, ':lvar_45', 3)
          (val_add, ':lvar_37', ':lvar_45')
          (eq, ':lvar_50', ':lvar_49')
          (val_add, ':lvar_37', 10000)
        (try_end)
        (gt, ':lvar_37', 0)
        (store_random_in_range, ':lvar_48', 0, ':lvar_37')
        (try_for_range, ':lvar_50', 114, 204)
          (eq, ':lvar_27', -1)
          (call_script, 147, ':lvar_50', ':lvar_5')
          (lt, reg0, 0)
          (assign, ':lvar_51', 0)
          (try_begin)
            (party_slot_eq, ':lvar_50', 35, 1)
            (party_slot_eq, ':lvar_50', 34, ':lvar_1')
            (assign, ':lvar_51', 1)
          (try_end)
          (this_or_next|party_slot_eq, ':lvar_50', 35, 0)
          (eq, ':lvar_51', 1)
          (store_distance_to_party_from_party, ':lvar_44', ':lvar_50', ':lvar_1')
          (store_sub, ':lvar_45', 75, ':lvar_44')
          (val_max, ':lvar_45', 3)
          (val_sub, ':lvar_48', ':lvar_45')
          (try_begin)
            (eq, ':lvar_50', ':lvar_49')
            (val_sub, ':lvar_48', 10000)
          (try_end)
          (lt, ':lvar_48', 0)
          (assign, ':lvar_27', ':lvar_50')
          (assign, ':lvar_26', 30)
          (try_begin)
            (eq, ':lvar_49', ':lvar_27')
            (val_mul, ':lvar_26', 100)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (eq, ':lvar_6', -1)
        (ge, ':lvar_9', ':lvar_3')
        (assign, ':lvar_52', 0)
        (try_begin)
          (eq, ':lvar_12', 1)
          (gt, '$gvar_597', 30)
          (assign, ':lvar_52', 1)
        (else_try)
          (gt, '$gvar_597', 75)
          (lt, '$gvar_598', 50)
          (assign, ':lvar_52', 1)
        (try_end)
        (eq, ':lvar_52', 1)
        (assign, ':lvar_53', ':lvar_4')
        (val_add, ':lvar_53', ':lvar_2')
        (assign, ':lvar_54', -1)
        (try_begin)
          (eq, ':lvar_12', 1)
          (assign, ':lvar_54', ':lvar_13')
        (try_end)
        (assign, ':lvar_55', -1)
        (assign, ':lvar_56', 0)
        (try_for_range, ':lvar_57', 46, 114)
          (party_get_slot, ':lvar_58', ':lvar_57', 54)
          (assign, ':lvar_59', 0)
          (try_begin)
            (ge, ':lvar_58', 0)
            (party_is_active, ':lvar_58')
            (store_faction_of_party, ':lvar_60', ':lvar_58')
            (eq, ':lvar_60', ':lvar_5')
            (assign, ':lvar_59', 1)
          (try_end)
          (this_or_next|eq, ':lvar_58', -1)
          (eq, ':lvar_59', 1)
          (call_script, 147, ':lvar_57', ':lvar_5')
          (assign, ':lvar_40', reg0)
          (lt, ':lvar_40', 0)
          (val_mul, ':lvar_40', -1)
          (val_add, ':lvar_40', 50)
          (store_distance_to_party_from_party, ':lvar_44', ':lvar_57', ':lvar_1')
          (store_sub, ':lvar_45', 75, ':lvar_44')
          (val_max, ':lvar_45', 3)
          (party_get_slot, ':lvar_61', ':lvar_57', 56)
          (party_get_slot, ':lvar_62', ':lvar_57', 57)
          (val_add, ':lvar_61', ':lvar_62')
          (store_mul, ':lvar_63', ':lvar_61', 100)
          (val_div, ':lvar_63', ':lvar_53')
          (store_sub, ':lvar_64', 1000, ':lvar_63')
          (val_max, ':lvar_64', 1)
          (val_mul, ':lvar_64', ':lvar_40')
          (val_mul, ':lvar_64', ':lvar_45')
          (try_begin)
            (party_slot_eq, ':lvar_57', 7, 0)
            (call_script, 150, ':lvar_0')
            (assign, ':lvar_65', reg0)
            (lt, ':lvar_65', 0)
            (store_sub, ':lvar_66', 50, ':lvar_65')
            (val_mul, ':lvar_64', ':lvar_66')
            (val_div, ':lvar_64', 50)
          (try_end)
          (try_begin)
            (eq, ':lvar_57', ':lvar_54')
            (val_mul, ':lvar_64', 100)
          (try_end)
          (try_begin)
            (gt, ':lvar_64', ':lvar_56')
            (assign, ':lvar_56', ':lvar_64')
            (assign, ':lvar_55', ':lvar_57')
          (try_end)
        (try_end)
        (ge, ':lvar_55', 0)
        (assign, ':lvar_22', 20)
        (assign, ':lvar_23', ':lvar_55')
        (try_begin)
          (eq, ':lvar_54', ':lvar_23')
          (val_mul, ':lvar_22', 100)
        (try_end)
      (try_end)
      (try_begin)
        (eq, ':lvar_6', -1)
        (ge, ':lvar_9', ':lvar_3')
        (ge, '$gvar_597', 60)
        (try_begin)
          (party_slot_eq, ':lvar_1', 4, 4)
          (party_get_slot, ':lvar_25', ':lvar_1', 5)
        (try_end)
        (assign, ':lvar_67', -1)
        (try_begin)
          (eq, ':lvar_12', 4)
          (assign, ':lvar_67', ':lvar_13')
        (try_end)
        (assign, ':lvar_68', 0)
        (assign, ':lvar_69', -1)
        (try_for_range, ':lvar_70', 46, 204)
          (store_faction_of_party, ':lvar_71', ':lvar_70')
          (eq, ':lvar_71', ':lvar_5')
          (store_distance_to_party_from_party, ':lvar_72', ':lvar_1', ':lvar_70')
          (store_sub, ':lvar_73', 100, ':lvar_72')
          (val_max, ':lvar_73', 1)
          (try_begin)
            (party_slot_ge, ':lvar_70', 55, 0)
            (val_mul, ':lvar_73', 100)
          (try_end)
          (try_begin)
            (party_slot_eq, ':lvar_70', 7, ':lvar_0')
            (val_mul, ':lvar_73', 2)
          (try_end)
          (try_begin)
            (eq, ':lvar_70', ':lvar_67')
            (val_mul, ':lvar_73', 1000)
          (try_end)
          (try_begin)
            (gt, ':lvar_73', ':lvar_68')
            (assign, ':lvar_68', ':lvar_73')
            (assign, ':lvar_69', ':lvar_70')
          (try_end)
        (try_end)
        (try_begin)
          (gt, ':lvar_68', 0)
          (assign, ':lvar_25', ':lvar_69')
        (try_end)
        (try_begin)
          (is_between, ':lvar_25', 46, 204)
          (assign, ':lvar_24', 80)
        (try_end)
        (try_begin)
          (troop_slot_ge, ':lvar_0', 55, 1)
          (val_mul, ':lvar_24', 10)
        (try_end)
        (try_begin)
          (eq, ':lvar_67', ':lvar_25')
          (val_mul, ':lvar_24', 100)
        (try_end)
      (try_end)
      (assign, ':lvar_74', ':lvar_18')
      (val_add, ':lvar_74', ':lvar_20')
      (val_add, ':lvar_74', ':lvar_28')
      (val_add, ':lvar_74', ':lvar_26')
      (val_add, ':lvar_74', ':lvar_22')
      (val_add, ':lvar_74', ':lvar_24')
      (val_max, ':lvar_74', 1)
      (store_random_in_range, ':lvar_75', 0, ':lvar_74')
      (try_begin)
        (val_sub, ':lvar_75', ':lvar_18')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 7, ':lvar_19')
        (party_set_flags, ':lvar_1', 65536, 1)
        (party_set_slot, ':lvar_1', 30, -1)
      (else_try)
        (val_sub, ':lvar_75', ':lvar_20')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 7, ':lvar_21')
        (party_set_slot, ':lvar_1', 30, -1)
      (else_try)
        (val_sub, ':lvar_75', ':lvar_28')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 16, ':lvar_29')
        (party_set_slot, ':lvar_1', 30, -1)
      (else_try)
        (val_sub, ':lvar_75', ':lvar_26')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 5, ':lvar_27')
        (party_set_slot, ':lvar_1', 30, -1)
      (else_try)
        (val_sub, ':lvar_75', ':lvar_22')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 1, ':lvar_23')
      (else_try)
        (val_sub, ':lvar_75', ':lvar_24')
        (lt, ':lvar_75', 0)
        (call_script, 139, ':lvar_1', 4, ':lvar_25')
        (party_set_slot, ':lvar_1', 30, -1)
      (else_try)
        (call_script, 139, ':lvar_1', -1, -1)
        (party_set_slot, ':lvar_1', 30, -1)
      (try_end)
    (try_end)
process_faction_parties_ai=>
    (try_for_range, ':lvar_0', 405, 530)
      (troop_slot_eq, ':lvar_0', 2, 2)
      (neg|troop_slot_ge, ':lvar_0', 8, 0)
      (troop_get_slot, ':lvar_1', ':lvar_0', 10)
      (gt, ':lvar_1', 0)
      (call_script, 145, ':lvar_0')
    (try_end)
process_hero_ai=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 10)
    (store_faction_of_party, ':lvar_2', ':lvar_1')
    (party_get_slot, ':lvar_3', ':lvar_1', 4)
    (party_get_slot, ':lvar_4', ':lvar_1', 5)
    (try_begin)
      (eq, ':lvar_3', 1)
      (try_begin)
        (party_slot_eq, ':lvar_4', 54, -1)
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_1', ':lvar_4')
        (lt, ':lvar_5', 3)
        (try_begin)
          (party_slot_ge, ':lvar_1', 30, 0)
          (party_get_slot, ':lvar_6', ':lvar_1', 30)
          (party_set_slot, ':lvar_4', 54, ':lvar_6')
        (else_try)
          (party_set_slot, ':lvar_4', 54, ':lvar_1')
        (try_end)
        (store_current_hours, ':lvar_7')
        (party_set_slot, ':lvar_4', 64, ':lvar_7')
        (str_store_party_name_link, 1, ':lvar_4')
        (str_store_troop_name_link, 2, ':lvar_0')
        (str_store_faction_name_link, 3, ':lvar_2')
        (call_script, 385, 7, ':lvar_4')
        (display_log_message, '@qstr_258', reg20)
        (try_begin)
          (store_faction_of_party, ':lvar_8', ':lvar_4')
          (this_or_next|party_slot_eq, ':lvar_4', 7, 0)
          (eq, ':lvar_8', 15)
          (call_script, 175, 185, ':lvar_4', ':lvar_0')
        (try_end)
        (call_script, 134, ':lvar_4', 5)
        (assign, '$gvar_70', 1)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 16)
      (try_begin)
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_1', ':lvar_4')
        (lt, ':lvar_5', 3)
        (store_current_hours, ':lvar_7')
        (party_get_slot, ':lvar_9', ':lvar_1', 8)
        (val_add, ':lvar_9', 1)
        (party_set_slot, ':lvar_1', 8, ':lvar_9')
        (try_begin)
          (ge, ':lvar_9', 4)
          (party_set_slot, ':lvar_1', 8, ':lvar_7')
          (call_script, 139, ':lvar_1', -1, -1)
          (party_set_flags, ':lvar_1', 65536, 0)
          (party_set_slot, ':lvar_1', 30, -1)
          (party_get_slot, ':lvar_10', ':lvar_4', 90)
          (party_get_slot, ':lvar_11', ':lvar_4', 91)
          (party_set_slot, ':lvar_4', 91, -1)
          (party_add_members, ':lvar_1', ':lvar_10', ':lvar_11')
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 5)
      (party_slot_eq, ':lvar_1', 8, 0)
      (assign, ':lvar_12', 0)
      (try_for_range, ':lvar_13', 114, 204)
        (eq, ':lvar_12', 0)
        (store_faction_of_party, ':lvar_14', ':lvar_13')
        (try_begin)
          (party_slot_eq, ':lvar_13', 7, 0)
          (store_relation, ':lvar_15', 15, ':lvar_2')
        (else_try)
          (store_relation, ':lvar_15', ':lvar_14', ':lvar_2')
        (try_end)
        (lt, ':lvar_15', 0)
        (store_distance_to_party_from_party, ':lvar_16', ':lvar_13', ':lvar_1')
        (lt, ':lvar_16', 15)
        (party_slot_eq, ':lvar_13', 35, 0)
        (assign, ':lvar_12', ':lvar_13')
      (try_end)
      (try_begin)
        (eq, ':lvar_12', 0)
        (is_between, ':lvar_4', 114, 204)
        (assign, ':lvar_12', ':lvar_4')
      (try_end)
      (try_begin)
        (gt, ':lvar_12', 0)
        (call_script, 139, ':lvar_1', 5, ':lvar_12')
        (try_begin)
          (faction_slot_eq, ':lvar_2', 7, ':lvar_0')
          (faction_slot_eq, ':lvar_2', 4, 3)
          (faction_set_slot, ':lvar_2', 5, ':lvar_12')
        (try_end)
        (party_get_position, 1, ':lvar_12')
        (map_get_random_position_around_position, 2, 1, 1)
        (party_set_ai_behavior, ':lvar_1', 6)
        (party_set_ai_target_position, ':lvar_1', 2)
        (party_set_ai_object, ':lvar_1', ':lvar_12')
        (party_set_slot, ':lvar_1', 8, 1)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 5)
      (try_begin)
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_1', ':lvar_4')
        (lt, ':lvar_5', 2)
        (try_begin)
          (party_slot_eq, ':lvar_4', 35, 0)
          (call_script, 134, ':lvar_4', 1)
          (party_set_slot, ':lvar_4', 34, ':lvar_1')
          (try_begin)
            (store_faction_of_party, ':lvar_17', ':lvar_4')
            (this_or_next|party_slot_eq, ':lvar_4', 7, 0)
            (eq, ':lvar_17', 15)
            (store_distance_to_party_from_party, ':lvar_16', 0, ':lvar_4')
            (this_or_next|lt, ':lvar_16', 30)
            (party_slot_eq, ':lvar_4', 134, 1)
            (call_script, 175, 187, ':lvar_4', ':lvar_0')
          (try_end)
        (else_try)
          (party_slot_eq, ':lvar_4', 35, 1)
        (else_try)
          (party_set_slot, ':lvar_1', 8, 0)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 14)
      (try_begin)
        (party_get_battle_opponent, ':lvar_18', ':lvar_1')
        (ge, ':lvar_18', 0)
        (call_script, 139, ':lvar_1', -1, -1)
        (party_set_flags, ':lvar_1', 65536, 0)
        (party_set_slot, ':lvar_1', 30, -1)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 4)
      (try_begin)
        (party_slot_eq, ':lvar_1', 8, 0)
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_1', ':lvar_4')
        (lt, ':lvar_5', 3)
        (party_set_slot, ':lvar_1', 8, 1)
        (party_set_ai_behavior, ':lvar_1', 3)
        (party_set_ai_object, ':lvar_1', ':lvar_4')
      (try_end)
    (else_try)
      (eq, ':lvar_3', 7)
      (party_get_attached_to, ':lvar_19', ':lvar_1')
      (try_begin)
        (is_between, ':lvar_19', 46, 114)
        (assign, ':lvar_20', 50)
        (try_begin)
          (party_get_attached_to, ':lvar_19', ':lvar_1')
          (party_slot_ge, ':lvar_1', 54, 0)
          (assign, ':lvar_20', 5)
        (try_end)
        (store_random_in_range, ':lvar_21', 0, 100)
        (lt, ':lvar_21', ':lvar_20')
        (assign, ':lvar_22', 0)
        (call_script, 41, ':lvar_1')
        (assign, ':lvar_23', reg0)
        (try_for_range, ':lvar_24', 405, 530)
          (store_troop_faction, ':lvar_25', ':lvar_24')
          (store_relation, ':lvar_15', ':lvar_25', ':lvar_2')
          (lt, ':lvar_15', 0)
          (troop_get_slot, ':lvar_18', ':lvar_24', 10)
          (gt, ':lvar_18', 0)
          (party_is_active, ':lvar_18')
          (store_distance_to_party_from_party, ':lvar_16', ':lvar_18', ':lvar_1')
          (lt, ':lvar_16', 7)
          (call_script, 41, 15)
          (gt, reg0, ':lvar_23')
          (assign, ':lvar_22', 1)
        (try_end)
        (eq, ':lvar_22', 0)
        (party_set_ai_behavior, ':lvar_1', 1)
        (party_set_ai_object, ':lvar_1', ':lvar_4')
        (party_set_flags, ':lvar_1', 65536, 0)
        (party_detach, ':lvar_1')
      (try_end)
    (try_end)
select_faction_marshall=>
    (store_script_param_1, ':lvar_0')
    (faction_get_slot, ':lvar_1', ':lvar_0', 10)
    (faction_get_slot, ':lvar_2', ':lvar_0', 7)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 404, 530)
      (assign, ':lvar_5', ':lvar_4')
      (assign, ':lvar_6', 0)
      (try_begin)
        (eq, ':lvar_4', 404)
        (assign, ':lvar_5', 0)
        (try_begin)
          (eq, ':lvar_0', '$gvar_281')
          (assign, ':lvar_6', 1)
        (try_end)
      (else_try)
        (troop_slot_eq, ':lvar_5', 2, 2)
        (store_troop_faction, ':lvar_7', ':lvar_5')
        (eq, ':lvar_7', ':lvar_0')
        (troop_get_slot, ':lvar_8', ':lvar_5', 10)
        (gt, ':lvar_8', 0)
        (party_is_active, ':lvar_8')
        (call_script, 71, ':lvar_8')
        (assign, ':lvar_9', reg0)
        (call_script, 22, ':lvar_8')
        (assign, ':lvar_10', reg0)
        (store_mul, ':lvar_11', ':lvar_9', 100)
        (val_div, ':lvar_11', ':lvar_10')
        (ge, ':lvar_11', 25)
        (assign, ':lvar_6', 1)
      (try_end)
      (eq, ':lvar_6', 1)
      (troop_get_slot, ':lvar_12', ':lvar_5', 7)
      (try_begin)
        (eq, ':lvar_5', 0)
        (neq, ':lvar_2', 0)
        (assign, ':lvar_12', 0)
      (try_end)
      (try_begin)
        (eq, ':lvar_5', ':lvar_1')
        (val_mul, ':lvar_12', 3)
        (val_div, ':lvar_12', 4)
      (try_end)
      (try_begin)
        (eq, ':lvar_5', ':lvar_2')
        (val_mul, ':lvar_12', 1000)
      (try_end)
      (val_add, ':lvar_3', ':lvar_12')
    (try_end)
    (assign, ':lvar_13', -1)
    (try_begin)
      (gt, ':lvar_3', 0)
      (store_random_in_range, ':lvar_14', 0, ':lvar_3')
      (try_for_range, ':lvar_4', 404, 530)
        (eq, ':lvar_13', -1)
        (assign, ':lvar_5', ':lvar_4')
        (assign, ':lvar_6', 0)
        (try_begin)
          (eq, ':lvar_4', 404)
          (assign, ':lvar_5', 0)
          (try_begin)
            (eq, ':lvar_0', '$gvar_281')
            (assign, ':lvar_6', 1)
          (try_end)
        (else_try)
          (troop_slot_eq, ':lvar_5', 2, 2)
          (store_troop_faction, ':lvar_7', ':lvar_5')
          (eq, ':lvar_7', ':lvar_0')
          (troop_get_slot, ':lvar_8', ':lvar_5', 10)
          (gt, ':lvar_8', 0)
          (party_is_active, ':lvar_8')
          (call_script, 71, ':lvar_8')
          (assign, ':lvar_9', reg0)
          (call_script, 22, ':lvar_8')
          (assign, ':lvar_10', reg0)
          (store_mul, ':lvar_11', ':lvar_9', 100)
          (val_div, ':lvar_11', ':lvar_10')
          (ge, ':lvar_11', 25)
          (assign, ':lvar_6', 1)
        (try_end)
        (eq, ':lvar_6', 1)
        (troop_get_slot, ':lvar_12', ':lvar_5', 7)
        (try_begin)
          (eq, ':lvar_5', 0)
          (neq, ':lvar_2', 0)
          (assign, ':lvar_12', 0)
        (try_end)
        (try_begin)
          (eq, ':lvar_5', ':lvar_1')
          (val_mul, ':lvar_12', 3)
          (val_div, ':lvar_12', 4)
        (try_end)
        (try_begin)
          (eq, ':lvar_5', ':lvar_2')
          (val_mul, ':lvar_12', 1000)
        (try_end)
        (val_sub, ':lvar_14', ':lvar_12')
        (lt, ':lvar_14', 0)
        (assign, ':lvar_13', ':lvar_5')
      (try_end)
    (try_end)
    (try_begin)
      (eq, '$gvar_152', 1)
      (ge, ':lvar_13', 0)
      (str_store_troop_name, 1, ':lvar_13')
      (str_store_faction_name, 2, ':lvar_0')
      (display_message, '@qstr_259', 6737151)
    (try_end)
    (assign, reg0, ':lvar_13')
get_center_faction_relation_including_player=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_faction_of_party, ':lvar_2', ':lvar_0')
    (store_relation, ':lvar_3', ':lvar_2', ':lvar_1')
    (try_begin)
      (party_slot_eq, ':lvar_0', 7, 0)
      (store_relation, ':lvar_3', 15, ':lvar_1')
    (try_end)
    (assign, reg0, ':lvar_3')
decide_faction_ai=>
    (store_script_param_1, ':lvar_0')
    (faction_get_slot, ':lvar_1', ':lvar_0', 4)
    (faction_get_slot, ':lvar_2', ':lvar_0', 5)
    (faction_get_slot, ':lvar_3', ':lvar_0', 6)
    (assign, ':lvar_4', -1)
    (assign, ':lvar_5', 1)
    (assign, ':lvar_6', 1)
    (call_script, 146, ':lvar_0')
    (assign, ':lvar_7', reg0)
    (assign, ':lvar_8', 0)
    (try_begin)
      (neg|faction_slot_eq, ':lvar_0', 7, ':lvar_7')
      (assign, ':lvar_8', 1)
      (eq, '$gvar_281', ':lvar_0')
      (str_store_troop_name_link, 1, ':lvar_7')
      (str_store_faction_name_link, 2, ':lvar_0')
      (display_message, '@qstr_260', 6737151)
      (call_script, 149, ':lvar_0')
    (try_end)
    (faction_set_slot, ':lvar_0', 7, ':lvar_7')
    (try_begin)
      (gt, ':lvar_7', 0)
      (troop_get_slot, ':lvar_4', ':lvar_7', 10)
      (gt, ':lvar_4', 0)
      (party_get_slot, ':lvar_5', ':lvar_4', 56)
      (party_get_slot, ':lvar_9', ':lvar_4', 59)
      (val_add, ':lvar_5', ':lvar_9')
      (try_for_range, ':lvar_10', 405, 530)
        (troop_slot_eq, ':lvar_10', 2, 2)
        (troop_get_slot, ':lvar_11', ':lvar_10', 10)
        (gt, ':lvar_11', 0)
        (party_is_active, ':lvar_11')
        (party_slot_eq, ':lvar_11', 30, ':lvar_4')
        (val_add, ':lvar_6', 1)
      (try_end)
    (try_end)
    (faction_get_slot, ':lvar_12', ':lvar_0', 8)
    (val_max, ':lvar_12', 1)
    (store_mul, ':lvar_13', ':lvar_6', 100)
    (val_mul, ':lvar_13', ':lvar_6')
    (val_div, ':lvar_13', ':lvar_12')
    (val_div, ':lvar_13', ':lvar_12')
    (val_min, ':lvar_13', 100)
    (faction_get_slot, ':lvar_14', ':lvar_0', 80)
    (faction_get_slot, ':lvar_15', ':lvar_0', 81)
    (faction_get_slot, ':lvar_16', ':lvar_0', 82)
    (store_current_hours, ':lvar_17')
    (store_sub, ':lvar_18', ':lvar_17', ':lvar_3')
    (assign, ':lvar_19', 0)
    (try_for_range, ':lvar_20', 15, 19)
      (faction_slot_eq, ':lvar_20', 21, 0)
      (store_relation, ':lvar_21', ':lvar_20', ':lvar_0')
      (lt, ':lvar_21', 0)
      (val_add, ':lvar_19', 1)
    (try_end)
    (assign, ':lvar_22', 0)
    (assign, ':lvar_23', 0)
    (assign, ':lvar_24', 0)
    (assign, ':lvar_25', 0)
    (assign, ':lvar_26', 0)
    (assign, ':lvar_27', 0)
    (assign, ':lvar_28', -1)
    (assign, ':lvar_29', -1)
    (assign, ':lvar_30', -1)
    (assign, ':lvar_31', -1)
    (try_begin)
      (eq, ':lvar_1', 0)
      (assign, ':lvar_22', 100)
    (else_try)
      (eq, ':lvar_1', 1)
      (gt, ':lvar_18', 180)
      (assign, ':lvar_22', 10000)
    (else_try)
      (store_div, ':lvar_22', ':lvar_18', 10)
      (store_mul, ':lvar_32', ':lvar_8', 300)
      (val_add, ':lvar_22', ':lvar_32')
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 0)
      (gt, ':lvar_4', 0)
      (try_begin)
        (gt, ':lvar_19', 0)
        (store_mul, ':lvar_33', ':lvar_19', 20)
        (val_add, ':lvar_23', ':lvar_33')
        (store_sub, ':lvar_34', ':lvar_18', 96)
        (val_min, ':lvar_34', 200)
        (val_add, ':lvar_23', ':lvar_34')
        (store_mul, ':lvar_35', ':lvar_16', 2)
        (val_add, ':lvar_35', ':lvar_15')
        (val_mul, ':lvar_35', 10)
        (val_max, ':lvar_35', 5)
        (store_sub, ':lvar_36', '$gvar_629', ':lvar_35')
        (val_add, ':lvar_23', ':lvar_36')
        (store_mul, ':lvar_37', ':lvar_14', 4)
        (store_sub, ':lvar_37', 80, ':lvar_37')
        (val_add, ':lvar_23', ':lvar_37')
        (assign, ':lvar_38', 0)
        (try_for_range, ':lvar_39', 46, 114)
          (party_slot_ge, ':lvar_39', 54, 0)
          (store_faction_of_party, ':lvar_40', ':lvar_39')
          (eq, ':lvar_40', ':lvar_0')
          (val_add, ':lvar_38', 1)
        (try_end)
        (store_mul, ':lvar_41', ':lvar_38', 100)
        (val_add, ':lvar_23', ':lvar_41')
      (try_end)
    (else_try)
      (eq, ':lvar_1', 1)
      (this_or_next|lt, ':lvar_18', 60)
      (lt, ':lvar_6', 4)
      (assign, ':lvar_23', 3000)
    (try_end)
    (try_begin)
      (neq, ':lvar_1', 0)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_42', -1)
      (try_begin)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_42', ':lvar_2')
      (try_end)
      (assign, ':lvar_43', -1)
      (assign, ':lvar_44', 0)
      (try_for_range, ':lvar_45', 46, 114)
        (party_get_slot, ':lvar_46', ':lvar_45', 54)
        (assign, ':lvar_47', 0)
        (try_begin)
          (ge, ':lvar_46', 0)
          (party_is_active, ':lvar_46')
          (store_faction_of_party, ':lvar_48', ':lvar_46')
          (eq, ':lvar_48', ':lvar_0')
          (assign, ':lvar_47', 1)
        (try_end)
        (this_or_next|eq, ':lvar_46', -1)
        (eq, ':lvar_47', 1)
        (call_script, 147, ':lvar_45', ':lvar_0')
        (assign, ':lvar_21', reg0)
        (lt, ':lvar_21', 0)
        (val_mul, ':lvar_21', -1)
        (val_add, ':lvar_21', 50)
        (store_distance_to_party_from_party, ':lvar_49', ':lvar_45', ':lvar_4')
        (val_add, ':lvar_49', 20)
        (party_get_slot, ':lvar_50', ':lvar_45', 56)
        (party_get_slot, ':lvar_51', ':lvar_45', 57)
        (val_add, ':lvar_50', ':lvar_51')
        (val_add, ':lvar_50', 1)
        (store_mul, ':lvar_52', 1000, ':lvar_5')
        (val_div, ':lvar_52', ':lvar_50')
        (gt, ':lvar_52', 1500)
        (val_min, ':lvar_52', 20000)
        (try_begin)
          (party_slot_eq, ':lvar_45', 7, 0)
          (call_script, 150, ':lvar_7')
          (assign, ':lvar_53', reg0)
          (lt, ':lvar_53', 0)
          (store_sub, ':lvar_54', 50, ':lvar_53')
          (val_mul, ':lvar_52', ':lvar_54')
          (val_div, ':lvar_52', 50)
        (try_end)
        (try_begin)
          (party_slot_eq, ':lvar_45', 61, ':lvar_0')
          (val_mul, ':lvar_52', 2)
        (try_end)
        (try_begin)
          (party_slot_eq, ':lvar_45', 62, ':lvar_0')
          (val_mul, ':lvar_52', 2)
        (try_end)
        (val_mul, ':lvar_52', ':lvar_21')
        (val_div, ':lvar_52', ':lvar_49')
        (try_begin)
          (eq, ':lvar_45', ':lvar_42')
          (val_mul, ':lvar_52', 100)
        (try_end)
        (try_begin)
          (gt, ':lvar_52', ':lvar_44')
          (assign, ':lvar_44', ':lvar_52')
          (assign, ':lvar_43', ':lvar_45')
        (try_end)
      (try_end)
      (ge, ':lvar_43', 0)
      (store_div, ':lvar_24', ':lvar_44', 15)
      (val_min, ':lvar_24', 1000)
      (assign, ':lvar_28', ':lvar_43')
      (try_begin)
        (eq, ':lvar_42', ':lvar_28')
        (val_mul, ':lvar_24', 100)
      (try_end)
      (val_mul, ':lvar_24', ':lvar_13')
      (val_div, ':lvar_24', 100)
    (try_end)
    (try_begin)
      (neq, ':lvar_1', 0)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_55', -1)
      (try_begin)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_55', ':lvar_2')
      (try_end)
      (assign, ':lvar_56', 0)
      (try_for_range, ':lvar_57', 114, 204)
        (call_script, 147, ':lvar_57', ':lvar_0')
        (lt, reg0, 0)
        (store_distance_to_party_from_party, ':lvar_49', ':lvar_57', ':lvar_4')
        (lt, ':lvar_49', 120)
        (this_or_next|party_slot_eq, ':lvar_57', 35, 0)
        (party_slot_eq, ':lvar_57', 35, 1)
        (store_sub, ':lvar_58', 150, ':lvar_49')
        (val_add, ':lvar_56', ':lvar_58')
        (eq, ':lvar_57', ':lvar_55')
        (val_add, ':lvar_56', 10000)
      (try_end)
      (gt, ':lvar_56', 0)
      (store_random_in_range, ':lvar_59', 0, ':lvar_56')
      (try_for_range, ':lvar_57', 114, 204)
        (eq, ':lvar_29', -1)
        (call_script, 147, ':lvar_57', ':lvar_0')
        (lt, reg0, 0)
        (store_distance_to_party_from_party, ':lvar_49', ':lvar_57', ':lvar_4')
        (lt, ':lvar_49', 120)
        (this_or_next|party_slot_eq, ':lvar_57', 35, 0)
        (party_slot_eq, ':lvar_57', 35, 1)
        (store_sub, ':lvar_58', 150, ':lvar_49')
        (val_sub, ':lvar_59', ':lvar_58')
        (try_begin)
          (eq, ':lvar_57', ':lvar_55')
          (val_sub, ':lvar_59', 10000)
        (try_end)
        (lt, ':lvar_59', 0)
        (assign, ':lvar_29', ':lvar_57')
        (assign, ':lvar_25', 20)
        (try_begin)
          (eq, ':lvar_55', ':lvar_29')
          (val_mul, ':lvar_25', 100)
        (try_end)
        (val_mul, ':lvar_25', ':lvar_13')
        (val_div, ':lvar_25', 100)
      (try_end)
    (try_end)
    (try_begin)
      (neq, ':lvar_1', 0)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_60', -1)
      (try_begin)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_60', ':lvar_2')
      (try_end)
      (assign, ':lvar_61', -1)
      (assign, ':lvar_62', 0)
      (try_for_range, ':lvar_20', 15, 19)
        (faction_slot_eq, ':lvar_20', 21, 0)
        (faction_get_slot, ':lvar_63', ':lvar_20', 7)
        (ge, ':lvar_63', 0)
        (troop_slot_eq, ':lvar_63', 2, 2)
        (troop_get_slot, ':lvar_64', ':lvar_63', 10)
        (ge, ':lvar_64', 0)
        (party_is_active, ':lvar_64')
        (store_troop_faction, ':lvar_65', ':lvar_63')
        (store_relation, ':lvar_66', ':lvar_65', ':lvar_0')
        (lt, ':lvar_66', 0)
        (this_or_next|faction_slot_eq, ':lvar_65', 4, 2)
        (faction_slot_eq, ':lvar_65', 4, 3)
        (party_get_slot, ':lvar_67', ':lvar_64', 59)
        (party_get_slot, ':lvar_68', ':lvar_64', 56)
        (val_add, ':lvar_68', ':lvar_67')
        (store_mul, ':lvar_69', ':lvar_68', 1000)
        (val_div, ':lvar_69', ':lvar_5')
        (try_begin)
          (gt, ':lvar_69', 850)
          (store_sub, ':lvar_69', 1700, ':lvar_69')
        (try_end)
        (gt, ':lvar_69', 0)
        (val_mul, ':lvar_69', 2)
        (try_begin)
          (faction_slot_eq, ':lvar_65', 4, 2)
          (val_mul, ':lvar_69', 10)
        (else_try)
          (faction_slot_eq, ':lvar_65', 4, 3)
          (val_mul, ':lvar_69', 3)
        (try_end)
        (try_begin)
          (eq, ':lvar_60', ':lvar_64')
          (val_mul, ':lvar_69', 100)
        (try_end)
        (store_distance_to_party_from_party, ':lvar_49', ':lvar_64', ':lvar_4')
        (val_add, ':lvar_49', 20)
        (val_div, ':lvar_69', ':lvar_49')
        (gt, ':lvar_69', ':lvar_62')
        (assign, ':lvar_61', ':lvar_64')
        (assign, ':lvar_62', ':lvar_69')
      (try_end)
      (ge, ':lvar_61', 0)
      (store_mul, ':lvar_26', ':lvar_62', 2)
      (val_min, ':lvar_26', 1500)
      (assign, ':lvar_30', ':lvar_61')
      (try_begin)
        (eq, ':lvar_60', ':lvar_30')
        (val_mul, ':lvar_26', 100)
      (try_end)
      (val_mul, ':lvar_26', ':lvar_13')
      (val_div, ':lvar_26', 100)
    (try_end)
    (try_begin)
      (neq, ':lvar_1', 0)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_70', -1)
      (try_begin)
        (eq, ':lvar_1', 5)
        (assign, ':lvar_70', ':lvar_2')
      (try_end)
      (assign, ':lvar_71', -1)
      (assign, ':lvar_62', 0)
      (try_for_range, ':lvar_72', 46, 204)
        (store_faction_of_party, ':lvar_40', ':lvar_72')
        (eq, ':lvar_40', ':lvar_0')
        (party_get_slot, ':lvar_73', ':lvar_72', 58)
        (store_mul, ':lvar_69', ':lvar_73', 1000)
        (val_div, ':lvar_69', ':lvar_5')
        (try_begin)
          (gt, ':lvar_69', 850)
          (store_sub, ':lvar_69', 1700, ':lvar_69')
        (try_end)
        (gt, ':lvar_69', 0)
        (val_mul, ':lvar_69', 4)
        (try_begin)
          (party_slot_eq, ':lvar_72', 0, 4)
          (try_begin)
            (party_slot_eq, ':lvar_72', 35, 1)
            (val_mul, ':lvar_69', 3)
          (try_end)
        (else_try)
          (try_begin)
            (party_slot_ge, ':lvar_72', 54, 0)
            (val_mul, ':lvar_69', 10)
          (try_end)
        (try_end)
        (try_begin)
          (eq, ':lvar_70', ':lvar_72')
          (val_mul, ':lvar_69', 100)
        (try_end)
        (store_distance_to_party_from_party, ':lvar_49', ':lvar_72', ':lvar_4')
        (val_add, ':lvar_49', 20)
        (val_div, ':lvar_69', ':lvar_49')
        (gt, ':lvar_69', ':lvar_62')
        (assign, ':lvar_71', ':lvar_72')
        (assign, ':lvar_62', ':lvar_69')
      (try_end)
      (ge, ':lvar_71', 0)
      (store_mul, ':lvar_27', ':lvar_62', 2)
      (val_min, ':lvar_27', 2000)
      (assign, ':lvar_31', ':lvar_71')
      (try_begin)
        (eq, ':lvar_70', ':lvar_31')
        (val_mul, ':lvar_27', 1000)
      (try_end)
      (val_mul, ':lvar_27', ':lvar_13')
      (val_div, ':lvar_27', 100)
      (try_begin)
        (gt, ':lvar_27', ':lvar_26')
        (assign, ':lvar_74', 19)
        (try_for_range, ':lvar_20', 15, ':lvar_74')
          (faction_slot_eq, ':lvar_20', 21, 0)
          (faction_get_slot, ':lvar_63', ':lvar_20', 7)
          (ge, ':lvar_63', 0)
          (troop_slot_eq, ':lvar_63', 2, 2)
          (troop_get_slot, ':lvar_64', ':lvar_63', 10)
          (ge, ':lvar_64', 0)
          (party_is_active, ':lvar_64')
          (store_troop_faction, ':lvar_65', ':lvar_63')
          (store_relation, ':lvar_66', ':lvar_65', ':lvar_0')
          (lt, ':lvar_66', 0)
          (store_distance_to_party_from_party, ':lvar_75', ':lvar_64', ':lvar_31')
          (lt, ':lvar_75', 10)
          (assign, ':lvar_26', ':lvar_27')
          (assign, ':lvar_30', ':lvar_64')
          (assign, ':lvar_27', 0)
          (assign, ':lvar_31', -1)
          (assign, ':lvar_74', 0)
        (try_end)
      (try_end)
    (try_end)
    (assign, ':lvar_76', 0)
    (val_add, ':lvar_76', ':lvar_22')
    (val_add, ':lvar_76', ':lvar_23')
    (val_add, ':lvar_76', ':lvar_24')
    (val_add, ':lvar_76', ':lvar_25')
    (val_add, ':lvar_76', ':lvar_26')
    (val_add, ':lvar_76', ':lvar_27')
    (store_random_in_range, ':lvar_77', 0, ':lvar_76')
    (val_sub, ':lvar_77', ':lvar_22')
    (try_begin)
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 0)
      (faction_set_slot, ':lvar_0', 5, -1)
      (try_begin)
        (neq, ':lvar_1', 0)
        (call_script, 149, ':lvar_0')
        (faction_set_slot, ':lvar_0', 6, ':lvar_17')
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (display_message, '@qstr_261')
      (try_end)
    (else_try)
      (val_sub, ':lvar_77', ':lvar_23')
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 1)
      (faction_set_slot, ':lvar_0', 5, -1)
      (try_begin)
        (neq, ':lvar_1', 1)
        (faction_set_slot, ':lvar_0', 6, ':lvar_17')
        (faction_set_slot, ':lvar_0', 8, 1)
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (display_message, '@qstr_262')
      (try_end)
    (else_try)
      (val_sub, ':lvar_77', ':lvar_24')
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 2)
      (faction_set_slot, ':lvar_0', 5, ':lvar_28')
      (try_begin)
        (gt, ':lvar_6', ':lvar_12')
        (faction_set_slot, ':lvar_0', 8, ':lvar_6')
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (str_store_party_name, 2, ':lvar_28')
        (display_message, '@qstr_263')
      (try_end)
    (else_try)
      (val_sub, ':lvar_77', ':lvar_25')
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 3)
      (faction_set_slot, ':lvar_0', 5, ':lvar_29')
      (try_begin)
        (gt, ':lvar_6', ':lvar_12')
        (faction_set_slot, ':lvar_0', 8, ':lvar_6')
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (str_store_party_name, 2, ':lvar_29')
        (display_message, '@qstr_264')
      (try_end)
    (else_try)
      (val_sub, ':lvar_77', ':lvar_26')
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 4)
      (faction_set_slot, ':lvar_0', 5, ':lvar_30')
      (try_begin)
        (gt, ':lvar_6', ':lvar_12')
        (faction_set_slot, ':lvar_0', 8, ':lvar_6')
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (str_store_party_name, 2, ':lvar_30')
        (display_message, '@qstr_265')
      (try_end)
    (else_try)
      (val_sub, ':lvar_77', ':lvar_27')
      (lt, ':lvar_77', 0)
      (faction_set_slot, ':lvar_0', 4, 5)
      (faction_set_slot, ':lvar_0', 5, ':lvar_31')
      (try_begin)
        (gt, ':lvar_6', ':lvar_12')
        (faction_set_slot, ':lvar_0', 8, ':lvar_6')
      (try_end)
      (try_begin)
        (eq, '$gvar_152', 1)
        (str_store_faction_name, 1, ':lvar_0')
        (str_store_party_name, 2, ':lvar_31')
        (display_message, '@qstr_266')
      (try_end)
    (try_end)
    (try_begin)
      (eq, '$gvar_281', ':lvar_0')
      (neg|faction_slot_eq, ':lvar_0', 4, 2)
      (check_quest_active, 27)
      (call_script, 194, 27, 0)
    (try_end)
check_and_finish_active_army_quests_for_faction=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (eq, '$gvar_281', ':lvar_0')
      (try_begin)
        (check_quest_active, 25)
        (call_script, 266, 25)
      (try_end)
      (assign, ':lvar_1', 0)
      (try_for_range, ':lvar_2', 26, 29)
        (check_quest_active, ':lvar_2')
        (call_script, 266, ':lvar_2')
        (assign, ':lvar_1', 1)
      (try_end)
      (try_begin)
        (check_quest_active, 24)
        (assign, ':lvar_1', 1)
        (call_script, 265, 24)
      (try_end)
      (eq, ':lvar_1', 1)
      (faction_get_slot, ':lvar_3', ':lvar_0', 6)
      (store_current_hours, ':lvar_4')
      (store_sub, ':lvar_5', ':lvar_4', ':lvar_3')
      (store_mul, ':lvar_6', ':lvar_5', 5)
      (val_div, ':lvar_6', 50)
      (val_mul, ':lvar_6', 50)
      (val_add, ':lvar_6', 50)
      (add_xp_as_reward, ':lvar_6')
    (try_end)
troop_get_player_relation=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 52)
    (troop_get_slot, ':lvar_2', ':lvar_0', 22)
    (assign, ':lvar_3', 0)
    (try_begin)
      (eq, ':lvar_1', 2)
      (val_add, ':lvar_2', -3)
    (try_end)
    (try_begin)
      (ge, '$gvar_591', 0)
      (try_begin)
        (this_or_next|eq, ':lvar_1', 7)
        (eq, ':lvar_1', 6)
        (store_div, ':lvar_3', '$gvar_591', 3)
      (try_end)
    (try_end)
    (try_begin)
      (lt, '$gvar_591', 0)
      (try_begin)
        (this_or_next|eq, ':lvar_1', 7)
        (eq, ':lvar_1', 6)
        (store_div, ':lvar_3', '$gvar_591', 3)
      (else_try)
        (eq, ':lvar_1', 1)
        (store_div, ':lvar_3', '$gvar_591', 5)
      (try_end)
    (try_end)
    (val_add, ':lvar_2', ':lvar_3')
    (assign, reg0, ':lvar_2')
change_troop_renown=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (troop_get_slot, ':lvar_2', ':lvar_0', 7)
    (store_add, ':lvar_3', ':lvar_2', ':lvar_1')
    (val_max, ':lvar_3', 0)
    (troop_set_slot, ':lvar_0', 7, ':lvar_3')
    (try_begin)
      (eq, ':lvar_0', 0)
      (str_store_troop_name, 1, ':lvar_0')
      (assign, reg12, ':lvar_1')
      (val_abs, reg12)
      (try_begin)
        (gt, ':lvar_1', 0)
        (display_message, '@qstr_267', 5308240)
      (else_try)
        (lt, ':lvar_1', 0)
        (display_message, '@qstr_268', 16732240)
      (try_end)
    (try_end)
    (call_script, 279, ':lvar_0')
change_player_relation_with_troop=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (neq, ':lvar_0', 0)
      (neg|is_between, ':lvar_0', 24, 215)
      (neq, ':lvar_1', 0)
      (call_script, 150, ':lvar_0')
      (assign, ':lvar_2', reg0)
      (troop_get_slot, ':lvar_3', ':lvar_0', 22)
      (val_add, ':lvar_3', ':lvar_1')
      (val_clamp, ':lvar_3', -100, 101)
      (try_begin)
        (troop_set_slot, ':lvar_0', 22, ':lvar_3')
        (str_store_troop_name_link, 1, ':lvar_0')
        (call_script, 150, ':lvar_0')
        (assign, ':lvar_4', reg0)
        (neq, ':lvar_2', ':lvar_4')
        (assign, reg1, ':lvar_2')
        (assign, reg2, ':lvar_4')
        (try_begin)
          (gt, ':lvar_1', 0)
          (display_message, 216172782113783971, 5308240)
        (else_try)
          (lt, ':lvar_1', 0)
          (display_message, 216172782113783972, 16732240)
        (try_end)
        (try_begin)
          (eq, ':lvar_0', '$gvar_15')
          (assign, '$gvar_19', ':lvar_4')
          (call_script, 31)
        (try_end)
        (call_script, 279, ':lvar_0')
      (try_end)
    (try_end)
change_player_relation_with_center=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (party_get_slot, ':lvar_2', ':lvar_0', 26)
    (assign, reg1, ':lvar_2')
    (val_add, ':lvar_2', ':lvar_1')
    (val_clamp, ':lvar_2', -100, 100)
    (assign, reg2, ':lvar_2')
    (party_set_slot, ':lvar_0', 26, ':lvar_2')
    (str_store_party_name_link, 1, ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 0)
      (display_message, '@qstr_269', 5308240)
    (else_try)
      (lt, ':lvar_1', 0)
      (display_message, '@qstr_270', 16732240)
    (try_end)
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 4)
      (call_script, 269, ':lvar_0')
    (try_end)
    (try_begin)
      (this_or_next|is_between, '$gvar_15', 790, 880)
      (is_between, '$gvar_15', 763, 790)
      (assign, '$gvar_19', ':lvar_2')
      (call_script, 31)
    (try_end)
change_player_relation_with_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_relation, ':lvar_2', ':lvar_0', 15)
    (assign, reg1, ':lvar_2')
    (val_add, ':lvar_2', ':lvar_1')
    (assign, reg2, ':lvar_2')
    (set_relation, ':lvar_0', 14, ':lvar_2')
    (set_relation, ':lvar_0', 15, ':lvar_2')
    (str_store_faction_name_link, 1, ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 0)
      (display_message, 216172782113783973, 5308240)
    (else_try)
      (lt, ':lvar_1', 0)
      (display_message, 216172782113783974, 16732240)
    (try_end)
    (call_script, 283)
set_player_relation_with_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_relation, ':lvar_2', ':lvar_0', 15)
    (store_sub, ':lvar_3', ':lvar_1', ':lvar_2')
    (call_script, 154, ':lvar_0', ':lvar_3')
change_player_relation_with_faction_ex=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_relation, ':lvar_2', ':lvar_0', 15)
    (assign, reg1, ':lvar_2')
    (val_add, ':lvar_2', ':lvar_1')
    (assign, reg2, ':lvar_2')
    (set_relation, ':lvar_0', 14, ':lvar_2')
    (set_relation, ':lvar_0', 15, ':lvar_2')
    (str_store_faction_name_link, 1, ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 0)
      (display_message, 216172782113783973, 5308240)
    (else_try)
      (lt, ':lvar_1', 0)
      (display_message, 216172782113783974, 16732240)
    (try_end)
    (try_for_range, ':lvar_3', 15, 19)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (neq, ':lvar_0', ':lvar_3')
      (store_relation, ':lvar_4', ':lvar_0', ':lvar_3')
      (store_relation, ':lvar_2', ':lvar_3', 15)
      (store_mul, ':lvar_5', ':lvar_1', ':lvar_4')
      (val_div, ':lvar_5', 100)
      (val_add, ':lvar_2', ':lvar_5')
      (set_relation, ':lvar_3', 14, ':lvar_2')
      (set_relation, ':lvar_3', 15, ':lvar_2')
    (try_end)
    (try_begin)
      (faction_slot_eq, 15, 21, 0)
      (try_for_range, ':lvar_0', 15, 19)
        (faction_slot_eq, ':lvar_0', 21, 0)
        (call_script, 277, ':lvar_0')
      (try_end)
    (try_end)
cf_get_random_active_faction_except_player_faction_and_faction=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 15, 19)
      (neq, ':lvar_2', 15)
      (neq, ':lvar_2', ':lvar_0')
      (faction_slot_eq, ':lvar_2', 21, 0)
      (val_add, ':lvar_1', 1)
    (try_end)
    (gt, ':lvar_1', 0)
    (assign, ':lvar_3', -1)
    (store_random_in_range, ':lvar_4', 0, ':lvar_1')
    (try_for_range, ':lvar_2', 15, 19)
      (ge, ':lvar_4', 0)
      (neq, ':lvar_2', 15)
      (neq, ':lvar_2', ':lvar_0')
      (faction_slot_eq, ':lvar_2', 21, 0)
      (val_sub, ':lvar_4', 1)
      (lt, ':lvar_4', 0)
      (assign, ':lvar_3', ':lvar_2')
    (try_end)
    (assign, reg0, ':lvar_3')
make_faction_hostile_to_player=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (lt, ':lvar_1', 0)
      (store_relation, ':lvar_2', ':lvar_0', 15)
      (val_min, ':lvar_2', 0)
      (val_add, ':lvar_2', ':lvar_1')
      (call_script, 155, ':lvar_0', ':lvar_2')
    (try_end)
change_player_honor=>
    (store_script_param_1, ':lvar_0')
    (val_add, '$gvar_591', ':lvar_0')
    (try_begin)
      (gt, ':lvar_0', 0)
      (display_message, '@qstr_271', 5308240)
    (else_try)
      (lt, ':lvar_0', 0)
      (display_message, '@qstr_272', 16732240)
    (try_end)
change_player_party_morale=>
    (store_script_param_1, ':lvar_0')
    (party_get_morale, ':lvar_1', 0)
    (store_add, ':lvar_2', ':lvar_1', ':lvar_0')
    (val_clamp, ':lvar_2', 0, 100)
    (party_set_morale, 0, ':lvar_2')
    (try_begin)
      (lt, ':lvar_2', ':lvar_1')
      (store_sub, reg1, ':lvar_1', ':lvar_2')
      (display_message, 216172782113783976, 16732240)
    (else_try)
      (gt, ':lvar_2', ':lvar_1')
      (store_sub, reg1, ':lvar_2', ':lvar_1')
      (display_message, 216172782113783975, 5308240)
    (try_end)
cf_player_has_item_without_modifier=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (player_has_item, ':lvar_0')
    (assign, ':lvar_2', 0)
    (troop_get_inventory_capacity, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 0, ':lvar_3')
      (troop_get_inventory_slot, ':lvar_5', 0, ':lvar_4')
      (eq, ':lvar_5', ':lvar_0')
      (troop_get_inventory_slot_modifier, ':lvar_6', 0, ':lvar_4')
      (neq, ':lvar_6', ':lvar_1')
      (assign, ':lvar_2', 1)
      (assign, ':lvar_3', 0)
    (try_end)
    (eq, ':lvar_2', 1)
get_player_party_morale_values=>
    (party_get_num_companion_stacks, ':lvar_0', 0)
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 1, ':lvar_0')
      (party_stack_get_troop_id, ':lvar_3', 0, ':lvar_2')
      (try_begin)
        (troop_is_hero, ':lvar_3')
        (val_add, ':lvar_1', 0)
      (else_try)
        (party_stack_get_size, ':lvar_4', 0, ':lvar_2')
        (val_add, ':lvar_1', ':lvar_4')
      (try_end)
    (try_end)
    (assign, '$gvar_592', ':lvar_1')
    (store_skill_level, ':lvar_5', 1, 0)
    (store_mul, '$gvar_593', ':lvar_5', 7)
    (assign, ':lvar_6', '$gvar_593')
    (val_sub, ':lvar_6', '$gvar_592')
    (val_add, ':lvar_6', 50)
    (assign, '$gvar_594', 0)
    (try_for_range, ':lvar_7', 74, 109)
      (call_script, 161, ':lvar_7', 41)
      (item_get_slot, ':lvar_8', ':lvar_7', 1)
      (val_add, '$gvar_594', ':lvar_8')
    (try_end)
    (val_add, ':lvar_6', '$gvar_594')
    (try_begin)
      (eq, '$gvar_594', 0)
      (assign, '$gvar_595', 30)
      (val_sub, ':lvar_6', '$gvar_595')
    (else_try)
      (assign, '$gvar_595', 0)
    (try_end)
    (assign, '$gvar_596', 0)
    (try_begin)
      (gt, '$gvar_180', 0)
      (call_script, 118)
      (assign, ':lvar_9', reg0)
      (store_mul, '$gvar_596', '$gvar_180', 10)
      (val_div, '$gvar_596', ':lvar_9')
      (val_clamp, '$gvar_596', 1, 31)
      (val_sub, ':lvar_6', '$gvar_596')
    (try_end)
    (val_clamp, ':lvar_6', 0, 100)
    (assign, reg0, ':lvar_6')
diplomacy_start_war_between_factions=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_relation, ':lvar_3', ':lvar_0', ':lvar_1')
    (val_min, ':lvar_3', -10)
    (val_add, ':lvar_3', -30)
    (set_relation, ':lvar_0', ':lvar_1', ':lvar_3')
    (try_begin)
      (eq, '$gvar_281', ':lvar_0')
      (store_relation, ':lvar_3', 15, ':lvar_1')
      (val_min, ':lvar_3', -30)
      (call_script, 155, ':lvar_1', ':lvar_3')
    (else_try)
      (eq, '$gvar_281', ':lvar_1')
      (store_relation, ':lvar_3', 15, ':lvar_0')
      (val_min, ':lvar_3', -30)
      (call_script, 155, ':lvar_0', ':lvar_3')
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (try_begin)
        (store_random_in_range, ':lvar_4', 0, 2)
        (this_or_next|eq, ':lvar_0', 15)
        (eq, ':lvar_4', 0)
        (assign, ':lvar_5', ':lvar_0')
        (assign, ':lvar_0', ':lvar_1')
        (assign, ':lvar_1', ':lvar_5')
      (try_end)
      (str_store_faction_name_link, 1, ':lvar_0')
      (str_store_faction_name_link, 2, ':lvar_1')
      (display_log_message, '@qstr_273', 6737151)
      (call_script, 175, 193, ':lvar_0', ':lvar_1')
      (call_script, 277, ':lvar_0')
      (call_script, 277, ':lvar_1')
      (assign, '$gvar_70', 1)
    (try_end)
swc_init_rebels_vs_empire=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_relation, ':lvar_3', ':lvar_0', ':lvar_1')
    (val_min, ':lvar_3', -10)
    (val_add, ':lvar_3', -30)
    (set_relation, ':lvar_0', ':lvar_1', ':lvar_3')
    (try_begin)
      (eq, '$gvar_281', ':lvar_0')
      (store_relation, ':lvar_3', 15, ':lvar_1')
      (val_min, ':lvar_3', -30)
      (call_script, 155, ':lvar_1', ':lvar_3')
    (else_try)
      (eq, '$gvar_281', ':lvar_1')
      (store_relation, ':lvar_3', 15, ':lvar_0')
      (val_min, ':lvar_3', -30)
      (call_script, 155, ':lvar_0', ':lvar_3')
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (try_begin)
        (store_random_in_range, ':lvar_4', 0, 2)
        (this_or_next|eq, ':lvar_0', 15)
        (eq, ':lvar_4', 0)
        (assign, ':lvar_5', ':lvar_0')
        (assign, ':lvar_0', ':lvar_1')
        (assign, ':lvar_1', ':lvar_5')
      (try_end)
      (str_store_faction_name_link, 1, ':lvar_0')
      (str_store_faction_name_link, 2, ':lvar_1')
      (display_log_message, '@qstr_274', 6737151)
      (call_script, 277, ':lvar_0')
      (call_script, 277, ':lvar_1')
      (assign, '$gvar_70', 1)
    (try_end)
party_calculate_and_set_nearby_friend_strength=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (store_faction_of_party, ':lvar_4', ':lvar_0')
    (store_add, ':lvar_5', 530, 1)
    (try_for_range, ':lvar_6', 405, ':lvar_5')
      (try_begin)
        (eq, ':lvar_6', 530)
        (assign, ':lvar_7', 0)
      (else_try)
        (assign, ':lvar_7', ':lvar_6')
      (try_end)
      (troop_slot_eq, ':lvar_7', 2, 2)
      (troop_get_slot, ':lvar_8', ':lvar_7', 10)
      (ge, ':lvar_8', 0)
      (party_is_active, ':lvar_8')
      (neq, ':lvar_0', ':lvar_8')
      (party_get_slot, ':lvar_9', ':lvar_8', 56)
      (try_begin)
        (party_get_slot, ':lvar_10', ':lvar_8', 30)
        (eq, ':lvar_10', ':lvar_0')
        (val_add, ':lvar_1', ':lvar_9')
      (try_end)
      (store_distance_to_party_from_party, ':lvar_11', ':lvar_8', ':lvar_0')
      (lt, ':lvar_11', 10)
      (store_troop_faction, ':lvar_12', ':lvar_7')
      (store_relation, ':lvar_13', ':lvar_12', ':lvar_4')
      (try_begin)
        (this_or_next|eq, ':lvar_12', ':lvar_4')
        (gt, ':lvar_13', 0)
        (val_add, ':lvar_2', ':lvar_9')
      (else_try)
        (lt, ':lvar_13', 0)
        (val_add, ':lvar_3', ':lvar_9')
      (try_end)
    (try_end)
    (party_set_slot, ':lvar_0', 59, ':lvar_1')
    (party_set_slot, ':lvar_0', 57, ':lvar_2')
    (party_set_slot, ':lvar_0', 58, ':lvar_3')
init_ai_calculation=>
    (try_for_range, ':lvar_0', 405, 530)
      (troop_slot_eq, ':lvar_0', 2, 2)
      (troop_get_slot, ':lvar_1', ':lvar_0', 10)
      (ge, ':lvar_1', 0)
      (call_script, 42, ':lvar_1', 0)
    (try_end)
    (call_script, 42, 0, 0)
    (try_for_range, ':lvar_2', 46, 114)
      (call_script, 42, ':lvar_2', 0)
    (try_end)
    (try_for_range, ':lvar_2', 46, 114)
      (call_script, 165, ':lvar_2')
    (try_end)
    (try_for_range, ':lvar_0', 405, 530)
      (troop_get_slot, ':lvar_3', ':lvar_0', 10)
      (gt, ':lvar_3', 0)
      (call_script, 165, ':lvar_3')
    (try_end)
    (call_script, 165, 0)
recalculate_ais=>
    (call_script, 166)
    (try_for_range, ':lvar_0', 15, 19)
      (faction_slot_eq, ':lvar_0', 21, 0)
      (neg|faction_slot_eq, ':lvar_0', 7, 0)
      (call_script, 148, ':lvar_0')
    (try_end)
    (call_script, 140)
recalculate_ai_for_troop=>
    (store_script_param, ':lvar_0', 1)
    (call_script, 166)
    (call_script, 169, ':lvar_0')
    (call_script, 170, ':lvar_0')
calculate_troop_ai=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (troop_slot_eq, ':lvar_0', 2, 2)
      (neg|troop_slot_ge, ':lvar_0', 8, 0)
      (troop_get_slot, ':lvar_1', ':lvar_0', 10)
      (gt, ':lvar_1', 0)
      (party_slot_eq, ':lvar_1', 31, 0)
      (store_faction_of_party, ':lvar_2', ':lvar_1')
      (assign, ':lvar_3', 1)
      (try_begin)
        (faction_slot_eq, ':lvar_2', 7, ':lvar_0')
        (neg|faction_slot_eq, ':lvar_2', 4, 0)
        (assign, ':lvar_3', 0)
      (try_end)
      (eq, ':lvar_3', 1)
      (call_script, 71, ':lvar_1')
      (assign, ':lvar_4', reg0)
      (call_script, 22, ':lvar_1')
      (assign, ':lvar_5', reg0)
      (store_mul, '$gvar_597', ':lvar_4', 100)
      (val_div, '$gvar_597', ':lvar_5')
      (try_begin)
        (faction_slot_eq, ':lvar_2', 82, 0)
        (faction_slot_eq, ':lvar_2', 81, 0)
        (assign, '$gvar_598', 0)
      (else_try)
        (party_get_num_prisoners, ':lvar_6', ':lvar_1')
        (store_div, '$gvar_598', ':lvar_6', ':lvar_4')
      (try_end)
      (call_script, 142, ':lvar_0')
      (party_slot_eq, ':lvar_1', 30, -1)
      (call_script, 143, ':lvar_0')
    (try_end)
calculate_troop_ai_under_command=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (troop_slot_eq, ':lvar_0', 2, 2)
      (neg|troop_slot_ge, ':lvar_0', 8, 0)
      (troop_get_slot, ':lvar_1', ':lvar_0', 10)
      (gt, ':lvar_1', 0)
      (party_slot_ge, ':lvar_1', 30, 0)
      (party_set_ai_initiative, ':lvar_1', 50)
      (call_script, 141, ':lvar_1')
    (try_end)
diplomacy_start_peace_between_factions=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_relation, ':lvar_3', ':lvar_0', ':lvar_1')
    (val_max, ':lvar_3', 0)
    (set_relation, ':lvar_0', ':lvar_1', ':lvar_3')
    (call_script, 174, ':lvar_0', ':lvar_1')
    (try_begin)
      (eq, '$gvar_281', ':lvar_0')
      (store_relation, ':lvar_3', 15, ':lvar_1')
      (val_max, ':lvar_3', 0)
      (call_script, 155, ':lvar_1', ':lvar_3')
      (call_script, 172, ':lvar_1', 15)
    (else_try)
      (eq, '$gvar_281', ':lvar_1')
      (store_relation, ':lvar_3', 15, ':lvar_0')
      (val_max, ':lvar_3', 0)
      (call_script, 155, ':lvar_0', ':lvar_3')
      (call_script, 172, ':lvar_0', 15)
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (str_store_faction_name_link, 1, ':lvar_0')
      (str_store_faction_name_link, 2, ':lvar_1')
      (display_log_message, '@qstr_275', 6737151)
      (call_script, 277, ':lvar_0')
      (call_script, 277, ':lvar_1')
      (call_script, 175, 194, ':lvar_0', ':lvar_1')
      (call_script, 172, ':lvar_0', ':lvar_1')
      (call_script, 172, ':lvar_1', ':lvar_0')
      (assign, '$gvar_70', 1)
    (try_end)
event_faction_make_peace_with_faction=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_begin)
      (check_quest_active, 22)
      (try_begin)
        (eq, '$gvar_281', ':lvar_0')
        (quest_slot_eq, 22, 3, ':lvar_1')
        (call_script, 266, 22)
      (else_try)
        (eq, '$gvar_281', ':lvar_1')
        (quest_slot_eq, 22, 3, ':lvar_0')
        (call_script, 266, 22)
      (try_end)
    (try_end)
randomly_start_war_peace=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_0', 1)
    (store_relation, ':lvar_1', 16, 17)
    (store_relation, ':lvar_2', 18, 16)
    (store_relation, ':lvar_3', 18, 17)
    (try_begin)
      (ge, ':lvar_1', 0)
      (call_script, 163, 16, 17, ':lvar_0')
    (try_end)
    (assign, ':lvar_4', 0)
    (try_begin)
      (lt, ':lvar_2', 0)
      (val_add, ':lvar_4', 1)
    (try_end)
    (try_begin)
      (lt, ':lvar_3', 0)
      (val_add, ':lvar_4', 1)
    (try_end)
    (try_begin)
      (ge, ':lvar_4', 2)
      (store_random_in_range, ':lvar_5', 0, 100)
      (try_begin)
        (le, ':lvar_5', 50)
        (call_script, 171, 18, 16, ':lvar_0')
      (else_try)
        (call_script, 171, 18, 17, ':lvar_0')
      (try_end)
    (else_try)
      (eq, ':lvar_4', 1)
      (store_random_in_range, ':lvar_5', 0, 100)
      (try_begin)
        (le, ':lvar_5', 5)
        (try_begin)
          (lt, ':lvar_2', 0)
          (call_script, 171, 18, 16, ':lvar_0')
        (try_end)
        (try_begin)
          (lt, ':lvar_3', 0)
          (call_script, 171, 18, 17, ':lvar_0')
        (try_end)
      (try_end)
    (else_try)
      (store_random_in_range, ':lvar_5', 0, 100)
      (try_begin)
        (le, ':lvar_5', 10)
        (store_random_in_range, ':lvar_5', 0, 100)
        (try_begin)
          (le, ':lvar_5', 50)
          (call_script, 163, 18, 16, ':lvar_0')
        (else_try)
          (call_script, 163, 18, 17, ':lvar_0')
        (try_end)
      (try_end)
    (try_end)
exchange_prisoners_between_factions=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', -1)
    (try_begin)
      (this_or_next|eq, '$gvar_281', ':lvar_0')
      (eq, '$gvar_281', ':lvar_1')
      (assign, ':lvar_2', 14)
      (assign, ':lvar_3', 15)
    (try_end)
    (try_for_parties, ':lvar_4')
      (store_faction_of_party, ':lvar_5', ':lvar_4')
      (this_or_next|eq, ':lvar_5', ':lvar_0')
      (this_or_next|eq, ':lvar_5', ':lvar_1')
      (this_or_next|eq, ':lvar_5', ':lvar_2')
      (eq, ':lvar_5', ':lvar_3')
      (party_get_num_prisoner_stacks, ':lvar_6', ':lvar_4')
      (try_for_range_backwards, ':lvar_7', 0, ':lvar_6')
        (party_prisoner_stack_get_troop_id, ':lvar_8', ':lvar_4', ':lvar_7')
        (store_troop_faction, ':lvar_9', ':lvar_8')
        (this_or_next|eq, ':lvar_9', ':lvar_0')
        (this_or_next|eq, ':lvar_9', ':lvar_1')
        (this_or_next|eq, ':lvar_9', ':lvar_2')
        (eq, ':lvar_9', ':lvar_3')
        (try_begin)
          (troop_is_hero, ':lvar_8')
          (call_script, 364, ':lvar_8')
        (try_end)
        (party_prisoner_stack_get_size, ':lvar_10', ':lvar_4', ':lvar_7')
        (party_remove_prisoners, ':lvar_4', ':lvar_8', ':lvar_10')
      (try_end)
    (try_end)
add_notification_menu=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (assign, ':lvar_3', 1)
    (try_for_range, ':lvar_4', 0, ':lvar_3')
      (try_begin)
        (troop_slot_ge, 919, ':lvar_4', 1)
        (val_add, ':lvar_3', 1)
      (else_try)
        (troop_set_slot, 919, ':lvar_4', ':lvar_0')
        (troop_set_slot, 920, ':lvar_4', ':lvar_1')
        (troop_set_slot, 921, ':lvar_4', ':lvar_2')
      (try_end)
    (try_end)
finish_quest=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (quest_get_slot, ':lvar_2', ':lvar_0', 6)
    (quest_get_slot, ':lvar_3', ':lvar_0', 20)
    (quest_get_slot, ':lvar_4', ':lvar_0', 21)
    (quest_get_slot, ':lvar_5', ':lvar_0', 22)
    (try_begin)
      (lt, ':lvar_1', 100)
      (val_mul, ':lvar_4', ':lvar_1')
      (val_div, ':lvar_4', 100)
      (val_mul, ':lvar_5', ':lvar_1')
      (val_div, ':lvar_5', 100)
      (assign, ':lvar_6', ':lvar_1')
      (val_sub, ':lvar_6', 75)
      (val_mul, ':lvar_3', ':lvar_6')
      (val_div, ':lvar_3', 100)
    (else_try)
      (val_div, ':lvar_3', 4)
      (val_add, ':lvar_3', 1)
      (call_script, 152, ':lvar_2', ':lvar_3')
    (try_end)
    (add_xp_as_reward, ':lvar_4')
    (call_script, 311, 0, ':lvar_5')
    (call_script, 265, ':lvar_0')
get_information_about_troops_position=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, reg3)
    (troop_get_type, reg4, ':lvar_0')
    (str_store_troop_name, 2, ':lvar_0')
    (assign, ':lvar_1', 0)
    (troop_get_slot, ':lvar_2', ':lvar_0', 12)
    (try_begin)
      (gt, ':lvar_2', 0)
      (is_between, ':lvar_2', 46, 204)
      (str_store_party_name_link, 3, ':lvar_2')
      (str_store_string, 1, '@qstr_276')
      (assign, ':lvar_1', 1)
    (else_try)
      (troop_get_slot, ':lvar_3', ':lvar_0', 10)
      (gt, ':lvar_3', 0)
      (call_script, 129, ':lvar_0')
      (assign, ':lvar_2', reg0)
      (try_begin)
        (is_between, ':lvar_2', 46, 204)
        (str_store_party_name_link, 3, ':lvar_2')
        (str_store_string, 1, '@qstr_276')
        (assign, ':lvar_1', 1)
      (else_try)
        (get_party_ai_behavior, ':lvar_4', ':lvar_3')
        (eq, ':lvar_4', 1)
        (get_party_ai_object, ':lvar_5', ':lvar_3')
        (is_between, ':lvar_5', 46, 204)
        (call_script, 97, ':lvar_3')
        (str_store_party_name_link, 4, reg0)
        (str_store_party_name_link, 3, ':lvar_5')
        (str_store_string, 1, '@qstr_277')
        (assign, ':lvar_1', 1)
      (else_try)
        (call_script, 97, ':lvar_3')
        (str_store_party_name_link, 3, reg0)
        (str_store_string, 1, '@qstr_278')
        (assign, ':lvar_1', 1)
      (try_end)
    (else_try)
      (troop_slot_ge, ':lvar_0', 8, 0)
      (try_for_range, ':lvar_2', 46, 114)
        (party_count_prisoners_of_type, ':lvar_6', ':lvar_2', ':lvar_0')
        (gt, ':lvar_6', 0)
        (assign, ':lvar_1', 1)
        (str_store_party_name_link, 3, ':lvar_2')
        (str_store_string, 1, '@qstr_279')
      (try_end)
      (try_begin)
        (eq, ':lvar_1', 0)
        (str_store_string, 1, '@qstr_280')
        (assign, ':lvar_1', 1)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 0)
      (str_store_string, 1, '@qstr_281')
    (try_end)
    (assign, reg0, ':lvar_1')
recruit_troop_as_companion=>
    (store_script_param_1, ':lvar_0')
    (troop_set_slot, ':lvar_0', 2, 3)
    (troop_set_slot, ':lvar_0', 12, -1)
    (troop_set_auto_equip, ':lvar_0', 0)
    (party_add_members, 0, ':lvar_0', 1)
    (str_store_troop_name, 6, ':lvar_0')
    (display_message, '@qstr_282', 16776960)
setup_random_scene=>
    (assign, ':lvar_0', 100000)
    (assign, ':lvar_1', -1)
    (try_for_range, ':lvar_2', 46, 73)
      (store_distance_to_party_from_party, ':lvar_3', ':lvar_2', 0)
      (lt, ':lvar_3', ':lvar_0')
      (assign, ':lvar_0', ':lvar_3')
      (assign, ':lvar_1', ':lvar_2')
    (try_end)
    (assign, ':lvar_4', 14)
    (try_for_range, ':lvar_5', 46, 73)
      (store_sub, ':lvar_6', ':lvar_5', 46)
      (store_add, ':lvar_7', 481, ':lvar_6')
      (eq, ':lvar_1', ':lvar_5')
      (assign, ':lvar_4', ':lvar_7')
    (try_end)
    (jump_to_scene, ':lvar_4')
enter_dungeon=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (set_jump_mission, ':lvar_1')
    (party_get_slot, ':lvar_2', ':lvar_0', 12)
    (modify_visitors_at_site, ':lvar_2')
    (reset_visitors)
    (assign, ':lvar_3', 16)
    (call_script, 108, ':lvar_0', 1)
    (party_get_num_companion_stacks, ':lvar_4', 1)
    (try_for_range, ':lvar_5', 0, ':lvar_4')
      (party_stack_get_troop_id, ':lvar_6', 1, ':lvar_5')
      (lt, ':lvar_3', 32)
      (set_visitor, ':lvar_3', ':lvar_6')
      (val_add, ':lvar_3', 1)
    (try_end)
    (set_jump_entry, 0)
    (jump_to_scene, ':lvar_2')
    (scene_set_slot, ':lvar_2', 0, 1)
    (change_screen_mission)
enter_court=>
    (store_script_param_1, ':lvar_0')
    (assign, '$gvar_188', 1)
    (set_jump_mission, 7)
    (party_get_slot, ':lvar_1', ':lvar_0', 11)
    (modify_visitors_at_site, ':lvar_1')
    (reset_visitors)
    (store_faction_of_party, ':lvar_2', ':lvar_0')
    (faction_get_slot, ':lvar_3', ':lvar_2', 49)
    (try_begin)
      (le, ':lvar_3', 0)
      (assign, ':lvar_3', 85)
    (try_end)
    (try_begin)
      (this_or_next|eq, '$gvar_208', 56)
      (eq, '$gvar_208', 58)
      (set_visitor, 5, ':lvar_3')
      (set_visitor, 6, ':lvar_3')
      (set_visitor, 7, ':lvar_3')
      (set_visitor, 8, ':lvar_3')
      (set_visitor, 9, ':lvar_3')
      (set_visitor, 40, ':lvar_3')
      (set_visitor, 41, ':lvar_3')
      (set_visitor, 42, ':lvar_3')
      (set_visitor, 43, ':lvar_3')
      (set_visitor, 44, ':lvar_3')
      (set_visitor, 45, ':lvar_3')
    (else_try)
      (set_visitor, 5, ':lvar_3')
      (set_visitor, 6, ':lvar_3')
      (set_visitor, 7, ':lvar_3')
    (try_end)
    (assign, ':lvar_4', 16)
    (call_script, 106, ':lvar_0', 1)
    (party_get_num_companion_stacks, ':lvar_5', 1)
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (party_stack_get_troop_id, ':lvar_7', 1, ':lvar_6')
      (lt, ':lvar_4', 32)
      (set_visitor, ':lvar_4', ':lvar_7')
      (val_add, ':lvar_4', 1)
    (try_end)
    (try_for_range, ':lvar_8', 405, 530)
      (troop_slot_eq, ':lvar_8', 2, 4)
      (troop_slot_eq, ':lvar_8', 12, ':lvar_0')
      (lt, ':lvar_4', 32)
      (set_visitor, ':lvar_4', ':lvar_8')
      (val_add, ':lvar_4', 1)
    (try_end)
    (store_faction_of_party, ':lvar_2', '$gvar_208')
    (try_begin)
      (eq, ':lvar_2', 18)
      (store_random_in_range, ':lvar_9', 1, 5)
      (try_begin)
        (eq, ':lvar_9', 1)
        (set_visitor, 38, 219)
      (else_try)
        (eq, ':lvar_9', 2)
        (set_visitor, 38, 220)
      (else_try)
        (eq, ':lvar_9', 3)
        (set_visitor, 38, 266)
      (else_try)
      (try_end)
      (store_random_in_range, ':lvar_9', 1, 5)
      (try_begin)
        (eq, ':lvar_9', 1)
        (set_visitor, 39, 219)
      (else_try)
        (eq, ':lvar_9', 2)
        (set_visitor, 39, 220)
      (else_try)
        (eq, ':lvar_9', 3)
        (set_visitor, 39, 266)
      (else_try)
      (try_end)
    (try_end)
    (jump_to_scene, ':lvar_1')
    (scene_set_slot, ':lvar_1', 0, 1)
    (change_screen_mission)
find_high_ground_around_pos1=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (val_mul, ':lvar_1', 100)
    (get_scene_boundaries, 10, 11)
    (team_get_leader, ':lvar_2', ':lvar_0')
    (agent_get_position, 1, ':lvar_2')
    (set_fixed_point_multiplier, 100)
    (position_get_x, ':lvar_3', 1)
    (position_get_y, ':lvar_4', 1)
    (store_sub, ':lvar_5', ':lvar_3', ':lvar_1')
    (store_sub, ':lvar_6', ':lvar_4', ':lvar_1')
    (store_add, ':lvar_7', ':lvar_3', ':lvar_1')
    (store_add, ':lvar_8', ':lvar_4', ':lvar_1')
    (position_get_x, ':lvar_9', 10)
    (position_get_x, ':lvar_10', 11)
    (position_get_y, ':lvar_11', 10)
    (position_get_y, ':lvar_12', 11)
    (val_max, ':lvar_5', ':lvar_9')
    (val_max, ':lvar_6', ':lvar_11')
    (val_min, ':lvar_7', ':lvar_10')
    (val_min, ':lvar_8', ':lvar_12')
    (store_div, ':lvar_13', ':lvar_5', 100)
    (store_div, ':lvar_14', ':lvar_6', 100)
    (store_div, ':lvar_15', ':lvar_7', 100)
    (store_div, ':lvar_16', ':lvar_8', 100)
    (assign, ':lvar_17', -10000)
    (copy_position, 52, 1)
    (init_position, 15)
    (try_for_range, ':lvar_18', ':lvar_13', ':lvar_15')
      (store_mul, ':lvar_19', ':lvar_18', 100)
      (try_for_range, ':lvar_20', ':lvar_14', ':lvar_16')
        (store_mul, ':lvar_21', ':lvar_20', 100)
        (position_set_x, 15, ':lvar_19')
        (position_set_y, 15, ':lvar_21')
        (position_set_z, 15, 10000)
        (position_set_z_to_ground_level, 15)
        (position_get_z, ':lvar_22', 15)
        (try_begin)
          (gt, ':lvar_22', ':lvar_17')
          (copy_position, 52, 15)
          (assign, ':lvar_17', ':lvar_22')
        (try_end)
      (try_end)
    (try_end)
select_battle_tactic=>
    (assign, '$gvar_599', 0)
    (get_player_agent_no, ':lvar_0')
    (agent_get_team, ':lvar_1', ':lvar_0')
    (try_begin)
      (num_active_teams_le, 2)
      (try_begin)
        (eq, ':lvar_1', 0)
        (assign, '$gvar_600', 1)
      (else_try)
        (assign, '$gvar_600', 0)
      (try_end)
      (assign, '$gvar_601', -1)
    (else_try)
      (try_begin)
        (eq, ':lvar_1', 0)
        (assign, '$gvar_600', 1)
      (else_try)
        (assign, '$gvar_600', 0)
      (try_end)
      (store_add, '$gvar_601', ':lvar_1', 2)
    (try_end)
    (call_script, 184, '$gvar_600')
    (assign, '$gvar_599', reg0)
    (try_begin)
      (ge, '$gvar_601', 0)
      (call_script, 184, '$gvar_601')
      (assign, '$gvar_602', reg0)
    (try_end)
select_battle_tactic_aux=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (get_player_agent_no, ':lvar_3')
    (agent_get_team, ':lvar_4', ':lvar_3')
    (try_begin)
      (eq, '$gvar_187', 1)
      (teams_are_enemies, ':lvar_0', ':lvar_4')
      (assign, ':lvar_2', 1)
    (try_end)
    (call_script, 189, ':lvar_0', 0)
    (assign, ':lvar_5', reg1)
    (assign, ':lvar_6', reg2)
    (call_script, 189, ':lvar_0', 1)
    (store_random_in_range, ':lvar_7', 0, 100)
    (try_begin)
      (this_or_next|lt, ':lvar_7', 20)
      (assign, ':lvar_8', 0)
      (try_begin)
        (teams_are_enemies, ':lvar_0', ':lvar_4')
        (party_slot_eq, '$gvar_181', 0, 13)
        (assign, ':lvar_8', 1)
      (else_try)
        (neg|teams_are_enemies, ':lvar_0', ':lvar_4')
        (gt, '$gvar_182', 0)
        (party_slot_eq, '$gvar_182', 0, 13)
        (assign, ':lvar_8', 1)
      (try_end)
      (eq, ':lvar_8', 1)
      (try_begin)
        (eq, ':lvar_2', 0)
        (gt, ':lvar_5', 50)
        (lt, ':lvar_6', 35)
        (assign, ':lvar_1', 1)
      (else_try)
        (lt, ':lvar_7', 80)
        (assign, ':lvar_1', 2)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_1')
battle_tactic_init=>
    (call_script, 186, '$gvar_600', '$gvar_599')
    (try_begin)
      (ge, '$gvar_601', 0)
      (call_script, 186, '$gvar_601', '$gvar_602')
    (try_end)
battle_tactic_init_aux=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (team_get_leader, ':lvar_2', ':lvar_0')
    (try_begin)
      (eq, ':lvar_1', 1)
      (agent_get_position, 1, ':lvar_2')
      (call_script, 182, ':lvar_0', 30)
      (copy_position, 1, 52)
      (call_script, 182, ':lvar_0', 30)
      (copy_position, 1, 52)
      (call_script, 182, ':lvar_0', 30)
      (team_give_order, ':lvar_0', 10, 0)
      (team_set_order_position, ':lvar_0', 10, 52)
      (team_give_order, ':lvar_0', 1, 5)
      (team_give_order, ':lvar_0', 1, 5)
    (else_try)
      (eq, ':lvar_1', 2)
      (team_get_leader, ':lvar_2', ':lvar_0')
      (agent_set_speed_limit, ':lvar_2', 8)
      (agent_get_position, 60, ':lvar_2')
      (team_give_order, ':lvar_0', 10, 0)
      (team_set_order_position, ':lvar_0', 10, 60)
    (try_end)
battle_tactic_apply=>
    (call_script, 188, '$gvar_600', '$gvar_599')
    (assign, '$gvar_599', reg0)
    (try_begin)
      (ge, '$gvar_601', 0)
      (call_script, 188, '$gvar_601', '$gvar_602')
      (assign, '$gvar_602', reg0)
    (try_end)
battle_tactic_apply_aux=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_mission_timer_a, ':lvar_2')
    (try_begin)
      (eq, ':lvar_1', 1)
      (copy_position, 1, 52)
      (call_script, 190, ':lvar_0', 1)
      (assign, ':lvar_3', reg0)
      (assign, ':lvar_4', reg1)
      (try_begin)
        (this_or_next|lt, ':lvar_4', 1000)
        (lt, ':lvar_3', 4000)
        (assign, ':lvar_1', 0)
        (team_give_order, ':lvar_0', 10, 2)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 2)
      (team_get_leader, ':lvar_5', ':lvar_0')
      (agent_set_speed_limit, ':lvar_5', 9)
      (call_script, 191, ':lvar_0')
      (copy_position, 60, 0)
      (agent_get_position, 61, ':lvar_5')
      (position_transform_position_to_local, 62, 61, 60)
      (position_normalize_origin, ':lvar_6', 62)
      (convert_from_fixed_point, ':lvar_6')
      (assign, reg17, ':lvar_6')
      (position_get_x, ':lvar_7', 62)
      (position_get_y, ':lvar_8', 62)
      (val_mul, ':lvar_7', 23)
      (val_mul, ':lvar_8', 23)
      (position_set_x, 62, ':lvar_7')
      (position_set_y, 62, ':lvar_8')
      (position_transform_position_to_parent, 63, 61, 62)
      (position_set_z_to_ground_level, 63)
      (team_give_order, ':lvar_0', 10, 0)
      (team_set_order_position, ':lvar_0', 10, 63)
      (agent_get_position, 1, ':lvar_5')
      (try_begin)
        (lt, ':lvar_6', 50)
        (ge, ':lvar_2', 30)
        (assign, ':lvar_1', 0)
        (team_give_order, ':lvar_0', 10, 2)
        (agent_set_speed_limit, ':lvar_5', 60)
      (try_end)
    (try_end)
    (try_begin)
      (neq, ':lvar_1', 0)
      (ge, ':lvar_2', 300)
      (assign, ':lvar_1', 0)
      (team_give_order, ':lvar_0', 10, 2)
      (team_get_leader, ':lvar_5', ':lvar_0')
      (agent_set_speed_limit, ':lvar_5', 60)
    (try_end)
    (assign, reg0, ':lvar_1')
team_get_class_percentages=>
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (store_script_param, ':lvar_4', 1)
    (store_script_param, ':lvar_5', 2)
    (try_for_agents, ':lvar_6')
      (agent_is_alive, ':lvar_6')
      (agent_is_human, ':lvar_6')
      (agent_get_team, ':lvar_7', ':lvar_6')
      (assign, ':lvar_8', 0)
      (try_begin)
        (eq, ':lvar_5', 1)
        (teams_are_enemies, ':lvar_7', ':lvar_4')
        (assign, ':lvar_8', 1)
      (else_try)
        (eq, ':lvar_7', ':lvar_4')
        (assign, ':lvar_8', 1)
      (try_end)
      (eq, ':lvar_8', 1)
      (val_add, ':lvar_3', 1)
      (agent_get_class, ':lvar_9', ':lvar_6')
      (try_begin)
        (eq, ':lvar_9', 0)
        (val_add, ':lvar_0', 1)
      (else_try)
        (eq, ':lvar_9', 1)
        (val_add, ':lvar_1', 1)
      (else_try)
        (eq, ':lvar_9', 2)
        (val_add, ':lvar_2', 1)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_3', 0)
      (assign, ':lvar_3', 1)
    (try_end)
    (store_mul, ':lvar_10', ':lvar_0', 100)
    (val_div, ':lvar_10', ':lvar_3')
    (store_mul, ':lvar_11', ':lvar_1', 100)
    (val_div, ':lvar_11', ':lvar_3')
    (store_mul, ':lvar_12', ':lvar_2', 100)
    (val_div, ':lvar_12', ':lvar_3')
    (assign, reg0, ':lvar_10')
    (assign, reg1, ':lvar_11')
    (assign, reg2, ':lvar_12')
get_closest3_distance_of_enemies_at_pos1=>
    (assign, ':lvar_0', 100000)
    (assign, ':lvar_1', 100000)
    (assign, ':lvar_2', 100000)
    (store_script_param, ':lvar_3', 1)
    (try_for_agents, ':lvar_4')
      (agent_is_alive, ':lvar_4')
      (agent_is_human, ':lvar_4')
      (agent_get_team, ':lvar_5', ':lvar_4')
      (teams_are_enemies, ':lvar_5', ':lvar_3')
      (agent_get_position, 2, ':lvar_4')
      (get_distance_between_positions, ':lvar_6', 2, 1)
      (try_begin)
        (lt, ':lvar_6', ':lvar_0')
        (assign, ':lvar_2', ':lvar_1')
        (assign, ':lvar_1', ':lvar_0')
        (assign, ':lvar_0', ':lvar_6')
      (else_try)
        (lt, ':lvar_6', ':lvar_1')
        (assign, ':lvar_2', ':lvar_1')
        (assign, ':lvar_1', ':lvar_6')
      (else_try)
        (lt, ':lvar_6', ':lvar_2')
        (assign, ':lvar_2', ':lvar_6')
      (try_end)
    (try_end)
    (assign, ':lvar_7', 0)
    (assign, ':lvar_8', 0)
    (try_begin)
      (lt, ':lvar_0', 100000)
      (val_add, ':lvar_7', ':lvar_0')
      (val_add, ':lvar_8', 1)
    (try_end)
    (try_begin)
      (lt, ':lvar_1', 100000)
      (val_add, ':lvar_7', ':lvar_1')
      (val_add, ':lvar_8', 1)
    (try_end)
    (try_begin)
      (lt, ':lvar_2', 100000)
      (val_add, ':lvar_7', ':lvar_2')
      (val_add, ':lvar_8', 1)
    (try_end)
    (assign, ':lvar_9', 100000)
    (try_begin)
      (gt, ':lvar_8', 0)
      (store_div, ':lvar_9', ':lvar_7', ':lvar_8')
    (try_end)
    (assign, reg0, ':lvar_9')
    (assign, reg1, ':lvar_0')
    (assign, reg2, ':lvar_1')
    (assign, reg3, ':lvar_2')
team_get_average_position_of_enemies=>
    (store_script_param_1, ':lvar_0')
    (init_position, 0)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (try_for_agents, ':lvar_5')
      (agent_is_alive, ':lvar_5')
      (agent_is_human, ':lvar_5')
      (agent_get_team, ':lvar_6', ':lvar_5')
      (teams_are_enemies, ':lvar_0', ':lvar_6')
      (agent_get_position, 62, ':lvar_5')
      (position_get_x, ':lvar_7', 62)
      (position_get_y, ':lvar_8', 62)
      (position_get_z, ':lvar_9', 62)
      (val_add, ':lvar_2', ':lvar_7')
      (val_add, ':lvar_3', ':lvar_8')
      (val_add, ':lvar_4', ':lvar_9')
      (val_add, ':lvar_1', 1)
    (try_end)
    (store_div, ':lvar_10', ':lvar_2', ':lvar_1')
    (store_div, ':lvar_11', ':lvar_3', ':lvar_1')
    (store_div, ':lvar_12', ':lvar_4', ':lvar_1')
    (position_set_x, 0, ':lvar_10')
    (position_set_y, 0, ':lvar_11')
    (position_set_z, 0, ':lvar_12')
    (assign, reg0, ':lvar_1')
search_troop_prisoner_of_party=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (try_for_parties, ':lvar_2')
      (eq, ':lvar_1', -1)
      (this_or_next|eq, ':lvar_2', 0)
      (ge, ':lvar_2', 46)
      (party_count_prisoners_of_type, ':lvar_3', ':lvar_2', ':lvar_0')
      (gt, ':lvar_3', 0)
      (assign, ':lvar_1', ':lvar_2')
    (try_end)
    (assign, reg0, ':lvar_1')
change_debt_to_troop=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (troop_get_slot, ':lvar_2', ':lvar_0', 21)
    (assign, reg1, ':lvar_2')
    (val_add, ':lvar_2', ':lvar_1')
    (assign, reg2, ':lvar_2')
    (troop_set_slot, ':lvar_0', 21, ':lvar_2')
    (str_store_troop_name_link, 1, ':lvar_0')
    (display_message, '@qstr_283')
abort_quest=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', -2)
    (try_begin)
      (this_or_next|eq, ':lvar_0', 0)
      (eq, ':lvar_0', 1)
      (assign, ':lvar_2', -2)
      (assign, ':lvar_3', -3)
    (else_try)
      (eq, ':lvar_0', 3)
      (quest_get_slot, ':lvar_4', 3, 4)
      (party_remove_members, 0, ':lvar_4', 1)
      (assign, ':lvar_2', -2)
      (assign, ':lvar_3', -3)
    (else_try)
      (eq, ':lvar_0', 2)
      (quest_get_slot, ':lvar_5', ':lvar_0', 6)
      (call_script, 193, ':lvar_5', 100)
      (assign, ':lvar_2', -4)
      (assign, ':lvar_3', -5)
    (else_try)
      (eq, ':lvar_0', 38)
      (try_for_parties, ':lvar_6')
        (party_get_template_id, ':lvar_7', ':lvar_6')
        (eq, ':lvar_7', 6)
        (party_set_flags, ':lvar_6', 262144, 0)
      (try_end)
      (assign, ':lvar_2', -4)
      (assign, ':lvar_3', -5)
    (else_try)
      (eq, ':lvar_0', 4)
      (quest_get_slot, ':lvar_5', ':lvar_0', 6)
      (call_script, 193, ':lvar_5', 200)
      (assign, ':lvar_2', -5)
      (assign, ':lvar_3', -6)
    (else_try)
      (eq, ':lvar_0', 5)
      (quest_get_slot, ':lvar_8', ':lvar_0', 22)
      (quest_set_slot, ':lvar_0', 22, 0)
      (quest_get_slot, ':lvar_5', ':lvar_0', 6)
      (call_script, 193, ':lvar_5', ':lvar_8')
      (assign, ':lvar_2', -4)
      (assign, ':lvar_3', -6)
    (else_try)
      (eq, ':lvar_0', 6)
      (assign, ':lvar_2', -3)
      (assign, ':lvar_3', -4)
    (else_try)
      (eq, ':lvar_0', 13)
    (else_try)
      (eq, ':lvar_0', 14)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -1)
    (else_try)
      (eq, ':lvar_0', 17)
    (else_try)
      (eq, ':lvar_0', 18)
      (try_begin)
        (quest_slot_eq, 18, 11, 1)
        (quest_get_slot, ':lvar_9', 18, 10)
        (quest_get_slot, ':lvar_10', 18, 6)
        (call_script, 193, ':lvar_10', ':lvar_9')
        (assign, ':lvar_2', -3)
        (assign, ':lvar_3', -6)
      (else_try)
        (assign, ':lvar_2', -3)
        (assign, ':lvar_3', -4)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 4)
      (assign, ':lvar_2', -6)
      (assign, ':lvar_3', -6)
    (else_try)
      (eq, ':lvar_0', 20)
      (assign, ':lvar_2', -10)
      (assign, ':lvar_3', -13)
    (else_try)
      (eq, ':lvar_0', 37)
      (assign, ':lvar_2', -10)
      (assign, ':lvar_3', -13)
    (else_try)
      (eq, ':lvar_0', 39)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -1)
    (else_try)
      (eq, ':lvar_0', 15)
      (assign, ':lvar_2', -2)
      (assign, ':lvar_3', -3)
      (try_begin)
        (party_is_active, '$gvar_95')
        (remove_party, '$gvar_95')
      (try_end)
      (try_begin)
        (party_is_active, '$gvar_94')
        (remove_party, '$gvar_94')
      (try_end)
    (else_try)
      (eq, ':lvar_0', 16)
      (assign, ':lvar_2', -3)
      (assign, ':lvar_3', -4)
    (else_try)
      (eq, ':lvar_0', 19)
      (assign, ':lvar_2', -5)
      (assign, ':lvar_3', -6)
    (else_try)
      (eq, ':lvar_0', 23)
    (else_try)
      (eq, ':lvar_0', 29)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -1)
    (else_try)
      (eq, ':lvar_0', 30)
      (assign, ':lvar_2', 0)
      (assign, ':lvar_3', -1)
    (else_try)
      (eq, ':lvar_0', 31)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -1)
    (else_try)
      (eq, ':lvar_0', 24)
      (assign, ':lvar_2', -4)
      (assign, ':lvar_3', -5)
    (else_try)
      (eq, ':lvar_0', 26)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -2)
    (else_try)
      (eq, ':lvar_0', 27)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -2)
    (else_try)
      (eq, ':lvar_0', 28)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -2)
    (else_try)
      (eq, ':lvar_0', 40)
      (assign, ':lvar_2', -6)
      (assign, ':lvar_3', -7)
    (else_try)
      (eq, ':lvar_0', 41)
      (assign, ':lvar_2', -3)
      (assign, ':lvar_3', -4)
    (else_try)
      (eq, ':lvar_0', 42)
      (assign, ':lvar_2', -4)
      (assign, ':lvar_3', -5)
    (else_try)
      (eq, ':lvar_0', 34)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -3)
      (val_add, '$gvar_11', '$gvar_588')
    (else_try)
      (eq, ':lvar_0', 32)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -3)
    (else_try)
      (eq, ':lvar_0', 33)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -3)
    (else_try)
      (eq, ':lvar_0', 35)
      (assign, ':lvar_2', -1)
      (assign, ':lvar_3', -2)
    (else_try)
      (eq, ':lvar_0', 44)
      (assign, ':lvar_2', -3)
      (assign, ':lvar_3', -3)
      (try_begin)
        (call_script, 113, 0)
        (gt, reg0, 0)
        (call_script, 154, '$gvar_82', -10)
      (try_end)
      (assign, '$gvar_82', 0)
      (assign, '$gvar_83', 0)
      (assign, '$gvar_57', 0)
    (else_try)
      (eq, ':lvar_0', 43)
      (assign, ':lvar_2', -3)
      (assign, ':lvar_3', -3)
    (try_end)
    (try_begin)
      (gt, ':lvar_1', 0)
      (quest_get_slot, ':lvar_10', ':lvar_0', 6)
      (assign, ':lvar_11', ':lvar_2')
      (try_begin)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_11', ':lvar_3')
      (try_end)
      (try_begin)
        (this_or_next|is_between, ':lvar_10', 790, 880)
        (is_between, ':lvar_10', 763, 790)
        (quest_get_slot, ':lvar_12', ':lvar_0', 12)
        (call_script, 153, ':lvar_12', ':lvar_11')
      (else_try)
        (call_script, 152, ':lvar_10', ':lvar_11')
      (try_end)
    (try_end)
    (fail_quest, ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 0)
      (call_script, 313, 4, 216172782113784194)
    (try_end)
    (call_script, 265, ':lvar_0')
cf_is_quest_troop=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 0, 46)
      (check_quest_active, ':lvar_2')
      (quest_get_slot, ':lvar_3', ':lvar_2', 2)
      (quest_get_slot, ':lvar_4', ':lvar_2', 4)
      (quest_get_slot, ':lvar_5', ':lvar_2', 6)
      (this_or_next|eq, ':lvar_3', ':lvar_0')
      (this_or_next|eq, ':lvar_4', ':lvar_0')
      (eq, ':lvar_5', ':lvar_0')
      (assign, ':lvar_1', 1)
    (try_end)
    (eq, ':lvar_1', 1)
check_friendly_kills=>
    (get_player_agent_own_troop_kill_count, ':lvar_0')
    (try_begin)
      (neq, '$gvar_603', ':lvar_0')
      (val_sub, ':lvar_0', '$gvar_603')
      (val_add, '$gvar_603', ':lvar_0')
      (val_mul, ':lvar_0', -1)
      (call_script, 160, ':lvar_0')
    (try_end)
simulate_retreat=>
    (call_script, 359, 32768)
    (set_show_messages, 0)
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 1)
    (try_begin)
      (try_for_agents, ':lvar_5')
        (agent_is_human, ':lvar_5')
        (agent_is_alive, ':lvar_5')
        (agent_set_slot, ':lvar_5', 3, 1)
        (agent_get_troop_id, ':lvar_6', ':lvar_5')
        (store_character_level, ':lvar_7', ':lvar_6')
        (val_add, ':lvar_7', 5)
        (try_begin)
          (troop_is_hero, ':lvar_6')
          (val_add, ':lvar_7', 5)
        (try_end)
        (try_begin)
          (agent_is_ally, ':lvar_5')
          (val_add, ':lvar_2', ':lvar_7')
        (else_try)
          (val_add, ':lvar_3', ':lvar_7')
        (try_end)
      (try_end)
      (eq, '$gvar_317', 0)
      (lt, ':lvar_3', ':lvar_2')
      (assign, ':lvar_4', 0)
    (try_end)
    (try_begin)
      (eq, ':lvar_4', 1)
      (assign, '$gvar_604', 0)
      (party_clear, 1)
      (party_clear, 3)
      (call_script, 198, 0, ':lvar_0')
      (call_script, 198, 1, ':lvar_1')
      (assign, ':lvar_8', 0)
      (try_begin)
        (gt, '$gvar_604', 0)
        (assign, ':lvar_8', 1)
        (assign, reg1, '$gvar_604')
        (str_store_string, 12, 216172782113784171)
      (else_try)
        (str_clear, 12)
      (try_end)
      (call_script, 60, 1, 1)
      (try_begin)
        (party_get_num_companion_stacks, ':lvar_9', 1)
        (gt, ':lvar_9', 0)
        (assign, ':lvar_8', 1)
      (try_end)
      (str_store_string_reg, 10, 0)
      (call_script, 60, 3, 1)
      (try_begin)
        (party_get_num_companion_stacks, ':lvar_9', 3)
        (gt, ':lvar_9', 0)
        (assign, ':lvar_8', 1)
      (try_end)
      (str_store_string_reg, 11, 0)
      (try_begin)
        (eq, ':lvar_8', 1)
        (dialog_box, 216172782113784170, 5)
      (try_end)
    (try_end)
    (set_show_messages, 1)
    (assign, ':lvar_10', 0)
    (assign, ':lvar_11', 0)
    (assign, ':lvar_12', 0)
    (try_for_agents, ':lvar_5')
      (agent_is_human, ':lvar_5')
      (try_begin)
        (agent_is_ally, ':lvar_5')
        (val_add, ':lvar_12', 1)
        (try_begin)
          (neg|agent_is_alive, ':lvar_5')
          (val_add, ':lvar_10', 1)
        (try_end)
      (else_try)
        (neg|agent_is_alive, ':lvar_5')
        (val_add, ':lvar_11', 1)
      (try_end)
    (try_end)
    (store_add, ':lvar_13', ':lvar_10', ':lvar_11')
    (try_begin)
      (gt, ':lvar_13', 0)
      (store_mul, ':lvar_14', ':lvar_10', 100)
      (val_div, ':lvar_14', ':lvar_13')
      (val_mul, ':lvar_14', ':lvar_10')
      (val_div, ':lvar_14', ':lvar_12')
      (val_mul, ':lvar_14', -30)
      (val_div, ':lvar_14', 100)
      (call_script, 160, ':lvar_14')
    (try_end)
simulate_battle_with_agents_aux=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (get_player_agent_no, ':lvar_2')
    (try_for_agents, ':lvar_3')
      (neq, ':lvar_2', ':lvar_3')
      (agent_is_human, ':lvar_3')
      (agent_slot_eq, ':lvar_3', 3, 1)
      (try_begin)
        (agent_is_ally, ':lvar_3')
        (assign, ':lvar_4', 0)
      (else_try)
        (assign, ':lvar_4', 1)
      (try_end)
      (eq, ':lvar_4', ':lvar_0')
      (agent_get_position, 2, ':lvar_3')
      (assign, ':lvar_5', -1)
      (assign, ':lvar_6', 100000)
      (try_for_agents, ':lvar_7')
        (agent_is_human, ':lvar_7')
        (agent_is_alive, ':lvar_7')
        (try_begin)
          (agent_is_ally, ':lvar_7')
          (assign, ':lvar_8', 0)
        (else_try)
          (assign, ':lvar_8', 1)
        (try_end)
        (this_or_next|neq, ':lvar_7', ':lvar_2')
        (eq, '$gvar_317', 0)
        (neq, ':lvar_0', ':lvar_8')
        (agent_get_position, 3, ':lvar_7')
        (get_distance_between_positions, ':lvar_9', 2, 3)
        (lt, ':lvar_9', ':lvar_6')
        (assign, ':lvar_6', ':lvar_9')
        (assign, ':lvar_5', ':lvar_7')
      (try_end)
      (ge, ':lvar_5', 0)
      (agent_get_class, ':lvar_10', ':lvar_3')
      (assign, ':lvar_11', 1)
      (assign, ':lvar_12', 0)
      (try_begin)
        (eq, ':lvar_10', 1)
        (assign, ':lvar_12', 2)
      (else_try)
        (eq, ':lvar_10', 2)
        (assign, ':lvar_11', 2)
      (try_end)
      (agent_get_class, ':lvar_10', ':lvar_5')
      (assign, ':lvar_13', 1)
      (try_begin)
        (eq, ':lvar_10', 2)
        (assign, ':lvar_13', 2)
      (try_end)
      (assign, ':lvar_14', 18000)
      (val_add, ':lvar_6', 3000)
      (val_div, ':lvar_14', ':lvar_6')
      (val_mul, ':lvar_14', 2)
      (val_mul, ':lvar_14', ':lvar_11')
      (val_div, ':lvar_14', ':lvar_13')
      (val_add, ':lvar_14', ':lvar_12')
      (assign, ':lvar_15', ':lvar_1')
      (agent_get_troop_id, ':lvar_16', ':lvar_5')
      (agent_get_troop_id, ':lvar_17', ':lvar_3')
      (store_character_level, ':lvar_18', ':lvar_16')
      (store_character_level, ':lvar_19', ':lvar_17')
      (store_sub, ':lvar_20', ':lvar_19', ':lvar_18')
      (val_div, ':lvar_20', 5)
      (val_add, ':lvar_15', ':lvar_20')
      (try_begin)
        (eq, ':lvar_5', ':lvar_2')
        (val_div, ':lvar_15', 2)
        (store_agent_hit_points, ':lvar_21', ':lvar_2', 1)
      (try_end)
      (try_for_range, ':lvar_22', 0, ':lvar_14')
        (store_random_in_range, ':lvar_23', 0, 100)
        (lt, ':lvar_23', ':lvar_15')
        (agent_deliver_damage_to_agent, ':lvar_3', ':lvar_5')
      (try_end)
      (try_begin)
        (eq, ':lvar_5', ':lvar_2')
        (store_agent_hit_points, ':lvar_24', ':lvar_2', 1)
        (store_sub, ':lvar_25', ':lvar_21', ':lvar_24')
        (val_add, '$gvar_604', ':lvar_25')
      (try_end)
      (neg|agent_is_alive, ':lvar_5')
      (try_begin)
        (eq, ':lvar_0', 1)
        (party_add_members, 1, ':lvar_16', 1)
        (try_begin)
          (agent_is_wounded, ':lvar_5')
          (party_wound_members, 1, ':lvar_16', 1)
        (try_end)
      (else_try)
        (party_add_members, 3, ':lvar_16', 1)
        (try_begin)
          (agent_is_wounded, ':lvar_5')
          (party_wound_members, 3, ':lvar_16', 1)
        (try_end)
      (try_end)
    (try_end)
map_get_random_position_around_position_within_range=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (val_mul, ':lvar_0', 100)
    (assign, ':lvar_2', 1)
    (try_for_range, ':lvar_3', 0, 20)
      (eq, ':lvar_2', 1)
      (map_get_random_position_around_position, 2, 1, ':lvar_1')
      (get_distance_between_positions, ':lvar_4', 2, 1)
      (ge, ':lvar_4', ':lvar_0')
      (assign, ':lvar_2', 0)
    (try_end)
get_number_of_unclaimed_centers_by_player=>
    (assign, ':lvar_0', 0)
    (assign, reg1, -1)
    (try_for_range, ':lvar_1', 46, 204)
      (store_faction_of_party, ':lvar_2', ':lvar_1')
      (eq, ':lvar_2', 15)
      (party_slot_eq, ':lvar_1', 9, 0)
      (party_get_num_companion_stacks, ':lvar_3', ':lvar_1')
      (ge, ':lvar_3', 1)
      (assign, reg1, ':lvar_1')
      (val_add, ':lvar_0', 1)
    (try_end)
    (assign, reg0, ':lvar_0')
troop_count_number_of_enemy_troops=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 40, 45)
      (troop_slot_ge, ':lvar_0', ':lvar_2', 1)
      (val_add, ':lvar_1', 1)
    (try_end)
    (assign, reg0, ':lvar_1')
cf_troop_check_troop_is_enemy=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 40, 45)
      (troop_slot_eq, ':lvar_0', ':lvar_3', ':lvar_1')
      (assign, ':lvar_2', 1)
    (try_end)
    (eq, ':lvar_2', 1)
troop_get_leaded_center_with_index=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 204)
      (eq, ':lvar_2', -1)
      (party_slot_eq, ':lvar_4', 7, ':lvar_0')
      (val_add, ':lvar_3', 1)
      (gt, ':lvar_3', ':lvar_1')
      (assign, ':lvar_2', ':lvar_4')
    (try_end)
    (assign, reg0, ':lvar_2')
cf_troop_get_random_leaded_walled_center_with_less_strength_priority=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 114)
      (party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (party_slot_eq, ':lvar_3', 54, -1)
      (val_add, ':lvar_2', 1)
      (try_begin)
        (eq, ':lvar_3', ':lvar_1')
        (val_add, ':lvar_2', 99)
      (try_end)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_4', 0, ':lvar_2')
    (assign, ':lvar_5', -1)
    (try_for_range, ':lvar_3', 46, 114)
      (eq, ':lvar_5', -1)
      (party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (party_slot_eq, ':lvar_3', 54, -1)
      (val_sub, ':lvar_4', 1)
      (try_begin)
        (eq, ':lvar_3', ':lvar_1')
        (val_sub, ':lvar_4', 99)
      (try_end)
      (lt, ':lvar_4', 0)
      (assign, ':lvar_5', ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_5')
cf_troop_get_random_leaded_town_or_minorplanet_except_center=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 46, 204)
      (neg|party_slot_eq, ':lvar_3', 0, 2)
      (party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (neq, ':lvar_3', ':lvar_1')
      (val_add, ':lvar_2', 1)
    (try_end)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_4', 0, ':lvar_2')
    (assign, ':lvar_5', 204)
    (try_for_range, ':lvar_3', 46, ':lvar_5')
      (neg|party_slot_eq, ':lvar_3', 0, 2)
      (party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (neq, ':lvar_3', ':lvar_1')
      (val_sub, ':lvar_4', 1)
      (lt, ':lvar_4', 0)
      (assign, ':lvar_6', ':lvar_3')
      (assign, ':lvar_5', 0)
    (try_end)
    (assign, reg0, ':lvar_6')
troop_write_owned_centers_to_s2=>
    (store_script_param_1, ':lvar_0')
    (call_script, 113, ':lvar_0')
    (assign, ':lvar_1', reg0)
    (str_store_troop_name, 5, ':lvar_0')
    (try_begin)
      (gt, ':lvar_1', 1)
      (try_for_range, ':lvar_2', 1, ':lvar_1')
        (call_script, 203, ':lvar_0', ':lvar_2')
        (str_store_party_name_link, 50, reg0)
        (try_begin)
          (eq, ':lvar_2', 1)
          (call_script, 203, ':lvar_0', 0)
          (str_store_party_name_link, 51, reg0)
          (str_store_string, 51, 216172782113783819)
        (else_try)
          (str_store_string, 51, 216172782113783818)
        (try_end)
      (try_end)
      (str_store_string, 2, 216172782113783990)
    (else_try)
      (eq, ':lvar_1', 1)
      (call_script, 203, ':lvar_0', 0)
      (str_store_party_name_link, 51, reg0)
      (str_store_string, 2, 216172782113783990)
    (else_try)
      (store_troop_faction, ':lvar_3', ':lvar_0')
      (str_store_faction_name_link, 6, ':lvar_3')
      (str_store_string, 2, 216172782113783991)
    (try_end)
troop_write_family_relations_to_s1=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 30, 36)
      (troop_slot_ge, ':lvar_0', ':lvar_2', 1)
      (val_add, ':lvar_1', 1)
    (try_end)
    (troop_get_type, ':lvar_3', ':lvar_0')
    (try_begin)
      (eq, ':lvar_3', 0)
      (str_store_string, 5, 216172782113783986)
    (else_try)
      (str_store_string, 5, 216172782113783987)
    (try_end)
    (try_begin)
      (gt, ':lvar_1', 1)
      (try_for_range, ':lvar_4', 1, ':lvar_1')
        (call_script, 208, ':lvar_0', ':lvar_4')
        (str_store_string_reg, 50, 4)
        (try_begin)
          (eq, ':lvar_4', 1)
          (call_script, 208, ':lvar_0', 0)
          (str_store_string_reg, 51, 4)
          (str_store_string, 51, 216172782113783819)
        (else_try)
          (str_store_string, 51, 216172782113783818)
        (try_end)
      (try_end)
      (str_store_string, 1, 216172782113783989)
    (else_try)
      (eq, ':lvar_1', 1)
      (call_script, 208, ':lvar_0', 0)
      (str_store_string_reg, 51, 4)
      (str_store_string, 1, 216172782113783989)
    (else_try)
      (str_store_string, 1, 216172782113783812)
    (try_end)
write_family_relation_as_s3s_s2_to_s4=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (troop_get_type, ':lvar_2', ':lvar_0')
    (assign, ':lvar_3', 30)
    (try_for_range, ':lvar_4', 30, 36)
      (this_or_next|gt, ':lvar_1', 0)
      (troop_slot_eq, ':lvar_0', ':lvar_3', 0)
      (try_begin)
        (troop_slot_ge, ':lvar_0', ':lvar_3', 1)
        (val_sub, ':lvar_1', 1)
      (try_end)
      (val_add, ':lvar_3', 1)
    (try_end)
    (try_begin)
      (eq, ':lvar_3', 30)
      (try_begin)
        (eq, ':lvar_2', 0)
        (str_store_string, 2, 216172782113783979)
      (else_try)
        (str_store_string, 2, 216172782113783980)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_3', 34)
      (eq, ':lvar_3', 33)
      (try_begin)
        (eq, ':lvar_2', 0)
        (str_store_string, 2, 216172782113783978)
      (else_try)
        (str_store_string, 2, 216172782113783982)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_3', 31)
      (eq, ':lvar_3', 32)
      (try_begin)
        (eq, ':lvar_2', 0)
        (str_store_string, 2, 216172782113783983)
      (else_try)
        (str_store_string, 2, 216172782113783981)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 35)
      (try_begin)
        (eq, ':lvar_2', 0)
        (str_store_string, 2, 216172782113783984)
      (else_try)
        (str_store_string, 2, 216172782113783985)
      (try_end)
    (try_end)
    (troop_get_slot, ':lvar_5', ':lvar_0', ':lvar_3')
    (str_store_troop_name_link, 3, ':lvar_5')
    (str_store_string, 4, 216172782113783988)
complete_family_relations=>
    (try_for_range, ':lvar_0', 405, 530)
      (troop_get_type, ':lvar_1', ':lvar_0')
      (try_begin)
        (troop_get_slot, ':lvar_2', ':lvar_0', 30)
        (gt, ':lvar_2', 0)
        (troop_set_slot, ':lvar_2', 30, ':lvar_0')
        (troop_get_slot, ':lvar_3', ':lvar_0', 33)
        (troop_get_slot, ':lvar_4', ':lvar_0', 34)
        (try_begin)
          (gt, ':lvar_3', 0)
          (troop_set_slot, ':lvar_2', 33, ':lvar_3')
        (try_end)
        (try_begin)
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_2', 34, ':lvar_4')
        (try_end)
        (troop_get_slot, ':lvar_3', ':lvar_2', 33)
        (troop_get_slot, ':lvar_4', ':lvar_2', 34)
        (try_begin)
          (gt, ':lvar_3', 0)
          (troop_set_slot, ':lvar_0', 33, ':lvar_3')
        (try_end)
        (try_begin)
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_0', 34, ':lvar_4')
        (try_end)
      (try_end)
      (try_begin)
        (troop_get_slot, ':lvar_5', ':lvar_0', 35)
        (gt, ':lvar_5', 0)
        (troop_set_slot, ':lvar_5', 35, ':lvar_0')
        (troop_get_slot, ':lvar_6', ':lvar_0', 32)
        (troop_get_slot, ':lvar_7', ':lvar_0', 31)
        (try_begin)
          (gt, ':lvar_6', 0)
          (troop_set_slot, ':lvar_5', 32, ':lvar_6')
        (try_end)
        (try_begin)
          (gt, ':lvar_7', 0)
          (troop_set_slot, ':lvar_5', 31, ':lvar_7')
        (try_end)
        (troop_get_slot, ':lvar_6', ':lvar_5', 32)
        (troop_get_slot, ':lvar_7', ':lvar_5', 31)
        (try_begin)
          (gt, ':lvar_6', 0)
          (troop_set_slot, ':lvar_0', 32, ':lvar_6')
        (try_end)
        (try_begin)
          (gt, ':lvar_7', 0)
          (troop_set_slot, ':lvar_0', 31, ':lvar_7')
        (try_end)
      (try_end)
      (try_begin)
        (troop_get_slot, ':lvar_8', ':lvar_0', 34)
        (gt, ':lvar_8', 0)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_set_slot, ':lvar_8', 31, ':lvar_0')
        (else_try)
          (troop_set_slot, ':lvar_8', 32, ':lvar_0')
        (try_end)
        (troop_get_slot, ':lvar_9', ':lvar_0', 30)
        (troop_get_slot, ':lvar_5', ':lvar_0', 33)
        (try_begin)
          (gt, ':lvar_9', 0)
          (try_begin)
            (eq, ':lvar_1', 1)
            (troop_set_slot, ':lvar_8', 31, ':lvar_9')
          (else_try)
            (troop_set_slot, ':lvar_8', 32, ':lvar_9')
          (try_end)
        (try_end)
        (try_begin)
          (gt, ':lvar_5', 0)
          (troop_set_slot, ':lvar_8', 35, ':lvar_5')
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_get_slot, ':lvar_2', ':lvar_8', 32)
        (else_try)
          (troop_get_slot, ':lvar_2', ':lvar_8', 31)
        (try_end)
        (troop_get_slot, ':lvar_3', ':lvar_8', 35)
        (try_begin)
          (gt, ':lvar_2', 0)
          (troop_set_slot, ':lvar_0', 30, ':lvar_2')
        (try_end)
        (try_begin)
          (gt, ':lvar_3', 0)
          (troop_set_slot, ':lvar_0', 33, ':lvar_3')
        (try_end)
      (try_end)
      (try_begin)
        (troop_get_slot, ':lvar_8', ':lvar_0', 33)
        (gt, ':lvar_8', 0)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_set_slot, ':lvar_8', 31, ':lvar_0')
        (else_try)
          (troop_set_slot, ':lvar_8', 32, ':lvar_0')
        (try_end)
        (troop_get_slot, ':lvar_9', ':lvar_0', 30)
        (troop_get_slot, ':lvar_5', ':lvar_0', 34)
        (try_begin)
          (gt, ':lvar_9', 0)
          (try_begin)
            (eq, ':lvar_1', 1)
            (troop_set_slot, ':lvar_8', 31, ':lvar_9')
          (else_try)
            (troop_set_slot, ':lvar_8', 32, ':lvar_9')
          (try_end)
        (try_end)
        (try_begin)
          (gt, ':lvar_5', 0)
          (troop_set_slot, ':lvar_8', 35, ':lvar_5')
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_get_slot, ':lvar_2', ':lvar_8', 32)
        (else_try)
          (troop_get_slot, ':lvar_2', ':lvar_8', 31)
        (try_end)
        (troop_get_slot, ':lvar_4', ':lvar_8', 35)
        (try_begin)
          (gt, ':lvar_2', 0)
          (troop_set_slot, ':lvar_0', 30, ':lvar_2')
        (try_end)
        (try_begin)
          (gt, ':lvar_4', 0)
          (troop_set_slot, ':lvar_0', 34, ':lvar_4')
        (try_end)
      (try_end)
      (try_begin)
        (troop_get_slot, ':lvar_7', ':lvar_0', 31)
        (gt, ':lvar_7', 0)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_set_slot, ':lvar_7', 34, ':lvar_0')
        (else_try)
          (troop_set_slot, ':lvar_7', 33, ':lvar_0')
        (try_end)
        (troop_get_slot, ':lvar_2', ':lvar_0', 32)
        (troop_get_slot, ':lvar_10', ':lvar_0', 35)
        (try_begin)
          (gt, ':lvar_2', 0)
          (troop_set_slot, ':lvar_7', 30, ':lvar_2')
        (try_end)
        (try_begin)
          (gt, ':lvar_10', 0)
          (try_begin)
            (eq, ':lvar_1', 0)
            (troop_set_slot, ':lvar_7', 33, ':lvar_10')
          (else_try)
            (troop_set_slot, ':lvar_7', 34, ':lvar_10')
          (try_end)
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_get_slot, ':lvar_5', ':lvar_7', 33)
        (else_try)
          (troop_get_slot, ':lvar_5', ':lvar_7', 34)
        (try_end)
        (troop_get_slot, ':lvar_6', ':lvar_7', 30)
        (try_begin)
          (gt, ':lvar_5', 0)
          (troop_set_slot, ':lvar_0', 35, ':lvar_5')
        (try_end)
        (try_begin)
          (gt, ':lvar_6', 0)
          (troop_set_slot, ':lvar_0', 32, ':lvar_6')
        (try_end)
      (try_end)
      (try_begin)
        (troop_get_slot, ':lvar_6', ':lvar_0', 32)
        (gt, ':lvar_6', 0)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_set_slot, ':lvar_6', 34, ':lvar_0')
        (else_try)
          (troop_set_slot, ':lvar_6', 33, ':lvar_0')
        (try_end)
        (troop_get_slot, ':lvar_2', ':lvar_0', 31)
        (troop_get_slot, ':lvar_10', ':lvar_0', 35)
        (try_begin)
          (gt, ':lvar_2', 0)
          (troop_set_slot, ':lvar_6', 30, ':lvar_2')
        (try_end)
        (try_begin)
          (gt, ':lvar_10', 0)
          (try_begin)
            (eq, ':lvar_1', 0)
            (troop_set_slot, ':lvar_6', 33, ':lvar_10')
          (else_try)
            (troop_set_slot, ':lvar_6', 34, ':lvar_10')
          (try_end)
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 0)
          (troop_get_slot, ':lvar_5', ':lvar_6', 33)
        (else_try)
          (troop_get_slot, ':lvar_5', ':lvar_6', 34)
        (try_end)
        (troop_get_slot, ':lvar_7', ':lvar_6', 30)
        (try_begin)
          (gt, ':lvar_5', 0)
          (troop_set_slot, ':lvar_0', 35, ':lvar_5')
        (try_end)
        (try_begin)
          (gt, ':lvar_7', 0)
          (troop_set_slot, ':lvar_0', 31, ':lvar_7')
        (try_end)
      (try_end)
    (try_end)
collect_friendly_parties=>
    (party_collect_attachments_to_party, 0, 17)
    (try_begin)
      (gt, '$gvar_182', 0)
      (party_collect_attachments_to_party, '$gvar_182', 1)
      (assign, '$gvar_35', 1)
      (call_script, 55, 17, 1)
    (try_end)
encounter_calculate_fit=>
    (call_script, 71, 0)
    (call_script, 210)
    (call_script, 71, 17)
    (assign, '$gvar_605', reg0)
    (party_clear, 16)
    (try_begin)
      (gt, '$gvar_182', 0)
      (party_is_active, '$gvar_182')
      (party_collect_attachments_to_party, '$gvar_182', 16)
    (try_end)
    (party_clear, 15)
    (try_begin)
      (party_is_active, '$gvar_181')
      (party_collect_attachments_to_party, '$gvar_181', 15)
    (try_end)
    (call_script, 71, 15)
    (assign, '$gvar_606', reg0)
    (assign, reg11, '$gvar_606')
    (assign, reg10, '$gvar_605')
encounter_init_variables=>
    (assign, '$gvar_200', 0)
    (assign, '$gvar_202', 0)
    (assign, '$gvar_196', 0)
    (assign, '$gvar_155', 0)
    (assign, '$gvar_187', 0)
    (assign, '$gvar_222', 0)
    (assign, '$gvar_198', 0)
    (assign, '$gvar_199', 0)
    (call_script, 211)
    (call_script, 56, 9, 0)
    (call_script, 42, 0, 0)
    (assign, '$gvar_607', reg0)
    (call_script, 56, 10, 15)
    (call_script, 42, 15, 0)
    (assign, '$gvar_608', reg0)
    (assign, '$gvar_250', 100)
    (call_script, 56, 11, 17)
    (call_script, 42, 17, 0)
    (assign, '$gvar_609', reg0)
    (store_mul, '$gvar_250', '$gvar_607', 100)
    (val_div, '$gvar_250', '$gvar_609')
calculate_renown_value=>
    (call_script, 42, 0, 0)
    (assign, ':lvar_0', reg0)
    (call_script, 42, 15, 0)
    (assign, ':lvar_1', reg0)
    (call_script, 42, 17, 0)
    (assign, ':lvar_2', reg0)
    (val_add, ':lvar_2', 1)
    (store_mul, ':lvar_3', ':lvar_1', 100)
    (val_div, ':lvar_3', ':lvar_2')
    (assign, ':lvar_4', ':lvar_1')
    (val_mul, ':lvar_4', ':lvar_3')
    (val_div, ':lvar_4', 100)
    (val_mul, ':lvar_4', ':lvar_0')
    (val_div, ':lvar_4', ':lvar_2')
    (store_div, '$gvar_610', ':lvar_4', 5)
    (val_min, '$gvar_610', 2500)
    (convert_to_fixed_point, '$gvar_610')
    (store_sqrt, '$gvar_610', '$gvar_610')
    (convert_from_fixed_point, '$gvar_610')
    (assign, reg8, '$gvar_610')
    (display_message, '@qstr_284', 16764006)
cf_get_first_agent_with_troop_id=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', -1)
    (try_for_agents, ':lvar_2')
      (eq, ':lvar_1', -1)
      (agent_get_troop_id, ':lvar_3', ':lvar_2')
      (eq, ':lvar_3', ':lvar_0')
      (assign, ':lvar_1', ':lvar_2')
    (try_end)
    (assign, reg0, ':lvar_1')
    (neq, reg0, -1)
cf_team_get_average_position_of_agents_with_type_to_pos1=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', 0)
    (set_fixed_point_multiplier, 100)
    (try_for_agents, ':lvar_6')
      (agent_is_alive, ':lvar_6')
      (agent_is_human, ':lvar_6')
      (agent_get_team, ':lvar_7', ':lvar_6')
      (eq, ':lvar_7', ':lvar_0')
      (agent_get_class, ':lvar_8', ':lvar_6')
      (this_or_next|eq, ':lvar_1', 10)
      (eq, ':lvar_1', ':lvar_8')
      (agent_get_position, 1, ':lvar_6')
      (position_get_x, ':lvar_9', 1)
      (val_add, ':lvar_2', ':lvar_9')
      (position_get_y, ':lvar_10', 1)
      (val_add, ':lvar_3', ':lvar_10')
      (position_get_z, ':lvar_11', 1)
      (val_add, ':lvar_4', ':lvar_11')
      (val_add, ':lvar_5', 1)
    (try_end)
    (gt, ':lvar_5', 1)
    (val_div, ':lvar_2', ':lvar_5')
    (val_div, ':lvar_3', ':lvar_5')
    (val_div, ':lvar_4', ':lvar_5')
    (init_position, 1)
    (position_move_x, 1, ':lvar_2')
    (position_move_y, 1, ':lvar_3')
    (position_move_z, 1, ':lvar_4')
cf_turn_windmill_fans=>
    (store_script_param_1, ':lvar_0')
    (scene_prop_get_instance, ':lvar_1', 755, ':lvar_0')
    (ge, ':lvar_1', 0)
    (prop_instance_get_position, 1, ':lvar_1')
    (position_rotate_y, 1, 10)
    (prop_instance_animate_to_position, ':lvar_1', 1, 100)
    (val_add, ':lvar_0', 1)
    (call_script, 216, ':lvar_0')
cf_move_traffic=>
    (store_script_param_1, ':lvar_0')
    (scene_prop_get_instance, ':lvar_1', 1338, ':lvar_0')
    (ge, ':lvar_1', 0)
    (prop_instance_get_position, 1, ':lvar_1')
    (position_move_y, 1, 10)
    (prop_instance_animate_to_position, ':lvar_1', 1, 100)
    (val_add, ':lvar_0', 1)
    (call_script, 217, ':lvar_0')
print_party_members=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_3', ':lvar_0', ':lvar_2')
      (troop_is_hero, ':lvar_3')
      (try_begin)
        (eq, ':lvar_2', 0)
        (str_store_troop_name, 51, ':lvar_3')
      (try_end)
      (str_store_troop_name, 50, ':lvar_3')
      (try_begin)
        (eq, ':lvar_2', 1)
        (str_store_string, 51, 216172782113783819)
      (else_try)
        (gt, ':lvar_2', 1)
        (str_store_string, 51, 216172782113783818)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 0)
      (str_store_string, 51, 216172782113783814)
    (try_end)
round_value=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (lt, ':lvar_0', 100)
      (neq, ':lvar_0', 0)
      (val_add, ':lvar_0', 5)
      (val_div, ':lvar_0', 10)
      (val_mul, ':lvar_0', 10)
      (try_begin)
        (eq, ':lvar_0', 0)
        (assign, ':lvar_0', 5)
      (try_end)
    (else_try)
      (lt, ':lvar_0', 300)
      (val_add, ':lvar_0', 25)
      (val_div, ':lvar_0', 50)
      (val_mul, ':lvar_0', 50)
    (else_try)
      (val_add, ':lvar_0', 50)
      (val_div, ':lvar_0', 100)
      (val_mul, ':lvar_0', 100)
    (try_end)
    (assign, reg0, ':lvar_0')
change_banners_and_chest=>
    (party_get_slot, ':lvar_0', '$gvar_269', 7)
    (try_begin)
      (ge, ':lvar_0', 0)
      (troop_get_slot, ':lvar_1', ':lvar_0', 13)
      (gt, ':lvar_1', 0)
      (replace_scene_props, 594, ':lvar_1')
    (else_try)
      (replace_scene_props, 594, 2)
    (try_end)
    (try_begin)
      (neq, ':lvar_0', 0)
      (replace_scene_props, 7, 8)
    (try_end)
remove_siege_objects=>
    (replace_scene_props, 733, 732)
    (replace_scene_props, 758, 757)
    (replace_scene_props, 760, 759)
    (replace_scene_props, 843, 2)
    (replace_scene_props, 842, 2)
    (replace_scene_props, 840, 2)
    (replace_scene_props, 845, 2)
    (replace_scene_props, 866, 2)
    (replace_scene_props, 867, 2)
    (replace_scene_props, 847, 2)
    (replace_scene_props, 848, 2)
    (replace_scene_props, 849, 2)
    (replace_scene_props, 850, 2)
    (replace_scene_props, 959, 2)
describe_relation_to_s63=>
    (store_script_param_1, ':lvar_0')
    (store_add, ':lvar_1', ':lvar_0', 100)
    (val_add, ':lvar_1', 5)
    (store_div, ':lvar_2', ':lvar_1', 10)
    (val_clamp, ':lvar_2', 0, 20)
    (store_add, ':lvar_3', 216172782113783992, ':lvar_2')
    (str_store_string, 63, ':lvar_3')
describe_center_relation_to_s3=>
    (store_script_param_1, ':lvar_0')
    (store_add, ':lvar_1', ':lvar_0', 100)
    (val_add, ':lvar_1', 5)
    (store_div, ':lvar_2', ':lvar_1', 10)
    (val_clamp, ':lvar_2', 0, 20)
    (store_add, ':lvar_3', 216172782113784033, ':lvar_2')
    (str_store_string, 3, ':lvar_3')
center_ambiance_sounds=>
    (assign, ':lvar_0', -1)
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', -1)
    (assign, ':lvar_4', -1)
    (try_begin)
      (party_slot_eq, '$gvar_269', 0, 4)
      (try_begin)
        (neg|is_currently_night)
        (assign, ':lvar_2', 166)
        (assign, ':lvar_2', 170)
      (else_try)
        (assign, ':lvar_0', 166)
        (assign, ':lvar_1', 169)
      (try_end)
    (else_try)
      (party_slot_eq, '$gvar_269', 0, 3)
      (try_begin)
        (neg|is_currently_night)
        (assign, ':lvar_0', 171)
        (assign, ':lvar_1', 172)
        (assign, ':lvar_2', 166)
      (else_try)
        (assign, ':lvar_0', 166)
      (try_end)
    (try_end)
    (try_begin)
      (store_random_in_range, ':lvar_5', 0, 7)
      (try_begin)
        (eq, ':lvar_5', 1)
        (ge, ':lvar_0', 0)
        (play_sound, ':lvar_0')
      (else_try)
        (eq, ':lvar_5', 2)
        (ge, ':lvar_1', 0)
        (play_sound, ':lvar_1')
      (else_try)
        (eq, ':lvar_5', 3)
        (ge, ':lvar_2', 0)
        (play_sound, ':lvar_2')
      (else_try)
        (eq, ':lvar_5', 4)
        (ge, ':lvar_3', 0)
        (play_sound, ':lvar_3')
      (else_try)
        (eq, ':lvar_5', 5)
        (ge, ':lvar_4', 0)
        (play_sound, ':lvar_4')
      (try_end)
    (try_end)
center_set_walker_to_type=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_add, ':lvar_3', 180, ':lvar_1')
    (party_set_slot, ':lvar_0', ':lvar_3', ':lvar_2')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 4)
      (store_random_in_range, ':lvar_4', 297, 325)
    (else_try)
      (try_begin)
        (eq, ':lvar_0', 53)
        (assign, ':lvar_5', 241)
        (assign, ':lvar_6', 242)
      (else_try)
        (eq, ':lvar_0', 54)
        (assign, ':lvar_5', 240)
        (assign, ':lvar_6', 241)
      (else_try)
        (eq, ':lvar_0', 55)
        (assign, ':lvar_5', 242)
        (assign, ':lvar_6', 244)
      (else_try)
        (eq, ':lvar_0', 57)
        (assign, ':lvar_5', 244)
        (assign, ':lvar_6', 246)
      (else_try)
        (eq, ':lvar_0', 59)
        (assign, ':lvar_5', 215)
        (assign, ':lvar_6', 240)
      (else_try)
        (eq, ':lvar_0', 62)
        (assign, ':lvar_5', 217)
        (assign, ':lvar_6', 221)
      (else_try)
        (eq, ':lvar_0', 66)
        (assign, ':lvar_5', 77)
        (assign, ':lvar_6', 77)
      (else_try)
        (eq, ':lvar_0', 148)
        (assign, ':lvar_5', 245)
        (assign, ':lvar_6', 245)
      (else_try)
        (eq, ':lvar_0', 166)
        (assign, ':lvar_5', 244)
        (assign, ':lvar_6', 244)
      (else_try)
        (eq, ':lvar_0', 171)
        (assign, ':lvar_5', 225)
        (assign, ':lvar_6', 225)
      (else_try)
        (eq, ':lvar_0', 155)
        (assign, ':lvar_5', 235)
        (assign, ':lvar_6', 235)
      (else_try)
        (assign, ':lvar_5', 215)
        (assign, ':lvar_6', 239)
      (try_end)
      (store_faction_of_party, ':lvar_7', ':lvar_0')
      (try_begin)
        (eq, ':lvar_7', 16)
        (store_random_in_range, ':lvar_8', 0, 100)
        (try_begin)
          (le, ':lvar_8', 30)
          (store_random_in_range, ':lvar_4', 246, 254)
        (else_try)
          (store_random_in_range, ':lvar_4', ':lvar_5', ':lvar_6')
        (try_end)
      (else_try)
        (eq, ':lvar_7', 17)
        (store_random_in_range, ':lvar_8', 0, 100)
        (try_begin)
          (le, ':lvar_8', 30)
          (store_random_in_range, ':lvar_4', 254, 263)
        (else_try)
          (store_random_in_range, ':lvar_4', ':lvar_5', ':lvar_6')
        (try_end)
      (else_try)
        (eq, ':lvar_7', 18)
        (store_random_in_range, ':lvar_8', 0, 100)
        (try_begin)
          (le, ':lvar_8', 30)
          (store_random_in_range, ':lvar_4', 263, 267)
        (else_try)
          (store_random_in_range, ':lvar_4', ':lvar_5', ':lvar_6')
        (try_end)
      (else_try)
        (store_random_in_range, ':lvar_4', ':lvar_5', ':lvar_5')
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 3)
      (assign, ':lvar_9', ':lvar_4')
      (val_add, ':lvar_4', 4)
      (try_for_range, ':lvar_10', 1, 180)
        (store_item_kind_count, ':lvar_11', ':lvar_10', ':lvar_9')
        (ge, ':lvar_11', 1)
        (store_item_kind_count, ':lvar_11', ':lvar_10', ':lvar_4')
        (lt, ':lvar_11', 1)
        (troop_add_items, ':lvar_4', ':lvar_10', 1)
      (try_end)
      (store_random_in_range, ':lvar_12', 12, 15)
      (assign, ':lvar_13', 0)
      (try_for_range, ':lvar_10', 1, 180)
        (store_item_kind_count, ':lvar_11', ':lvar_10', ':lvar_4')
        (ge, ':lvar_11', 1)
        (item_get_type, ':lvar_14', ':lvar_10')
        (eq, ':lvar_14', ':lvar_12')
        (val_add, ':lvar_13', 1)
        (troop_remove_items, ':lvar_4', ':lvar_10', ':lvar_11')
      (try_end)
      (store_random_in_range, ':lvar_15', 0, ':lvar_13')
      (assign, ':lvar_13', -1)
      (try_for_range, ':lvar_10', 1, 180)
        (store_item_kind_count, ':lvar_11', ':lvar_10', ':lvar_9')
        (ge, ':lvar_11', 1)
        (item_get_type, ':lvar_14', ':lvar_10')
        (eq, ':lvar_14', ':lvar_12')
        (val_add, ':lvar_13', 1)
        (eq, ':lvar_13', ':lvar_15')
        (troop_add_items, ':lvar_4', ':lvar_10', 1)
        (assign, ':lvar_16', ':lvar_10')
      (try_end)
      (assign, '$gvar_611', ':lvar_16')
      (assign, '$gvar_612', ':lvar_4')
      (troop_equip_items, ':lvar_4')
    (try_end)
    (store_add, ':lvar_17', 160, ':lvar_1')
    (party_set_slot, ':lvar_0', ':lvar_17', ':lvar_4')
    (store_random_in_range, ':lvar_18', 0, 1000000)
    (store_add, ':lvar_19', 170, ':lvar_1')
    (party_set_slot, ':lvar_0', ':lvar_19', ':lvar_18')
cf_center_get_free_walker=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 0, 8)
      (store_add, ':lvar_3', 180, ':lvar_2')
      (party_slot_eq, ':lvar_0', ':lvar_3', 0)
      (val_add, ':lvar_1', 1)
    (try_end)
    (gt, ':lvar_1', 0)
    (assign, reg0, -1)
    (store_random_in_range, ':lvar_4', 0, ':lvar_1')
    (try_for_range, ':lvar_2', 0, 8)
      (store_add, ':lvar_3', 180, ':lvar_2')
      (party_slot_eq, ':lvar_0', ':lvar_3', 0)
      (val_sub, ':lvar_1', 1)
      (eq, ':lvar_1', ':lvar_4')
      (assign, reg0, ':lvar_2')
    (try_end)
center_remove_walker_type_from_walkers=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_for_range, ':lvar_2', 0, 8)
      (store_add, ':lvar_3', 180, ':lvar_2')
      (party_slot_eq, ':lvar_0', ':lvar_3', ':lvar_1')
      (call_script, 225, ':lvar_0', ':lvar_2', 0)
    (try_end)
init_town_walkers=>
    (try_begin)
      (eq, '$gvar_240', 0)
      (try_for_range, ':lvar_0', 0, 8)
        (store_add, ':lvar_1', 160, ':lvar_0')
        (party_get_slot, ':lvar_2', '$gvar_208', ':lvar_1')
        (gt, ':lvar_2', 0)
        (store_add, ':lvar_3', 32, ':lvar_0')
        (set_visitor, ':lvar_3', ':lvar_2')
      (try_end)
    (try_end)
cf_enter_center_location_bandit_check=>
    (neq, '$gvar_240', 0)
    (party_slot_ge, '$gvar_208', 149, 1)
    (eq, '$gvar_232', 0)
    (eq, '$gvar_210', 0)
    (try_begin)
      (party_slot_eq, '$gvar_208', 0, 4)
      (party_get_slot, ':lvar_0', '$gvar_208', 10)
    (else_try)
      (party_get_slot, ':lvar_0', '$gvar_208', 10)
    (try_end)
    (modify_visitors_at_site, ':lvar_0')
    (reset_visitors)
    (party_get_slot, ':lvar_1', '$gvar_208', 149)
    (store_character_level, ':lvar_2', 0)
    (set_jump_mission, 5)
    (try_begin)
      (party_slot_eq, '$gvar_208', 0, 4)
      (assign, ':lvar_3', 2)
      (store_div, ':lvar_4', ':lvar_2', 10)
      (val_add, ':lvar_3', ':lvar_4')
      (try_for_range, ':lvar_5', 0, 3)
        (gt, ':lvar_2', 10)
        (store_random_in_range, ':lvar_6', 0, 100)
        (lt, ':lvar_6', ':lvar_2')
        (val_add, ':lvar_3', 1)
      (try_end)
      (set_visitors, 4, ':lvar_1', ':lvar_3')
      (assign, '$gvar_613', ':lvar_3')
      (set_jump_entry, 2)
    (else_try)
      (assign, ':lvar_3', 1)
      (assign, '$gvar_613', 0)
      (try_begin)
        (gt, ':lvar_2', 15)
        (store_random_in_range, ':lvar_6', 0, 100)
        (lt, ':lvar_6', ':lvar_2')
        (assign, ':lvar_3', 2)
      (try_end)
      (val_add, '$gvar_613', ':lvar_3')
      (set_visitors, 11, ':lvar_1', ':lvar_3')
      (assign, ':lvar_3', 1)
      (try_begin)
        (gt, ':lvar_2', 20)
        (store_random_in_range, ':lvar_6', 0, 100)
        (lt, ':lvar_6', ':lvar_2')
        (assign, ':lvar_3', 2)
      (try_end)
      (set_visitors, 27, ':lvar_1', ':lvar_3')
      (val_add, '$gvar_613', ':lvar_3')
      (try_begin)
        (gt, ':lvar_2', 9)
        (assign, ':lvar_3', 1)
        (try_begin)
          (gt, ':lvar_2', 25)
          (store_random_in_range, ':lvar_6', 0, 100)
          (lt, ':lvar_6', ':lvar_2')
          (assign, ':lvar_3', 2)
        (try_end)
        (set_visitors, 28, ':lvar_1', ':lvar_3')
        (val_add, '$gvar_613', ':lvar_3')
      (try_end)
      (assign, '$gvar_211', 1)
      (assign, '$gvar_207', 1)
    (try_end)
    (display_message, '@qstr_285', 16720418)
    (display_message, '@qstr_286', 16720418)
    (jump_to_scene, ':lvar_0')
    (change_screen_mission)
init_town_agent=>
    (store_script_param, ':lvar_0', 1)
    (agent_get_troop_id, ':lvar_1', ':lvar_0')
    (set_fixed_point_multiplier, 100)
    (assign, ':lvar_2', -1)
    (try_begin)
      (this_or_next|is_between, ':lvar_1', 627, 654)
      (is_between, ':lvar_1', 654, 681)
      (try_begin)
        (troop_get_type, ':lvar_3', ':lvar_1')
        (eq, ':lvar_3', 0)
        (agent_set_animation, ':lvar_0', 297)
      (else_try)
        (agent_set_animation, ':lvar_0', 297)
      (try_end)
    (else_try)
      (is_between, ':lvar_1', 530, 530)
      (assign, ':lvar_2', 298)
    (else_try)
      (is_between, ':lvar_1', 405, 530)
      (assign, ':lvar_2', 299)
    (else_try)
      (is_between, ':lvar_1', 24, 215)
      (assign, ':lvar_2', 297)
    (try_end)
    (try_begin)
      (ge, ':lvar_2', 0)
      (agent_set_stand_animation, ':lvar_0', ':lvar_2')
      (agent_set_animation, ':lvar_0', ':lvar_2')
      (store_random_in_range, ':lvar_4', 0, 100)
      (agent_set_animation_progress, ':lvar_0', ':lvar_4')
    (try_end)
init_town_walker_agents=>
    (assign, ':lvar_0', 0)
    (try_for_agents, ':lvar_1')
      (agent_get_troop_id, ':lvar_2', ':lvar_1')
      (is_between, ':lvar_2', 215, 327)
      (val_add, ':lvar_0', 1)
      (agent_get_position, 1, ':lvar_1')
      (try_for_range, ':lvar_3', 9, 40)
        (entry_point_get_position, 2, ':lvar_3')
        (get_distance_between_positions, ':lvar_4', 1, 2)
        (lt, ':lvar_4', 200)
        (agent_set_slot, ':lvar_1', 0, ':lvar_3')
      (try_end)
      (call_script, 234, ':lvar_1')
    (try_end)
agent_get_town_walker_details=>
    (store_script_param, ':lvar_0', 1)
    (agent_get_entry_no, ':lvar_1', ':lvar_0')
    (store_sub, ':lvar_2', ':lvar_1', 32)
    (store_add, ':lvar_3', 180, ':lvar_2')
    (party_get_slot, ':lvar_4', '$gvar_208', ':lvar_3')
    (store_add, ':lvar_5', 170, ':lvar_2')
    (party_get_slot, ':lvar_6', '$gvar_208', ':lvar_5')
    (assign, reg0, ':lvar_4')
    (assign, reg1, ':lvar_6')
    (assign, reg2, ':lvar_2')
tick_town_walkers=>
    (try_for_agents, ':lvar_0')
      (agent_get_troop_id, ':lvar_1', ':lvar_0')
      (is_between, ':lvar_1', 215, 327)
      (agent_get_slot, ':lvar_2', ':lvar_0', 0)
      (entry_point_get_position, 1, ':lvar_2')
      (try_begin)
        (lt, ':lvar_2', 32)
        (init_position, 2)
        (position_set_y, 2, 250)
        (position_transform_position_to_parent, 1, 1, 2)
      (try_end)
      (agent_get_position, 2, ':lvar_0')
      (get_distance_between_positions, ':lvar_3', 1, 2)
      (lt, ':lvar_3', 400)
      (assign, ':lvar_4', 0)
      (try_begin)
        (lt, ':lvar_2', 32)
        (store_random_in_range, ':lvar_4', 0, 100)
      (try_end)
      (lt, ':lvar_4', 20)
      (call_script, 234, ':lvar_0')
    (try_end)
set_town_walker_destination=>
    (store_script_param_1, ':lvar_0')
    (assign, reg0, 9)
    (assign, reg1, 10)
    (assign, reg2, 12)
    (assign, reg3, 32)
    (assign, reg4, 33)
    (assign, reg5, 34)
    (assign, reg6, 35)
    (assign, reg7, 36)
    (assign, reg8, 37)
    (assign, reg9, 38)
    (assign, reg10, 39)
    (try_for_agents, ':lvar_1')
      (agent_get_troop_id, ':lvar_2', ':lvar_1')
      (is_between, ':lvar_2', 215, 327)
      (agent_get_slot, ':lvar_3', ':lvar_1', 0)
      (try_begin)
        (eq, ':lvar_3', 9)
        (assign, reg0, 0)
      (else_try)
        (eq, ':lvar_3', 10)
        (assign, reg1, 0)
      (else_try)
        (eq, ':lvar_3', 12)
        (assign, reg2, 0)
      (else_try)
        (eq, ':lvar_3', 32)
        (assign, reg3, 0)
      (else_try)
        (eq, ':lvar_3', 33)
        (assign, reg4, 0)
      (else_try)
        (eq, ':lvar_3', 34)
        (assign, reg5, 0)
      (else_try)
        (eq, ':lvar_3', 35)
        (assign, reg6, 0)
      (else_try)
        (eq, ':lvar_3', 36)
        (assign, reg7, 0)
      (else_try)
        (eq, ':lvar_3', 37)
        (assign, reg8, 0)
      (else_try)
        (eq, ':lvar_3', 38)
        (assign, reg9, 0)
      (else_try)
        (eq, ':lvar_3', 39)
        (assign, reg10, 0)
      (try_end)
    (try_end)
    (assign, ':lvar_4', 100)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_5', 0, ':lvar_4')
      (shuffle_range, 0, 11)
      (gt, reg0, 0)
      (assign, ':lvar_3', reg0)
      (assign, ':lvar_4', 0)
    (try_end)
    (try_begin)
      (gt, ':lvar_3', 0)
      (agent_set_slot, ':lvar_0', 0, ':lvar_3')
      (entry_point_get_position, 1, ':lvar_3')
      (try_begin)
        (lt, ':lvar_3', 32)
        (init_position, 2)
        (position_set_y, 2, 250)
        (position_transform_position_to_parent, 1, 1, 2)
      (try_end)
      (agent_set_scripted_destination, ':lvar_0', 1, 0)
      (agent_set_speed_limit, ':lvar_0', 5)
    (try_end)
town_init_doors=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (assign, ':lvar_1', 0)
      (try_begin)
        (eq, ':lvar_0', 1)
        (assign, ':lvar_1', 1)
      (else_try)
        (eq, ':lvar_0', 0)
        (eq, '$gvar_240', 0)
        (assign, ':lvar_1', 1)
      (try_end)
      (eq, ':lvar_1', 1)
      (assign, ':lvar_2', 1)
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (scene_prop_get_instance, ':lvar_4', 874, ':lvar_3')
        (ge, ':lvar_4', 0)
        (val_add, ':lvar_2', 1)
        (prop_instance_get_position, 1, ':lvar_4')
        (position_rotate_z, 1, -100)
        (prop_instance_animate_to_position, ':lvar_4', 1, 1)
      (try_end)
      (assign, ':lvar_2', 1)
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (scene_prop_get_instance, ':lvar_4', 876, ':lvar_3')
        (ge, ':lvar_4', 0)
        (val_add, ':lvar_2', 1)
        (prop_instance_get_position, 1, ':lvar_4')
        (position_rotate_z, 1, -80)
        (prop_instance_animate_to_position, ':lvar_4', 1, 1)
      (try_end)
      (assign, ':lvar_2', 1)
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (scene_prop_get_instance, ':lvar_4', 875, ':lvar_3')
        (ge, ':lvar_4', 0)
        (val_add, ':lvar_2', 1)
        (prop_instance_get_position, 1, ':lvar_4')
        (position_rotate_z, 1, 100)
        (prop_instance_animate_to_position, ':lvar_4', 1, 1)
      (try_end)
      (assign, ':lvar_2', 1)
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (scene_prop_get_instance, ':lvar_4', 877, ':lvar_3')
        (ge, ':lvar_4', 0)
        (val_add, ':lvar_2', 1)
        (prop_instance_get_position, 1, ':lvar_4')
        (position_rotate_z, 1, 80)
        (prop_instance_animate_to_position, ':lvar_4', 1, 1)
      (try_end)
    (try_end)
siege_init_ai_and_belfry=>
    (assign, '$gvar_614', 50)
    (assign, ':lvar_0', 10)
    (store_current_scene, ':lvar_1')
    (try_for_range, ':lvar_2', 0, 3)
      (scene_prop_get_instance, ':lvar_3', 840, ':lvar_2')
      (ge, ':lvar_3', 0)
      (scene_set_slot, ':lvar_1', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_0', 1)
    (try_end)
    (try_for_range, ':lvar_2', 0, 3)
      (scene_prop_get_instance, ':lvar_3', 842, ':lvar_2')
      (ge, ':lvar_3', 0)
      (scene_set_slot, ':lvar_1', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_0', 1)
    (try_end)
    (try_for_range, ':lvar_2', 0, 3)
      (scene_prop_get_instance, ':lvar_3', 843, ':lvar_2')
      (ge, ':lvar_3', 0)
      (scene_set_slot, ':lvar_1', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_0', 1)
    (try_end)
    (assign, '$gvar_615', ':lvar_0')
    (try_for_range, ':lvar_2', 0, 5)
      (scene_prop_get_instance, ':lvar_3', 845, ':lvar_2')
      (ge, ':lvar_3', 0)
      (scene_set_slot, ':lvar_1', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_0', 1)
    (try_end)
    (assign, '$gvar_616', ':lvar_0')
    (scene_prop_get_instance, ':lvar_4', 842, 0)
    (entry_point_get_position, 1, 55)
    (entry_point_get_position, 3, 50)
    (try_for_range, ':lvar_5', 10, '$gvar_616')
      (assign, ':lvar_6', 64)
      (val_add, ':lvar_6', ':lvar_5')
      (val_sub, ':lvar_6', 10)
      (scene_get_slot, ':lvar_7', ':lvar_1', ':lvar_5')
      (prop_instance_get_position, 2, ':lvar_7')
      (try_begin)
        (eq, ':lvar_7', ':lvar_4')
        (position_rotate_x, 2, 90)
      (try_end)
      (position_transform_position_to_local, ':lvar_6', 1, 2)
      (position_transform_position_to_parent, 4, 3, ':lvar_6')
      (prop_instance_animate_to_position, ':lvar_7', 4, 1)
    (try_end)
    (assign, '$gvar_336', 0)
    (assign, '$gvar_617', 0)
    (assign, '$gvar_618', 0)
cf_siege_move_belfry=>
    (neq, '$gvar_616', 10)
    (entry_point_get_position, 1, 50)
    (entry_point_get_position, 4, 55)
    (get_distance_between_positions, ':lvar_0', 4, 1)
    (store_current_scene, ':lvar_1')
    (scene_get_slot, ':lvar_2', ':lvar_1', 10)
    (prop_instance_get_position, 2, ':lvar_2')
    (entry_point_get_position, 1, '$gvar_614')
    (position_transform_position_to_parent, 3, 1, 64)
    (position_transform_position_to_parent, 5, 4, 64)
    (get_distance_between_positions, ':lvar_3', 2, 3)
    (get_distance_between_positions, ':lvar_4', 2, 5)
    (try_begin)
      (le, ':lvar_3', 10)
      (val_add, '$gvar_614', 1)
      (entry_point_get_position, 1, '$gvar_614')
      (position_transform_position_to_parent, 3, 1, 64)
      (get_distance_between_positions, ':lvar_3', 2, 3)
    (try_end)
    (neq, '$gvar_614', 50)
    (assign, ':lvar_5', 20)
    (store_div, ':lvar_6', ':lvar_0', 60)
    (store_sub, ':lvar_7', ':lvar_0', ':lvar_4')
    (try_begin)
      (lt, ':lvar_7', ':lvar_6')
      (store_mul, ':lvar_5', ':lvar_7', -60)
      (val_div, ':lvar_5', ':lvar_6')
      (val_add, ':lvar_5', 80)
    (else_try)
      (lt, ':lvar_4', ':lvar_6')
      (store_mul, ':lvar_5', ':lvar_4', -60)
      (val_div, ':lvar_5', ':lvar_6')
      (val_add, ':lvar_5', 80)
    (try_end)
    (store_mul, ':lvar_8', ':lvar_3', ':lvar_5')
    (try_begin)
      (eq, '$gvar_618', 0)
      (assign, ':lvar_8', 1000000)
    (else_try)
      (val_div, ':lvar_8', '$gvar_618')
    (try_end)
    (try_begin)
      (le, '$gvar_614', 55)
      (init_position, 3)
      (position_rotate_x, 3, ':lvar_7')
      (scene_get_slot, ':lvar_9', ':lvar_1', 10)
      (prop_instance_get_position, 4, ':lvar_9')
      (entry_point_get_position, 1, '$gvar_614')
      (try_for_range, ':lvar_10', 10, '$gvar_616')
        (scene_get_slot, ':lvar_11', ':lvar_1', ':lvar_10')
        (try_begin)
          (ge, ':lvar_10', '$gvar_615')
          (prop_instance_get_starting_position, 5, ':lvar_9')
          (prop_instance_get_starting_position, 6, ':lvar_11')
          (position_transform_position_to_local, 7, 5, 6)
          (position_transform_position_to_parent, 5, 4, 7)
          (position_transform_position_to_parent, 6, 5, 3)
          (prop_instance_set_position, ':lvar_11', 6)
        (else_try)
          (assign, ':lvar_12', 64)
          (val_add, ':lvar_12', ':lvar_10')
          (val_sub, ':lvar_12', 10)
          (position_transform_position_to_parent, 2, 1, ':lvar_12')
          (prop_instance_animate_to_position, ':lvar_11', 2, ':lvar_8')
        (try_end)
      (try_end)
    (try_end)
    (gt, '$gvar_614', 55)
    (assign, '$gvar_336', 1)
cf_siege_rotate_belfry_platform=>
    (eq, '$gvar_336', 1)
    (scene_prop_get_instance, ':lvar_0', 842, 0)
    (prop_instance_get_position, 1, ':lvar_0')
    (position_rotate_x, 1, -90)
    (prop_instance_animate_to_position, ':lvar_0', 1, 400)
    (assign, '$gvar_336', 2)
cf_siege_assign_men_to_belfry=>
    (store_mission_timer_a, ':lvar_0')
    (neq, '$gvar_616', 10)
    (assign, ':lvar_1', 0)
    (try_begin)
      (lt, '$gvar_336', 3)
      (get_player_agent_no, ':lvar_2')
      (store_current_scene, ':lvar_3')
      (scene_get_slot, ':lvar_4', ':lvar_3', 10)
      (prop_instance_get_position, 2, ':lvar_4')
      (assign, ':lvar_5', 0)
      (assign, ':lvar_6', 0)
      (assign, ':lvar_7', 0)
      (assign, ':lvar_8', 0)
      (assign, ':lvar_9', 0)
      (assign, ':lvar_10', 0)
      (assign, '$gvar_617', 0)
      (assign, '$gvar_618', 0)
      (try_for_agents, ':lvar_11')
        (agent_is_alive, ':lvar_11')
        (agent_is_human, ':lvar_11')
        (try_begin)
          (agent_get_slot, ':lvar_12', ':lvar_11', 1)
          (neq, ':lvar_12', 0)
          (agent_get_slot, ':lvar_13', ':lvar_11', 2)
          (try_begin)
            (eq, ':lvar_12', -600)
            (try_begin)
              (eq, ':lvar_13', 0)
              (assign, ':lvar_5', 1)
            (else_try)
              (eq, ':lvar_13', -200)
              (assign, ':lvar_6', 1)
            (else_try)
              (assign, ':lvar_7', 1)
            (try_end)
          (else_try)
            (try_begin)
              (eq, ':lvar_13', 0)
              (assign, ':lvar_8', 1)
            (else_try)
              (eq, ':lvar_13', -200)
              (assign, ':lvar_9', 1)
            (else_try)
              (assign, ':lvar_10', 1)
            (try_end)
          (try_end)
          (val_add, '$gvar_617', 1)
          (init_position, 1)
          (position_move_x, 1, ':lvar_12')
          (position_move_y, 1, ':lvar_13')
          (init_position, 3)
          (position_move_x, 3, ':lvar_12')
          (position_move_y, 3, -1000)
          (position_transform_position_to_parent, 4, 2, 1)
          (position_transform_position_to_parent, 5, 2, 3)
          (agent_get_position, 6, ':lvar_11')
          (get_distance_between_positions, ':lvar_14', 6, 4)
          (get_distance_between_positions, ':lvar_15', 6, 5)
          (try_begin)
            (this_or_next|lt, ':lvar_14', ':lvar_15')
            (lt, ':lvar_15', 600)
            (agent_set_scripted_destination, ':lvar_11', 4, 1)
          (else_try)
            (agent_set_scripted_destination, ':lvar_11', 5, 1)
          (try_end)
          (try_begin)
            (le, ':lvar_14', 300)
            (val_add, '$gvar_618', 1)
          (try_end)
        (else_try)
          (agent_get_team, ':lvar_16', ':lvar_11')
          (this_or_next|eq, '$gvar_333', ':lvar_16')
          (eq, '$gvar_335', ':lvar_16')
          (try_begin)
            (gt, ':lvar_0', 20)
            (agent_get_position, 1, ':lvar_11')
            (agent_set_scripted_destination, ':lvar_11', 1, 0)
          (else_try)
            (try_begin)
              (team_get_movement_order, ':lvar_17', '$gvar_333', 0)
              (team_get_movement_order, ':lvar_18', '$gvar_333', 2)
              (team_get_movement_order, ':lvar_19', '$gvar_333', 1)
              (this_or_next|neq, ':lvar_17', 11)
              (this_or_next|neq, ':lvar_18', 11)
              (neq, ':lvar_19', 11)
              (set_show_messages, 0)
              (team_give_order, '$gvar_333', 10, 11)
              (set_show_messages, 1)
            (try_end)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (lt, '$gvar_617', 6)
        (try_for_agents, ':lvar_11')
          (agent_is_alive, ':lvar_11')
          (agent_get_team, ':lvar_16', ':lvar_11')
          (this_or_next|eq, '$gvar_333', ':lvar_16')
          (eq, '$gvar_335', ':lvar_16')
          (neq, ':lvar_2', ':lvar_11')
          (agent_get_class, ':lvar_20', ':lvar_11')
          (this_or_next|eq, ':lvar_20', 0)
          (eq, ':lvar_20', 2)
          (agent_get_slot, ':lvar_12', ':lvar_11', 1)
          (eq, ':lvar_12', 0)
          (assign, ':lvar_13', 0)
          (try_begin)
            (eq, ':lvar_5', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', 0)
            (val_add, ':lvar_5', 1)
          (else_try)
            (eq, ':lvar_6', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', -200)
            (val_add, ':lvar_6', 1)
          (else_try)
            (eq, ':lvar_7', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', -400)
            (val_add, ':lvar_7', 1)
          (else_try)
            (eq, ':lvar_8', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', 0)
            (val_add, ':lvar_8', 1)
          (else_try)
            (eq, ':lvar_9', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', -200)
            (val_add, ':lvar_9', 1)
          (else_try)
            (eq, ':lvar_10', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', -400)
            (val_add, ':lvar_10', 1)
          (try_end)
          (val_add, '$gvar_617', 1)
          (agent_set_slot, ':lvar_11', 1, ':lvar_12')
          (agent_set_slot, ':lvar_11', 2, ':lvar_13')
        (try_end)
      (try_end)
      (try_begin)
        (store_mission_timer_a, ':lvar_21')
        (gt, ':lvar_21', 20)
        (lt, '$gvar_617', 6)
        (try_for_agents, ':lvar_11')
          (agent_is_alive, ':lvar_11')
          (agent_get_team, ':lvar_16', ':lvar_11')
          (this_or_next|eq, '$gvar_333', ':lvar_16')
          (eq, '$gvar_335', ':lvar_16')
          (neq, ':lvar_2', ':lvar_11')
          (agent_get_slot, ':lvar_12', ':lvar_11', 1)
          (eq, ':lvar_12', 0)
          (assign, ':lvar_13', 0)
          (try_begin)
            (eq, ':lvar_5', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', 0)
            (val_add, ':lvar_5', 1)
          (else_try)
            (eq, ':lvar_6', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', -200)
            (val_add, ':lvar_6', 1)
          (else_try)
            (eq, ':lvar_7', 0)
            (assign, ':lvar_12', -600)
            (assign, ':lvar_13', -400)
            (val_add, ':lvar_7', 1)
          (else_try)
            (eq, ':lvar_8', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', 0)
            (val_add, ':lvar_8', 1)
          (else_try)
            (eq, ':lvar_9', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', -200)
            (val_add, ':lvar_9', 1)
          (else_try)
            (eq, ':lvar_10', 0)
            (assign, ':lvar_12', 600)
            (assign, ':lvar_13', -400)
            (val_add, ':lvar_10', 1)
          (try_end)
          (val_add, '$gvar_617', 1)
          (agent_set_slot, ':lvar_11', 1, ':lvar_12')
          (agent_set_slot, ':lvar_11', 2, ':lvar_13')
        (try_end)
      (try_end)
    (else_try)
      (assign, ':lvar_1', 1)
      (try_for_agents, ':lvar_11')
        (agent_clear_scripted_mode, ':lvar_11')
      (try_end)
      (set_show_messages, 0)
      (team_give_order, '$gvar_333', 10, 2)
      (set_show_messages, 1)
    (try_end)
    (eq, ':lvar_1', 1)
siege_move_archers_to_archer_positions=>
    (try_for_agents, ':lvar_0')
      (agent_is_alive, ':lvar_0')
      (agent_slot_eq, ':lvar_0', 5, 0)
      (agent_is_defender, ':lvar_0')
      (agent_get_class, ':lvar_1', ':lvar_0')
      (agent_get_troop_id, ':lvar_2', ':lvar_0')
      (eq, ':lvar_1', 1)
      (try_begin)
        (agent_slot_eq, ':lvar_0', 11, 0)
        (store_random_in_range, ':lvar_3', 40, 44)
        (agent_set_slot, ':lvar_0', 11, ':lvar_3')
      (try_end)
      (try_begin)
        (agent_get_position, 0, ':lvar_0')
        (entry_point_get_position, 1, ':lvar_3')
        (get_distance_between_positions, ':lvar_4', 0, 1)
        (lt, ':lvar_4', 300)
        (agent_clear_scripted_mode, ':lvar_0')
        (agent_set_slot, ':lvar_0', 4, 0)
        (agent_set_slot, ':lvar_0', 5, 1)
        (str_store_troop_name, 1, ':lvar_2')
        (assign, reg0, ':lvar_0')
      (else_try)
        (agent_get_simple_behavior, ':lvar_5', ':lvar_0')
        (agent_get_combat_state, ':lvar_6', ':lvar_0')
        (this_or_next|eq, ':lvar_5', 5)
        (eq, ':lvar_5', 1)
        (eq, ':lvar_6', 7)
        (try_begin)
          (agent_slot_eq, ':lvar_0', 4, 0)
          (agent_set_scripted_destination, ':lvar_0', 1, 0)
          (agent_set_slot, ':lvar_0', 4, 1)
          (str_store_troop_name, 1, ':lvar_2')
          (assign, reg0, ':lvar_0')
        (try_end)
      (else_try)
        (try_begin)
          (agent_slot_eq, ':lvar_0', 4, 1)
          (agent_clear_scripted_mode, ':lvar_0')
          (agent_set_slot, ':lvar_0', 4, 0)
          (str_store_troop_name, 1, ':lvar_2')
          (assign, reg0, ':lvar_0')
        (try_end)
      (try_end)
    (try_end)
store_movement_order_name_to_s1=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (team_get_movement_order, ':lvar_2', ':lvar_0', ':lvar_1')
    (try_begin)
      (eq, ':lvar_2', 0)
      (str_store_string, 1, '@qstr_287')
    (else_try)
      (eq, ':lvar_2', 1)
      (str_store_string, 1, '@qstr_288')
    (else_try)
      (eq, ':lvar_2', 2)
      (str_store_string, 1, '@qstr_289')
    (else_try)
      (eq, ':lvar_2', 5)
      (str_store_string, 1, '@qstr_290')
    (else_try)
      (eq, ':lvar_2', 6)
      (str_store_string, 1, '@qstr_291')
    (else_try)
      (eq, ':lvar_2', 7)
      (str_store_string, 1, '@qstr_292')
    (else_try)
      (eq, ':lvar_2', 8)
      (str_store_string, 1, '@qstr_293')
    (else_try)
      (eq, ':lvar_2', 11)
      (str_store_string, 1, '@qstr_294')
    (else_try)
      (str_store_string, 1, '@qstr_295')
    (try_end)
store_riding_order_name_to_s1=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (team_get_riding_order, ':lvar_2', ':lvar_0', ':lvar_1')
    (try_begin)
      (eq, ':lvar_2', 0)
      (str_store_string, 1, '@qstr_296')
    (else_try)
      (eq, ':lvar_2', 1)
      (str_store_string, 1, '@qstr_20')
    (else_try)
      (eq, ':lvar_2', 2)
      (str_store_string, 1, '@qstr_30')
    (else_try)
      (str_store_string, 1, '@qstr_295')
    (try_end)
store_weapon_usage_order_name_to_s1=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (team_get_weapon_usage_order, ':lvar_2', ':lvar_0', ':lvar_1')
    (team_get_hold_fire_order, ':lvar_3', ':lvar_0', ':lvar_1')
    (try_begin)
      (eq, ':lvar_2', 0)
      (eq, ':lvar_3', 0)
      (str_store_string, 1, '@qstr_297')
    (else_try)
      (eq, ':lvar_2', 1)
      (eq, ':lvar_3', 0)
      (str_store_string, 1, '@qstr_298')
    (else_try)
      (eq, ':lvar_2', 0)
      (eq, ':lvar_3', 1)
      (str_store_string, 1, 216172782113783865)
    (else_try)
      (eq, ':lvar_2', 1)
      (eq, ':lvar_3', 1)
      (str_store_string, 1, 216172782113783866)
    (else_try)
      (str_store_string, 1, '@qstr_295')
    (try_end)
team_give_order_from_order_panel=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (agent_get_team, ':lvar_2', ':lvar_0')
    (set_show_messages, 0)
    (try_begin)
      (eq, '$gvar_482', 1)
      (team_give_order, ':lvar_2', 0, ':lvar_1')
    (try_end)
    (try_begin)
      (eq, '$gvar_483', 1)
      (team_give_order, ':lvar_2', 1, ':lvar_1')
    (try_end)
    (try_begin)
      (eq, '$gvar_484', 1)
      (team_give_order, ':lvar_2', 2, ':lvar_1')
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 0)
      (agent_get_position, 1, ':lvar_0')
      (try_begin)
        (eq, '$gvar_482', 1)
        (team_set_order_position, ':lvar_2', 0, 1)
      (try_end)
      (try_begin)
        (eq, '$gvar_483', 1)
        (team_set_order_position, ':lvar_2', 1, 1)
      (try_end)
      (try_begin)
        (eq, '$gvar_484', 1)
        (team_set_order_position, ':lvar_2', 2, 1)
      (try_end)
    (try_end)
    (set_show_messages, 1)
update_order_panel=>
    (store_script_param_1, ':lvar_0')
    (set_fixed_point_multiplier, 1000)
    (assign, ':lvar_1', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_0', 0)
      (assign, ':lvar_1', 1)
    (try_end)
    (assign, ':lvar_2', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_0', 1)
      (assign, ':lvar_2', 1)
    (try_end)
    (assign, ':lvar_3', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_0', 2)
      (assign, ':lvar_3', 1)
    (try_end)
    (call_script, 241, ':lvar_0', 0)
    (overlay_set_text, '$gvar_485', 1)
    (call_script, 242, ':lvar_0', 0)
    (overlay_set_text, '$gvar_486', 1)
    (call_script, 243, ':lvar_0', 0)
    (overlay_set_text, '$gvar_487', 1)
    (call_script, 241, ':lvar_0', 1)
    (overlay_set_text, '$gvar_488', 1)
    (call_script, 242, ':lvar_0', 1)
    (overlay_set_text, '$gvar_489', 1)
    (call_script, 243, ':lvar_0', 1)
    (overlay_set_text, '$gvar_490', 1)
    (call_script, 241, ':lvar_0', 2)
    (overlay_set_text, '$gvar_491', 1)
    (call_script, 242, ':lvar_0', 2)
    (overlay_set_text, '$gvar_492', 1)
    (call_script, 243, ':lvar_0', 2)
    (overlay_set_text, '$gvar_493', 1)
    (try_begin)
      (eq, ':lvar_1', 1)
      (eq, ':lvar_2', 1)
      (eq, ':lvar_3', 1)
      (team_set_order_listener, ':lvar_0', 10)
    (else_try)
      (eq, ':lvar_1', 1)
      (team_set_order_listener, ':lvar_0', 0)
    (else_try)
      (eq, ':lvar_2', 1)
      (team_set_order_listener, ':lvar_0', 1)
    (else_try)
      (eq, ':lvar_3', 1)
      (team_set_order_listener, ':lvar_0', 2)
    (try_end)
    (position_set_y, 1, 660)
    (position_set_x, 1, 250)
    (overlay_set_position, '$gvar_485', 1)
    (position_set_x, 1, 400)
    (overlay_set_position, '$gvar_486', 1)
    (position_set_x, 1, 550)
    (overlay_set_position, '$gvar_487', 1)
    (position_set_y, 1, 620)
    (position_set_x, 1, 250)
    (overlay_set_position, '$gvar_488', 1)
    (position_set_x, 1, 400)
    (overlay_set_position, '$gvar_489', 1)
    (position_set_x, 1, 550)
    (overlay_set_position, '$gvar_490', 1)
    (position_set_y, 1, 580)
    (position_set_x, 1, 250)
    (overlay_set_position, '$gvar_491', 1)
    (position_set_x, 1, 400)
    (overlay_set_position, '$gvar_492', 1)
    (position_set_x, 1, 550)
    (overlay_set_position, '$gvar_493', 1)
update_agent_position_on_map=>
    (store_script_param_1, ':lvar_0')
    (agent_get_slot, ':lvar_1', ':lvar_0', 10)
    (get_player_agent_no, ':lvar_2')
    (try_begin)
      (le, ':lvar_1', 0)
      (set_fixed_point_multiplier, 1000)
      (try_begin)
        (eq, ':lvar_0', ':lvar_2')
        (create_mesh_overlay, reg1, 81)
        (position_set_x, 1, 500)
        (position_set_y, 1, 500)
        (overlay_set_size, reg1, 1)
      (else_try)
        (create_mesh_overlay, reg1, 80)
        (position_set_x, 1, 200)
        (position_set_y, 1, 200)
        (overlay_set_size, reg1, 1)
      (try_end)
      (overlay_set_alpha, reg1, 136)
      (agent_set_slot, ':lvar_0', 10, reg1)
      (assign, ':lvar_1', reg1)
    (try_end)
    (try_begin)
      (neq, ':lvar_0', ':lvar_2')
      (agent_get_party_id, ':lvar_3', ':lvar_0')
      (try_begin)
        (eq, ':lvar_3', 0)
        (agent_get_class, ':lvar_4', ':lvar_0')
        (try_begin)
          (eq, ':lvar_4', 1)
          (overlay_set_color, ':lvar_1', 3458788)
        (else_try)
          (eq, ':lvar_4', 2)
          (overlay_set_color, ':lvar_1', 5674521)
        (else_try)
          (overlay_set_color, ':lvar_1', 9261600)
        (try_end)
      (else_try)
        (agent_is_ally, ':lvar_0')
        (agent_get_troop_id, ':lvar_5', ':lvar_0')
        (try_begin)
          (eq, ':lvar_5', 0)
          (agent_get_class, ':lvar_4', ':lvar_0')
          (try_begin)
            (eq, ':lvar_4', 1)
            (overlay_set_color, ':lvar_1', 3458788)
          (else_try)
            (eq, ':lvar_4', 2)
            (overlay_set_color, ':lvar_1', 5674521)
          (else_try)
            (overlay_set_color, ':lvar_1', 9261600)
          (try_end)
        (else_try)
          (overlay_set_color, ':lvar_1', 5592575)
        (try_end)
      (else_try)
        (overlay_set_color, ':lvar_1', 16711680)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', ':lvar_2')
      (agent_get_look_position, 1, ':lvar_0')
      (position_get_rotation_around_z, ':lvar_6', 1)
      (init_position, 10)
      (position_rotate_z, 10, ':lvar_6')
      (overlay_set_mesh_rotation, ':lvar_1', 10)
      (call_script, 247)
    (else_try)
      (agent_get_position, 1, ':lvar_0')
      (call_script, 247)
    (try_end)
    (overlay_set_position, ':lvar_1', 0)
convert_3d_pos_to_map_pos=>
    (set_fixed_point_multiplier, 1000)
    (position_transform_position_to_local, 3, 2, 1)
    (position_get_x, ':lvar_0', 3)
    (position_get_y, ':lvar_1', 3)
    (val_div, ':lvar_0', '$gvar_504')
    (val_div, ':lvar_1', '$gvar_504')
    (set_fixed_point_multiplier, 1000)
    (store_sub, ':lvar_2', 980, '$gvar_503')
    (store_sub, ':lvar_3', 730, '$gvar_505')
    (val_add, ':lvar_0', ':lvar_2')
    (val_add, ':lvar_1', ':lvar_3')
    (position_set_x, 0, ':lvar_0')
    (position_set_y, 0, ':lvar_1')
update_order_flags_on_map=>
    (set_fixed_point_multiplier, 1000)
    (get_player_agent_no, ':lvar_0')
    (agent_get_team, ':lvar_1', ':lvar_0')
    (assign, ':lvar_2', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_1', 0)
      (assign, ':lvar_2', 1)
    (try_end)
    (assign, ':lvar_3', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_1', 1)
      (assign, ':lvar_3', 1)
    (try_end)
    (assign, ':lvar_4', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_1', 2)
      (assign, ':lvar_4', 1)
    (try_end)
    (get_scene_boundaries, 2, 3)
    (team_get_movement_order, ':lvar_5', ':lvar_1', 0)
    (try_begin)
      (eq, ':lvar_5', 0)
      (team_get_order_position, 1, ':lvar_1', 0)
      (call_script, 247)
      (overlay_set_alpha, '$gvar_507', 255)
      (overlay_set_position, '$gvar_507', 0)
    (else_try)
      (overlay_set_alpha, '$gvar_507', 0)
    (try_end)
    (team_get_movement_order, ':lvar_5', ':lvar_1', 1)
    (try_begin)
      (eq, ':lvar_5', 0)
      (team_get_order_position, 1, ':lvar_1', 1)
      (call_script, 247)
      (overlay_set_alpha, '$gvar_508', 255)
      (overlay_set_position, '$gvar_508', 0)
    (else_try)
      (overlay_set_alpha, '$gvar_508', 0)
    (try_end)
    (team_get_movement_order, ':lvar_5', ':lvar_1', 2)
    (try_begin)
      (eq, ':lvar_5', 0)
      (team_get_order_position, 1, ':lvar_1', 2)
      (call_script, 247)
      (overlay_set_alpha, '$gvar_509', 255)
      (overlay_set_position, '$gvar_509', 0)
    (else_try)
      (overlay_set_alpha, '$gvar_509', 0)
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (eq, ':lvar_3', 1)
      (eq, ':lvar_4', 1)
      (team_set_order_listener, ':lvar_1', 10)
    (else_try)
      (eq, ':lvar_2', 1)
      (team_set_order_listener, ':lvar_1', 0)
    (else_try)
      (eq, ':lvar_3', 1)
      (team_set_order_listener, ':lvar_1', 1)
    (else_try)
      (eq, ':lvar_4', 1)
      (team_set_order_listener, ':lvar_1', 2)
    (try_end)
update_order_panel_checked_classes=>
    (get_player_agent_no, ':lvar_0')
    (agent_get_team, ':lvar_1', ':lvar_0')
    (try_begin)
      (class_is_listening_order, ':lvar_1', 0)
      (overlay_set_val, '$gvar_442', 1)
      (assign, '$gvar_482', 1)
      (overlay_animate_to_alpha, '$gvar_431', 250, 68)
    (else_try)
      (overlay_set_val, '$gvar_442', 0)
      (assign, '$gvar_482', 0)
      (overlay_animate_to_alpha, '$gvar_431', 250, 0)
    (try_end)
    (try_begin)
      (class_is_listening_order, ':lvar_1', 1)
      (overlay_set_val, '$gvar_443', 1)
      (assign, '$gvar_483', 1)
      (overlay_animate_to_alpha, '$gvar_432', 250, 68)
    (else_try)
      (overlay_set_val, '$gvar_443', 0)
      (assign, '$gvar_483', 0)
      (overlay_animate_to_alpha, '$gvar_432', 250, 0)
    (try_end)
    (try_begin)
      (class_is_listening_order, ':lvar_1', 2)
      (overlay_set_val, '$gvar_452', 1)
      (assign, '$gvar_484', 1)
      (overlay_animate_to_alpha, '$gvar_433', 250, 68)
    (else_try)
      (overlay_set_val, '$gvar_452', 0)
      (assign, '$gvar_484', 0)
      (overlay_animate_to_alpha, '$gvar_433', 250, 0)
    (try_end)
update_order_panel_statistics_and_map=>
    (set_fixed_point_multiplier, 1000)
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', 0)
    (assign, ':lvar_6', 0)
    (assign, ':lvar_7', 0)
    (assign, ':lvar_8', 0)
    (assign, ':lvar_9', 0)
    (assign, ':lvar_10', 0)
    (assign, ':lvar_11', 0)
    (assign, ':lvar_12', 0)
    (assign, ':lvar_13', 0)
    (assign, ':lvar_14', 0)
    (get_player_agent_no, ':lvar_15')
    (agent_get_team, ':lvar_16', ':lvar_15')
    (assign, ':lvar_17', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 0)
      (assign, ':lvar_17', 1)
    (try_end)
    (assign, ':lvar_18', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 1)
      (assign, ':lvar_18', 1)
    (try_end)
    (assign, ':lvar_19', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 2)
      (assign, ':lvar_19', 1)
    (try_end)
    (get_scene_boundaries, 2, 3)
    (try_for_agents, ':lvar_20')
      (agent_is_human, ':lvar_20')
      (agent_get_class, ':lvar_21', ':lvar_20')
      (agent_get_party_id, ':lvar_22', ':lvar_20')
      (agent_get_slot, ':lvar_23', ':lvar_20', 10)
      (try_begin)
        (eq, ':lvar_22', 0)
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 246, ':lvar_20')
          (try_begin)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_1', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_2', 1)
          (else_try)
            (val_add, ':lvar_0', 1)
          (try_end)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (try_begin)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_4', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_5', 1)
          (else_try)
            (val_add, ':lvar_3', 1)
          (try_end)
        (else_try)
          (try_begin)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_7', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_8', 1)
          (else_try)
            (val_add, ':lvar_6', 1)
          (try_end)
        (try_end)
      (else_try)
        (agent_is_ally, ':lvar_20')
        (agent_get_troop_id, ':lvar_24', ':lvar_20')
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 246, ':lvar_20')
          (try_begin)
            (eq, ':lvar_24', 0)
            (try_begin)
              (eq, ':lvar_21', 1)
              (val_add, ':lvar_1', 1)
            (else_try)
              (eq, ':lvar_21', 2)
              (val_add, ':lvar_2', 1)
            (else_try)
              (val_add, ':lvar_0', 1)
            (try_end)
          (else_try)
            (val_add, ':lvar_9', 1)
          (try_end)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (try_begin)
            (eq, ':lvar_24', 0)
            (try_begin)
              (eq, ':lvar_21', 1)
              (val_add, ':lvar_4', 1)
            (else_try)
              (eq, ':lvar_21', 2)
              (val_add, ':lvar_5', 1)
            (else_try)
              (val_add, ':lvar_3', 1)
            (try_end)
          (else_try)
            (val_add, ':lvar_10', 1)
          (try_end)
        (else_try)
          (val_add, ':lvar_11', 1)
        (try_end)
      (else_try)
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 246, ':lvar_20')
          (val_add, ':lvar_12', 1)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (val_add, ':lvar_13', 1)
        (else_try)
          (val_add, ':lvar_14', 1)
        (try_end)
      (try_end)
    (try_end)
    (assign, reg1, ':lvar_0')
    (assign, reg2, ':lvar_1')
    (assign, reg3, ':lvar_2')
    (store_add, ':lvar_25', ':lvar_0', ':lvar_1')
    (val_add, ':lvar_25', ':lvar_2')
    (store_add, ':lvar_26', ':lvar_3', ':lvar_4')
    (val_add, ':lvar_26', ':lvar_5')
    (store_add, ':lvar_27', ':lvar_6', ':lvar_7')
    (val_add, ':lvar_27', ':lvar_8')
    (assign, reg4, ':lvar_25')
    (assign, reg5, ':lvar_26')
    (assign, reg6, ':lvar_27')
    (assign, reg7, ':lvar_9')
    (assign, reg8, ':lvar_10')
    (assign, reg9, ':lvar_11')
    (assign, reg10, ':lvar_12')
    (assign, reg11, ':lvar_13')
    (assign, reg12, ':lvar_14')
    (overlay_set_text, '$gvar_453', '@qstr_299')
    (overlay_set_text, '$gvar_458', '@qstr_300')
    (overlay_set_text, '$gvar_459', '@qstr_301')
    (overlay_set_text, '$gvar_494', '@qstr_142')
    (overlay_set_text, '$gvar_495', '@qstr_143')
    (overlay_set_text, '$gvar_496', '@qstr_144')
    (overlay_set_text, '$gvar_500', '@qstr_145')
    (overlay_set_text, '$gvar_501', '@qstr_146')
    (overlay_set_text, '$gvar_502', '@qstr_147')
    (overlay_set_text, '$gvar_497', '@qstr_148')
    (overlay_set_text, '$gvar_498', '@qstr_149')
    (overlay_set_text, '$gvar_499', '@qstr_150')
    (assign, ':lvar_28', 100)
    (assign, ':lvar_29', 100)
    (val_add, ':lvar_28', 150)
    (val_add, ':lvar_29', 80)
    (position_set_x, 1, ':lvar_28')
    (position_set_y, 1, ':lvar_29')
    (overlay_set_position, '$gvar_494', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_495', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_496', 1)
    (val_add, ':lvar_28', -300)
    (val_add, ':lvar_29', -40)
    (position_set_x, 1, ':lvar_28')
    (position_set_y, 1, ':lvar_29')
    (overlay_set_position, '$gvar_500', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_501', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_502', 1)
    (val_add, ':lvar_28', -300)
    (val_add, ':lvar_29', -40)
    (position_set_x, 1, ':lvar_28')
    (position_set_y, 1, ':lvar_29')
    (overlay_set_position, '$gvar_497', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_498', 1)
    (val_add, ':lvar_28', 150)
    (position_set_x, 1, ':lvar_28')
    (overlay_set_position, '$gvar_499', 1)
    (call_script, 248)
    (try_begin)
      (eq, ':lvar_17', 1)
      (eq, ':lvar_18', 1)
      (eq, ':lvar_19', 1)
      (team_set_order_listener, ':lvar_16', 10)
    (else_try)
      (eq, ':lvar_17', 1)
      (team_set_order_listener, ':lvar_16', 0)
    (else_try)
      (eq, ':lvar_18', 1)
      (team_set_order_listener, ':lvar_16', 1)
    (else_try)
      (eq, ':lvar_19', 1)
      (team_set_order_listener, ':lvar_16', 2)
    (try_end)
consume_food=>
    (store_script_param, ':lvar_0', 1)
    (troop_get_inventory_capacity, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (troop_get_inventory_slot, ':lvar_3', 0, ':lvar_2')
      (is_between, ':lvar_3', 74, 109)
      (troop_get_inventory_slot_modifier, ':lvar_4', 0, ':lvar_2')
      (neq, ':lvar_4', 41)
      (item_slot_eq, ':lvar_3', 0, 0)
      (item_set_slot, ':lvar_3', 0, 1)
      (val_sub, ':lvar_0', 1)
      (lt, ':lvar_0', 0)
      (assign, ':lvar_1', 0)
      (troop_inventory_slot_get_item_amount, ':lvar_5', 0, ':lvar_2')
      (val_sub, ':lvar_5', 1)
      (troop_inventory_slot_set_item_amount, 0, ':lvar_2', ':lvar_5')
    (try_end)
calculate_troop_score_for_center=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 1)
    (try_for_range, ':lvar_3', 46, 204)
      (assign, ':lvar_4', 0)
      (try_begin)
        (eq, ':lvar_0', 0)
        (party_slot_eq, ':lvar_3', 7, -2)
        (assign, ':lvar_4', 1)
      (try_end)
      (this_or_next|party_slot_eq, ':lvar_3', 7, ':lvar_0')
      (eq, ':lvar_4', 1)
      (try_begin)
        (party_slot_eq, ':lvar_3', 0, 3)
        (val_add, ':lvar_2', 4)
      (else_try)
        (party_slot_eq, ':lvar_3', 0, 2)
        (val_add, ':lvar_2', 2)
      (else_try)
        (val_add, ':lvar_2', 1)
      (try_end)
    (try_end)
    (troop_get_slot, ':lvar_5', ':lvar_0', 7)
    (store_add, ':lvar_6', 500, ':lvar_5')
    (val_div, ':lvar_6', ':lvar_2')
    (store_random_in_range, ':lvar_7', 50, 100)
    (val_mul, ':lvar_6', ':lvar_7')
    (try_begin)
      (party_slot_eq, ':lvar_1', 28, ':lvar_0')
      (val_mul, ':lvar_6', 3)
      (val_div, ':lvar_6', 2)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 0)
      (faction_get_slot, ':lvar_8', '$gvar_281')
      (call_script, 150, ':lvar_8')
      (assign, ':lvar_9', reg0)
      (val_mul, ':lvar_9', 2)
      (val_add, ':lvar_6', ':lvar_9')
    (try_end)
    (assign, reg0, ':lvar_6')
assign_lords_to_empty_centers=>
    (try_for_range, ':lvar_0', 46, 204)
      (party_get_slot, ':lvar_1', ':lvar_0', 7)
      (this_or_next|eq, ':lvar_1', -1)
      (eq, ':lvar_1', -3)
      (store_faction_of_party, ':lvar_2', ':lvar_0')
      (is_between, ':lvar_2', 15, 19)
      (neg|faction_slot_eq, ':lvar_2', 10, 0)
      (assign, ':lvar_3', -1)
      (assign, ':lvar_4', -1)
      (try_begin)
        (eq, ':lvar_1', -1)
        (try_begin)
          (eq, '$gvar_281', ':lvar_2')
          (eq, '$gvar_66', 1)
          (assign, ':lvar_3', -2)
          (call_script, 252, 0, ':lvar_0')
          (assign, ':lvar_4', reg0)
        (try_end)
      (try_end)
      (try_for_range, ':lvar_5', 405, 530)
        (troop_slot_eq, ':lvar_5', 2, 2)
        (store_troop_faction, ':lvar_6', ':lvar_5')
        (eq, ':lvar_6', ':lvar_2')
        (call_script, 252, ':lvar_5', ':lvar_0')
        (assign, ':lvar_7', reg0)
        (gt, ':lvar_7', ':lvar_4')
        (assign, ':lvar_4', ':lvar_7')
        (assign, ':lvar_3', ':lvar_5')
      (try_end)
      (try_begin)
        (ge, ':lvar_3', 0)
        (call_script, 112, ':lvar_0', ':lvar_3', 1)
      (else_try)
        (eq, ':lvar_3', -2)
        (party_set_slot, ':lvar_0', 7, -2)
        (try_begin)
          (party_slot_eq, ':lvar_0', 0, 2)
          (try_for_range, ':lvar_8', 114, 204)
            (party_slot_eq, ':lvar_8', 120, ':lvar_0')
            (party_set_slot, ':lvar_8', 7, -2)
          (try_end)
        (try_end)
      (try_end)
    (try_end)
create_minorplanet_farmer_party=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 121)
    (store_faction_of_party, ':lvar_2', ':lvar_1')
    (set_spawn_radius, 0)
    (spawn_around_party, ':lvar_0', 20)
    (assign, ':lvar_3', reg0)
    (party_set_faction, ':lvar_3', ':lvar_2')
    (party_set_slot, ':lvar_3', 123, ':lvar_0')
    (party_set_slot, ':lvar_3', 0, 15)
    (party_set_slot, ':lvar_3', 4, 13)
    (party_set_slot, ':lvar_3', 5, ':lvar_1')
    (party_set_ai_behavior, ':lvar_3', 1)
    (party_set_ai_object, ':lvar_3', ':lvar_1')
    (party_set_flags, ':lvar_3', 65536, 0)
    (store_sub, ':lvar_4', 262, 74)
    (try_for_range, ':lvar_5', 74, 130)
      (store_add, ':lvar_6', ':lvar_5', ':lvar_4')
      (party_get_slot, ':lvar_7', ':lvar_0', ':lvar_6')
      (party_set_slot, ':lvar_3', ':lvar_6', ':lvar_7')
    (try_end)
    (assign, reg0, ':lvar_3')
do_party_center_trade=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (assign, ':lvar_3', 0)
    (store_sub, ':lvar_4', 262, 74)
    (try_for_range, ':lvar_5', 74, 130)
      (store_add, ':lvar_6', ':lvar_5', ':lvar_4')
      (party_get_slot, ':lvar_7', ':lvar_0', ':lvar_6')
      (party_get_slot, ':lvar_8', ':lvar_1', ':lvar_6')
      (store_sub, ':lvar_9', ':lvar_7', ':lvar_8')
      (assign, ':lvar_10', ':lvar_9')
      (val_abs, ':lvar_10')
      (val_add, ':lvar_3', ':lvar_10')
      (val_mul, ':lvar_10', ':lvar_2')
      (val_div, ':lvar_10', 100)
      (try_begin)
        (lt, ':lvar_9', 0)
        (val_mul, ':lvar_10', -1)
      (try_end)
      (val_add, ':lvar_8', ':lvar_10')
      (party_set_slot, ':lvar_1', ':lvar_6', ':lvar_8')
      (party_set_slot, ':lvar_0', ':lvar_6', ':lvar_8')
    (try_end)
    (assign, reg0, ':lvar_3')
player_join_faction=>
    (store_script_param, ':lvar_0', 1)
    (assign, '$gvar_281', ':lvar_0')
    (faction_set_slot, 15, 4, 0)
    (assign, '$gvar_226', 0)
    (assign, '$gvar_64', 0)
    (assign, '$gvar_227', 0)
    (try_for_range, ':lvar_1', 15, 19)
      (faction_slot_eq, ':lvar_1', 21, 0)
      (neq, ':lvar_1', 15)
      (try_begin)
        (neq, ':lvar_1', ':lvar_0')
        (store_relation, ':lvar_2', ':lvar_1', ':lvar_0')
      (else_try)
        (store_relation, ':lvar_2', 15, ':lvar_1')
        (val_max, ':lvar_2', 12)
      (try_end)
      (call_script, 155, ':lvar_1', ':lvar_2')
    (try_end)
    (try_for_range, ':lvar_3', 46, 204)
      (party_slot_eq, ':lvar_3', 7, 0)
      (party_set_faction, ':lvar_3', ':lvar_0')
    (try_end)
    (try_for_range, ':lvar_4', 0, 24)
      (check_quest_active, ':lvar_4')
      (quest_get_slot, ':lvar_5', ':lvar_4', 6)
      (store_troop_faction, ':lvar_6', ':lvar_5')
      (store_relation, ':lvar_7', 15, ':lvar_6')
      (lt, ':lvar_7', 0)
      (call_script, 194, ':lvar_4', 0)
    (try_end)
    (try_begin)
      (neq, ':lvar_0', 15)
      (faction_set_slot, 15, 21, 2)
      (faction_set_slot, 15, 10, 0)
    (try_end)
    (call_script, 349)
    (call_script, 283)
    (assign, '$gvar_70', 1)
player_leave_faction=>
    (store_script_param, ':lvar_0', 1)
    (call_script, 149, '$gvar_281')
    (assign, ':lvar_1', '$gvar_281')
    (assign, ':lvar_2', '$gvar_66')
    (assign, '$gvar_281', 0)
    (assign, '$gvar_66', 0)
    (try_begin)
      (neq, ':lvar_0', 0)
      (try_for_range, ':lvar_3', 46, 204)
        (party_slot_eq, ':lvar_3', 7, 0)
        (call_script, 109, ':lvar_3', ':lvar_1')
      (try_end)
    (else_try)
      (try_for_range, ':lvar_3', 46, 204)
        (party_slot_eq, ':lvar_3', 7, 0)
        (call_script, 109, ':lvar_3', 15)
      (try_end)
      (try_for_range, ':lvar_3', 114, 204)
        (party_get_slot, ':lvar_4', ':lvar_3', 120)
        (party_slot_eq, ':lvar_3', 7, 0)
        (neg|party_slot_eq, ':lvar_4', 7, 0)
        (call_script, 109, ':lvar_3', ':lvar_1')
      (try_end)
      (store_relation, ':lvar_5', 15, ':lvar_1')
      (store_sub, ':lvar_6', -40, ':lvar_5')
      (call_script, 154, ':lvar_1', ':lvar_6')
    (try_end)
    (try_begin)
      (eq, ':lvar_2', 1)
      (faction_get_slot, ':lvar_7', ':lvar_1', 10)
      (call_script, 152, ':lvar_7', -20)
    (try_end)
    (call_script, 283)
    (assign, '$gvar_70', 1)
activate_deactivate_player_faction=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (assign, ':lvar_1', 0)
      (try_for_range, ':lvar_2', 46, 204)
        (store_faction_of_party, ':lvar_3', ':lvar_2')
        (eq, ':lvar_3', 15)
        (assign, ':lvar_1', 1)
      (try_end)
      (try_begin)
        (eq, ':lvar_1', 1)
        (neg|faction_slot_eq, 15, 21, 0)
        (faction_set_slot, 15, 21, 0)
        (faction_set_slot, 15, 10, 0)
        (str_store_faction_name, 1, ':lvar_0')
        (faction_set_name, 15, '@qstr_302')
        (faction_set_color, 15, 11184810)
        (assign, '$gvar_281', 15)
        (assign, '$gvar_85', 1)
        (call_script, 349)
        (call_script, 283)
        (call_script, 175, 183, 0, 0)
      (else_try)
        (eq, ':lvar_1', 0)
        (faction_slot_eq, 15, 21, 0)
        (le, '$gvar_36', 0)
        (faction_set_slot, 15, 21, 2)
        (faction_set_slot, 15, 10, 0)
        (assign, '$gvar_281', 0)
        (assign, '$gvar_226', 0)
        (assign, '$gvar_64', 0)
        (assign, '$gvar_227', 0)
        (call_script, 349)
        (call_script, 283)
        (call_script, 175, 184, 0, 0)
      (try_end)
    (try_end)
agent_reassign_team=>
    (store_script_param, ':lvar_0', 1)
    (get_player_agent_no, ':lvar_1')
    (try_begin)
      (ge, ':lvar_1', 0)
      (agent_is_human, ':lvar_0')
      (agent_is_ally, ':lvar_0')
      (agent_get_party_id, ':lvar_2', ':lvar_0')
      (ge, ':lvar_2', 0)
      (neq, ':lvar_2', 0)
      (assign, ':lvar_3', 1)
      (store_faction_of_party, ':lvar_4', ':lvar_2')
      (try_begin)
        (eq, ':lvar_4', '$gvar_281')
        (is_between, '$gvar_281', 15, 19)
        (faction_slot_eq, '$gvar_281', 7, 0)
        (assign, ':lvar_3', 0)
      (else_try)
        (party_stack_get_troop_id, ':lvar_5', ':lvar_2', 0)
        (neg|is_between, ':lvar_5', 405, 530)
        (assign, ':lvar_3', 0)
      (try_end)
      (eq, ':lvar_3', 1)
      (agent_get_team, ':lvar_6', ':lvar_1')
      (val_add, ':lvar_6', 2)
      (agent_set_team, ':lvar_0', ':lvar_6')
    (try_end)
start_quest=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_begin)
      (is_between, ':lvar_1', 405, 530)
      (str_store_troop_name_link, 62, ':lvar_1')
    (else_try)
      (str_store_troop_name, 62, ':lvar_1')
    (try_end)
    (str_store_string, 63, '@qstr_303')
    (store_current_hours, ':lvar_2')
    (str_store_date, 60, ':lvar_2')
    (str_store_string, 60, '@qstr_304')
    (add_quest_note_from_sreg, ':lvar_0', 0, 60, 0)
    (add_quest_note_from_sreg, ':lvar_0', 1, 63, 0)
    (add_quest_note_from_sreg, ':lvar_0', 2, 2, 0)
    (try_begin)
      (quest_slot_ge, ':lvar_0', 23, 1)
      (quest_get_slot, reg0, ':lvar_0', 23)
      (add_quest_note_from_sreg, ':lvar_0', 7, '@qstr_305', 0)
    (try_end)
    (try_begin)
      (quest_slot_ge, ':lvar_0', 24, 1)
      (quest_get_slot, ':lvar_3', ':lvar_0', 24)
      (quest_set_slot, ':lvar_0', 25, ':lvar_3')
    (try_end)
    (start_quest, ':lvar_0', ':lvar_1')
    (display_message, 216172782113784172, 6737151)
conclude_quest=>
    (store_script_param, ':lvar_0', 1)
    (conclude_quest, ':lvar_0')
    (quest_get_slot, ':lvar_1', ':lvar_0', 6)
    (str_store_troop_name, 59, ':lvar_1')
    (add_quest_note_from_sreg, ':lvar_0', 7, '@qstr_306', 0)
succeed_quest=>
    (store_script_param, ':lvar_0', 1)
    (succeed_quest, ':lvar_0')
    (quest_get_slot, ':lvar_1', ':lvar_0', 6)
    (str_store_troop_name, 59, ':lvar_1')
    (add_quest_note_from_sreg, ':lvar_0', 7, '@qstr_307', 0)
fail_quest=>
    (store_script_param, ':lvar_0', 1)
    (fail_quest, ':lvar_0')
    (quest_get_slot, ':lvar_1', ':lvar_0', 6)
    (str_store_troop_name, 59, ':lvar_1')
    (add_quest_note_from_sreg, ':lvar_0', 7, '@qstr_308', 0)
report_quest_troop_positions=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (call_script, 177, ':lvar_1', 1)
    (str_store_string, 5, '@qstr_309')
    (add_quest_note_from_sreg, ':lvar_0', ':lvar_2', 5, 1)
    (call_script, 280, ':lvar_1', 1)
end_quest=>
    (store_script_param, ':lvar_0', 1)
    (str_clear, 1)
    (add_quest_note_from_sreg, ':lvar_0', 0, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 1, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 2, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 3, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 4, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 5, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 6, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 7, 1, 0)
    (try_begin)
      (neg|check_quest_failed, ':lvar_0')
      (val_add, '$gvar_619', 1)
    (try_end)
    (complete_quest, ':lvar_0')
    (try_begin)
      (is_between, ':lvar_0', 32, 40)
      (assign, '$gvar_132', -1)
      (assign, '$gvar_133', -1)
    (try_end)
cancel_quest=>
    (store_script_param, ':lvar_0', 1)
    (str_clear, 1)
    (add_quest_note_from_sreg, ':lvar_0', 0, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 1, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 2, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 3, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 4, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 5, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 6, 1, 0)
    (add_quest_note_from_sreg, ':lvar_0', 7, 1, 0)
    (cancel_quest, ':lvar_0')
    (try_begin)
      (is_between, ':lvar_0', 32, 40)
      (assign, '$gvar_132', -1)
      (assign, '$gvar_133', -1)
    (try_end)
update_minorplanet_market_towns=>
    (try_for_range, ':lvar_0', 114, 204)
      (store_faction_of_party, ':lvar_1', ':lvar_0')
      (assign, ':lvar_2', 999999)
      (assign, ':lvar_3', -1)
      (try_for_range, ':lvar_4', 46, 73)
        (store_faction_of_party, ':lvar_5', ':lvar_4')
        (eq, ':lvar_5', ':lvar_1')
        (store_distance_to_party_from_party, ':lvar_6', ':lvar_0', ':lvar_4')
        (lt, ':lvar_6', ':lvar_2')
        (assign, ':lvar_2', ':lvar_6')
        (assign, ':lvar_3', ':lvar_4')
      (try_end)
      (gt, ':lvar_3', -1)
      (party_set_slot, ':lvar_0', 121, ':lvar_3')
    (try_end)
update_mercenary_units_of_towns=>
    (try_for_range, ':lvar_0', 46, 73)
      (store_random_in_range, ':lvar_1', 24, 95)
      (party_set_slot, ':lvar_0', 90, ':lvar_1')
      (store_random_in_range, ':lvar_2', 3, 8)
      (party_set_slot, ':lvar_0', 91, ':lvar_2')
    (try_end)
update_volunteer_troops_in_village=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 26)
    (store_faction_of_party, ':lvar_2', ':lvar_0')
    (faction_get_slot, ':lvar_3', ':lvar_2', 41)
    (assign, ':lvar_4', 1)
    (store_div, ':lvar_5', ':lvar_1', 10)
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (store_random_in_range, ':lvar_7', 0, 100)
      (lt, ':lvar_7', 10)
      (store_random_in_range, ':lvar_7', 0, 2)
      (troop_get_upgrade_troop, ':lvar_8', ':lvar_3', ':lvar_7')
      (try_begin)
        (le, ':lvar_8', 0)
        (troop_get_upgrade_troop, ':lvar_8', ':lvar_3', 0)
      (try_end)
      (gt, ':lvar_8', 0)
      (val_add, ':lvar_4', 1)
      (assign, ':lvar_3', ':lvar_8')
    (try_end)
    (assign, ':lvar_9', 7)
    (try_begin)
      (ge, ':lvar_1', 5)
      (assign, ':lvar_9', ':lvar_1')
      (val_div, ':lvar_9', 2)
      (val_add, ':lvar_9', 10)
    (else_try)
      (lt, ':lvar_1', 0)
      (assign, ':lvar_9', 0)
    (try_end)
    (val_mul, ':lvar_9', 3)
    (store_add, ':lvar_10', 2, ':lvar_4')
    (val_div, ':lvar_9', ':lvar_10')
    (store_random_in_range, ':lvar_11', 0, ':lvar_9')
    (party_set_slot, ':lvar_0', 92, ':lvar_3')
    (party_set_slot, ':lvar_0', 93, ':lvar_11')
update_npc_volunteer_troops_in_village=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 19)
    (faction_get_slot, ':lvar_2', ':lvar_1', 41)
    (assign, ':lvar_3', 1)
    (try_for_range, ':lvar_4', 0, 5)
      (store_random_in_range, ':lvar_5', 0, 100)
      (lt, ':lvar_5', 10)
      (store_random_in_range, ':lvar_5', 0, 2)
      (troop_get_upgrade_troop, ':lvar_6', ':lvar_2', ':lvar_5')
      (try_begin)
        (le, ':lvar_6', 0)
        (troop_get_upgrade_troop, ':lvar_6', ':lvar_2', 0)
      (try_end)
      (gt, ':lvar_6', 0)
      (val_add, ':lvar_3', 1)
      (assign, ':lvar_2', ':lvar_6')
    (try_end)
    (assign, ':lvar_7', 12)
    (store_add, ':lvar_8', 2, ':lvar_3')
    (val_div, ':lvar_7', ':lvar_8')
    (store_random_in_range, ':lvar_9', 0, ':lvar_7')
    (party_set_slot, ':lvar_0', 90, ':lvar_2')
    (party_set_slot, ':lvar_0', 91, ':lvar_9')
update_companion_candidates_in_taverns=>
    (try_for_range, ':lvar_0', 386, 404)
      (troop_set_slot, ':lvar_0', 12, -1)
      (troop_slot_eq, ':lvar_0', 2, 0)
      (store_random_in_range, ':lvar_1', 46, 73)
      (try_begin)
        (neg|troop_slot_eq, ':lvar_0', 60, ':lvar_1')
        (neg|troop_slot_eq, ':lvar_0', 59, ':lvar_1')
        (troop_set_slot, ':lvar_0', 12, ':lvar_1')
        (try_begin)
          (eq, '$gvar_152', 1)
          (str_store_troop_name, 4, ':lvar_0')
          (str_store_party_name, 5, ':lvar_1')
          (display_message, '@qstr_310')
        (try_end)
      (try_end)
    (try_end)
update_ransom_brokers=>
    (try_for_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 95, 0)
    (try_end)
    (try_for_range, ':lvar_1', 349, 359)
      (store_random_in_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 95, ':lvar_1')
    (try_end)
update_tavern_travelers=>
    (try_for_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 96, 0)
    (try_end)
    (try_for_range, ':lvar_1', 359, 369)
      (store_random_in_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 96, ':lvar_1')
      (assign, ':lvar_2', 15)
      (try_for_range, ':lvar_3', 0, ':lvar_2')
        (store_random_in_range, ':lvar_4', 15, 19)
        (faction_slot_eq, ':lvar_4', 21, 0)
        (neq, ':lvar_4', '$gvar_281')
        (neq, ':lvar_4', 15)
        (party_set_slot, ':lvar_0', 97, ':lvar_4')
        (assign, ':lvar_2', 0)
      (try_end)
    (try_end)
update_villages_infested_by_bandits=>
    (try_for_range, ':lvar_0', 114, 204)
      (try_begin)
        (check_quest_active, 43)
        (quest_slot_eq, 43, 1, ':lvar_0')
        (quest_get_slot, ':lvar_1', 43, 11)
        (val_add, ':lvar_1', 1)
        (try_begin)
          (lt, ':lvar_1', 3)
          (quest_set_slot, 43, 11, ':lvar_1')
        (else_try)
          (party_set_slot, ':lvar_0', 39, 0)
          (call_script, 194, 43, 2)
        (try_end)
      (else_try)
        (check_quest_active, 4)
        (quest_slot_eq, 4, 1, ':lvar_0')
        (quest_get_slot, ':lvar_1', 4, 11)
        (val_add, ':lvar_1', 1)
        (try_begin)
          (lt, ':lvar_1', 3)
          (quest_set_slot, 4, 11, ':lvar_1')
        (else_try)
          (party_set_slot, ':lvar_0', 39, 0)
          (call_script, 194, 4, 2)
        (try_end)
      (else_try)
        (party_set_slot, ':lvar_0', 39, 0)
        (store_random_in_range, ':lvar_2', 0, 100)
        (lt, ':lvar_2', 3)
        (store_random_in_range, ':lvar_2', 0, 3)
        (try_begin)
          (eq, ':lvar_2', 0)
          (assign, ':lvar_3', 199)
        (else_try)
          (eq, ':lvar_2', 1)
          (assign, ':lvar_3', 203)
        (else_try)
          (assign, ':lvar_3', 205)
        (try_end)
        (party_set_slot, ':lvar_0', 39, ':lvar_3')
        (call_script, 308, ':lvar_0', -3)
        (try_begin)
          (eq, '$gvar_152', 1)
          (str_store_party_name, 1, ':lvar_0')
          (display_message, '@qstr_311')
        (try_end)
      (try_end)
    (try_end)
update_booksellers=>
    (try_for_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 98, 0)
    (try_end)
    (try_for_range, ':lvar_0', 46, 73)
      (store_random_in_range, ':lvar_1', 0, 100)
      (le, ':lvar_1', 75)
      (store_random_in_range, ':lvar_2', 369, 385)
      (party_set_slot, ':lvar_0', 98, ':lvar_2')
    (try_end)
update_tavern_minstels=>
    (try_for_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 99, 0)
    (try_end)
    (try_for_range, ':lvar_1', 385, 386)
      (store_random_in_range, ':lvar_0', 46, 73)
      (party_set_slot, ':lvar_0', 99, ':lvar_1')
    (try_end)
update_faction_notes=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (is_between, ':lvar_0', 15, 19)
      (faction_slot_eq, ':lvar_0', 21, 0)
      (faction_get_slot, ':lvar_1', ':lvar_0', 10)
      (str_store_faction_name, 5, ':lvar_0')
      (str_store_troop_name_link, 6, ':lvar_1')
      (assign, ':lvar_2', 0)
      (str_store_string, 8, '@qstr_312')
      (try_for_range_backwards, ':lvar_3', 46, 204)
        (store_faction_of_party, ':lvar_4', ':lvar_3')
        (eq, ':lvar_4', ':lvar_0')
        (try_begin)
          (eq, ':lvar_2', 0)
          (str_store_party_name_link, 8, ':lvar_3')
        (else_try)
          (eq, ':lvar_2', 1)
          (str_store_party_name_link, 7, ':lvar_3')
          (str_store_string, 8, '@qstr_313')
        (else_try)
          (str_store_party_name_link, 7, ':lvar_3')
          (str_store_string, 8, '@qstr_314')
        (try_end)
        (val_add, ':lvar_2', 1)
      (try_end)
      (assign, ':lvar_5', 0)
      (str_store_string, 10, '@qstr_315')
      (try_for_range_backwards, ':lvar_6', 404, 530)
        (assign, ':lvar_7', ':lvar_6')
        (try_begin)
          (eq, ':lvar_6', 404)
          (assign, ':lvar_7', 0)
          (assign, ':lvar_8', '$gvar_281')
        (else_try)
          (store_troop_faction, ':lvar_8', ':lvar_7')
        (try_end)
        (eq, ':lvar_8', ':lvar_0')
        (neq, ':lvar_7', ':lvar_1')
        (troop_slot_eq, ':lvar_7', 2, 2)
        (try_begin)
          (eq, ':lvar_5', 0)
          (str_store_troop_name_link, 10, ':lvar_7')
        (else_try)
          (eq, ':lvar_5', 1)
          (str_store_troop_name_link, 9, ':lvar_7')
          (str_store_string, 10, '@qstr_316')
        (else_try)
          (str_store_troop_name_link, 9, ':lvar_7')
          (str_store_string, 10, '@qstr_317')
        (try_end)
        (val_add, ':lvar_5', 1)
      (try_end)
      (str_store_string, 12, '@qstr_315')
      (assign, ':lvar_9', 0)
      (try_for_range_backwards, ':lvar_10', 15, 19)
        (faction_slot_eq, ':lvar_10', 21, 0)
        (store_relation, ':lvar_11', ':lvar_10', ':lvar_0')
        (lt, ':lvar_11', 0)
        (try_begin)
          (eq, ':lvar_9', 0)
          (str_store_faction_name_link, 12, ':lvar_10')
        (else_try)
          (eq, ':lvar_9', 1)
          (str_store_faction_name_link, 11, ':lvar_10')
          (str_store_string, 12, '@qstr_318')
        (else_try)
          (str_store_faction_name_link, 11, ':lvar_10')
          (str_store_string, 12, '@qstr_319')
        (try_end)
        (val_add, ':lvar_9', 1)
      (try_end)
      (add_faction_note_from_sreg, ':lvar_0', 0, '@qstr_320', 0)
    (else_try)
      (is_between, ':lvar_0', 15, 19)
      (faction_slot_eq, ':lvar_0', 21, 1)
      (str_store_faction_name, 5, ':lvar_0')
      (add_faction_note_from_sreg, ':lvar_0', 0, '@qstr_321', 0)
      (str_clear, 1)
      (add_faction_note_from_sreg, ':lvar_0', 1, 1, 0)
    (else_try)
      (str_clear, 1)
      (add_faction_note_from_sreg, ':lvar_0', 0, 1, 0)
      (add_faction_note_from_sreg, ':lvar_0', 1, 1, 0)
    (try_end)
    (try_begin)
      (is_between, ':lvar_0', 16, 19)
      (add_faction_note_tableau_mesh, ':lvar_0', 14)
    (else_try)
      (add_faction_note_tableau_mesh, ':lvar_0', 15)
    (try_end)
update_faction_traveler_notes=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (try_for_parties, ':lvar_2')
      (store_faction_of_party, ':lvar_3', ':lvar_2')
      (eq, ':lvar_3', ':lvar_0')
      (party_get_num_companions, ':lvar_4', ':lvar_2')
      (val_add, ':lvar_1', ':lvar_4')
    (try_end)
    (str_store_faction_name, 5, ':lvar_0')
    (assign, reg1, ':lvar_1')
    (add_faction_note_from_sreg, ':lvar_0', 1, '@qstr_322', 1)
update_troop_notes=>
    (store_script_param, ':lvar_0', 1)
    (str_store_troop_name, 54, ':lvar_0')
    (try_begin)
      (eq, ':lvar_0', 0)
      (this_or_next|eq, '$gvar_66', 1)
      (eq, '$gvar_281', 15)
      (assign, ':lvar_1', '$gvar_281')
    (else_try)
      (store_troop_faction, ':lvar_1', ':lvar_0')
    (try_end)
    (try_begin)
      (neq, ':lvar_0', 0)
      (neg|is_between, ':lvar_1', 15, 19)
      (str_clear, 54)
      (add_troop_note_from_sreg, ':lvar_0', 0, 54, 0)
      (add_troop_note_from_sreg, ':lvar_0', 1, 54, 0)
      (add_troop_note_from_sreg, ':lvar_0', 2, 54, 0)
    (else_try)
      (is_between, ':lvar_0', 530, 530)
      (str_clear, 54)
      (add_troop_note_from_sreg, ':lvar_0', 0, 54, 0)
      (add_troop_note_from_sreg, ':lvar_0', 1, 54, 0)
      (add_troop_note_from_sreg, ':lvar_0', 2, 54, 0)
    (else_try)
      (is_between, ':lvar_0', 530, 530)
      (neg|troop_slot_eq, ':lvar_0', 2, 2)
      (neq, ':lvar_0', '$gvar_36')
      (troop_get_slot, ':lvar_2', ':lvar_0', 14)
      (try_begin)
        (faction_slot_eq, ':lvar_2', 21, 0)
        (faction_slot_eq, ':lvar_2', 60, 1)
        (str_store_faction_name_link, 56, ':lvar_2')
        (add_troop_note_from_sreg, ':lvar_0', 0, '@qstr_323', 0)
        (add_troop_note_tableau_mesh, ':lvar_0', 11)
      (else_try)
        (str_clear, 54)
        (add_troop_note_from_sreg, ':lvar_0', 0, 54, 0)
        (add_troop_note_from_sreg, ':lvar_0', 1, 54, 0)
        (add_troop_note_from_sreg, ':lvar_0', 2, 54, 0)
      (try_end)
    (else_try)
      (faction_get_slot, ':lvar_3', ':lvar_1', 10)
      (str_store_troop_name_link, 55, ':lvar_3')
      (str_store_faction_name_link, 56, ':lvar_1')
      (assign, reg4, 0)
      (assign, reg6, 0)
      (try_begin)
        (eq, ':lvar_1', 14)
        (assign, reg6, 1)
      (else_try)
        (eq, ':lvar_3', ':lvar_0')
        (assign, reg4, 1)
      (try_end)
      (assign, ':lvar_4', 0)
      (str_store_string, 58, '@qstr_312')
      (try_for_range_backwards, ':lvar_5', 46, 204)
        (party_slot_eq, ':lvar_5', 7, ':lvar_0')
        (try_begin)
          (eq, ':lvar_4', 0)
          (str_store_party_name_link, 58, ':lvar_5')
        (else_try)
          (eq, ':lvar_4', 1)
          (str_store_party_name_link, 57, ':lvar_5')
          (str_store_string, 58, '@qstr_324')
        (else_try)
          (str_store_party_name_link, 57, ':lvar_5')
          (str_store_string, 58, '@qstr_325')
        (try_end)
        (val_add, ':lvar_4', 1)
      (try_end)
      (troop_get_type, reg3, ':lvar_0')
      (troop_get_slot, reg5, ':lvar_0', 7)
      (str_clear, 59)
      (try_begin)
        (call_script, 150, ':lvar_0')
        (assign, ':lvar_6', reg0)
        (store_add, ':lvar_7', ':lvar_6', 100)
        (val_add, ':lvar_7', 5)
        (store_div, ':lvar_8', ':lvar_7', 10)
        (val_clamp, ':lvar_8', 0, 20)
        (store_add, ':lvar_9', 216172782113784012, ':lvar_8')
        (neq, ':lvar_9', 216172782113784022)
        (str_store_string, 60, '@qstr_326')
        (str_store_string, 59, ':lvar_9')
        (str_store_string, 59, '@qstr_327')
      (try_end)
      (assign, reg9, ':lvar_4')
      (add_troop_note_from_sreg, ':lvar_0', 0, '@qstr_328', 0)
      (add_troop_note_tableau_mesh, ':lvar_0', 11)
    (try_end)
update_troop_location_notes=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (call_script, 177, ':lvar_0', 1)
    (try_begin)
      (neq, reg0, 0)
      (troop_get_type, reg1, ':lvar_0')
      (call_script, 410, reg1)
      (try_begin)
        (eq, ':lvar_1', 0)
        (add_troop_note_from_sreg, ':lvar_0', 2, '@qstr_329', 1)
      (else_try)
        (add_troop_note_from_sreg, ':lvar_0', 2, '@qstr_330', 1)
      (try_end)
    (try_end)
update_center_notes=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 7)
    (try_begin)
      (ge, ':lvar_1', 0)
      (store_troop_faction, ':lvar_2', ':lvar_1')
      (str_store_troop_name_link, 1, ':lvar_1')
      (try_begin)
        (eq, ':lvar_1', 0)
        (gt, '$gvar_281', 0)
        (str_store_faction_name_link, 2, '$gvar_281')
      (else_try)
        (str_store_faction_name_link, 2, ':lvar_2')
      (try_end)
      (str_store_party_name, 50, ':lvar_0')
      (try_begin)
        (party_slot_eq, ':lvar_0', 0, 3)
        (str_store_string, 51, '@qstr_331')
      (else_try)
        (party_slot_eq, ':lvar_0', 0, 4)
        (party_get_slot, ':lvar_3', ':lvar_0', 120)
        (str_store_party_name_link, 52, ':lvar_3')
        (str_store_string, 51, '@qstr_332')
      (else_try)
        (str_store_string, 51, '@qstr_333')
      (try_end)
      (str_store_string, 2, '@qstr_334')
    (else_try)
      (str_clear, 2)
    (try_end)
    (try_begin)
      (is_between, ':lvar_0', 114, 204)
    (else_try)
      (assign, ':lvar_4', 0)
      (try_for_range_backwards, ':lvar_5', 114, 204)
        (party_slot_eq, ':lvar_5', 120, ':lvar_0')
        (try_begin)
          (eq, ':lvar_4', 0)
          (str_store_party_name_link, 8, ':lvar_5')
        (else_try)
          (eq, ':lvar_4', 1)
          (str_store_party_name_link, 7, ':lvar_5')
          (str_store_string, 8, '@qstr_313')
        (else_try)
          (str_store_party_name_link, 7, ':lvar_5')
          (str_store_string, 8, '@qstr_314')
        (try_end)
        (val_add, ':lvar_4', 1)
      (try_end)
      (try_begin)
        (eq, ':lvar_4', 0)
        (str_store_string, 2, '@qstr_335')
      (else_try)
        (store_sub, reg0, ':lvar_4', 1)
        (str_store_string, 2, '@qstr_336')
      (try_end)
    (try_end)
    (call_script, 289, ':lvar_0')
    (add_party_note_from_sreg, ':lvar_0', 0, '@qstr_337', 0)
    (add_party_note_tableau_mesh, ':lvar_0', 12)
update_center_recon_notes=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (this_or_next|is_between, ':lvar_0', 46, 73)
      (is_between, ':lvar_0', 73, 114)
      (party_get_slot, ':lvar_1', ':lvar_0', 53)
      (call_script, 130, ':lvar_0')
      (assign, ':lvar_2', reg0)
      (store_div, reg6, ':lvar_1', ':lvar_2')
      (party_collect_attachments_to_party, ':lvar_0', 16)
      (party_get_num_companions, reg5, 16)
      (add_party_note_from_sreg, ':lvar_0', 1, '@qstr_338', 1)
    (try_end)
update_all_notes=>
    (call_script, 279, 0)
    (try_for_range, ':lvar_0', 405, 530)
      (call_script, 279, ':lvar_0')
    (try_end)
    (try_for_range, ':lvar_1', 46, 204)
      (call_script, 281, ':lvar_1')
    (try_end)
    (try_for_range, ':lvar_2', 15, 19)
      (call_script, 277, ':lvar_2')
    (try_end)
shield_item_set_banner=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (assign, ':lvar_3', -1)
    (assign, ':lvar_4', 355)
    (try_begin)
      (lt, ':lvar_1', 0)
      (try_begin)
        (ge, ':lvar_2', 0)
        (this_or_next|troop_slot_ge, ':lvar_2', 13, 1)
        (eq, ':lvar_2', 0)
        (assign, ':lvar_3', ':lvar_2')
      (else_try)
        (is_between, ':lvar_2', 386, 404)
        (assign, ':lvar_3', 0)
      (else_try)
        (assign, ':lvar_4', 354)
      (try_end)
    (else_try)
      (agent_get_troop_id, ':lvar_5', ':lvar_1')
      (this_or_next|troop_slot_ge, ':lvar_5', 13, 1)
      (eq, ':lvar_2', 0)
      (assign, ':lvar_3', ':lvar_5')
    (else_try)
      (agent_get_party_id, ':lvar_6', ':lvar_1')
      (try_begin)
        (lt, ':lvar_6', 0)
        (is_between, ':lvar_5', 386, 404)
        (main_party_has_troop, ':lvar_5')
        (assign, ':lvar_6', 0)
      (try_end)
      (ge, ':lvar_6', 0)
      (party_get_template_id, ':lvar_7', ':lvar_6')
      (try_begin)
        (eq, ':lvar_7', 12)
        (assign, ':lvar_4', 356)
      (else_try)
        (is_between, ':lvar_6', 46, 204)
        (party_get_slot, ':lvar_8', '$gvar_269', 7)
        (ge, ':lvar_8', 0)
        (assign, ':lvar_3', ':lvar_8')
      (else_try)
        (this_or_next|party_slot_eq, ':lvar_6', 0, 13)
        (eq, ':lvar_6', 0)
        (party_get_num_companion_stacks, ':lvar_9', ':lvar_6')
        (gt, ':lvar_9', 0)
        (party_stack_get_troop_id, ':lvar_10', ':lvar_6', 0)
        (this_or_next|troop_slot_ge, ':lvar_10', 13, 1)
        (eq, ':lvar_10', 0)
        (assign, ':lvar_3', ':lvar_10')
      (try_end)
    (else_try)
      (eq, '$gvar_188', 14)
      (neq, ':lvar_2', 0)
      (assign, ':lvar_4', 357)
    (else_try)
      (neq, ':lvar_2', 0)
      (is_between, '$gvar_269', 46, 114)
      (party_get_slot, ':lvar_8', '$gvar_269', 7)
      (ge, ':lvar_8', 0)
      (assign, ':lvar_3', ':lvar_8')
    (try_end)
    (try_begin)
      (ge, ':lvar_3', 0)
      (try_begin)
        (neg|troop_slot_ge, ':lvar_3', 13, 1)
        (assign, ':lvar_4', 355)
      (else_try)
        (troop_get_slot, ':lvar_11', ':lvar_3', 13)
        (store_add, ':lvar_12', 656, 1)
        (is_between, ':lvar_11', 594, ':lvar_12')
        (val_sub, ':lvar_11', 594)
        (store_add, ':lvar_4', ':lvar_11', 228)
      (try_end)
    (try_end)
    (cur_item_set_tableau_material, ':lvar_0', ':lvar_4')
add_troop_to_cur_tableau=>
    (store_script_param, ':lvar_0', 1)
    (set_fixed_point_multiplier, 100)
    (assign, ':lvar_1', -1)
    (troop_get_slot, ':lvar_2', ':lvar_0', 13)
    (store_add, ':lvar_3', 656, 1)
    (try_begin)
      (is_between, ':lvar_2', 594, ':lvar_3')
      (val_sub, ':lvar_2', 594)
      (store_add, ':lvar_1', ':lvar_2', 165)
    (try_end)
    (cur_tableau_clear_override_items)
    (cur_tableau_set_override_flags, 15)
    (init_position, 2)
    (cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000)
    (init_position, 5)
    (assign, ':lvar_4', 162)
    (store_mul, ':lvar_5', ':lvar_0', 87323)
    (assign, ':lvar_5', 139)
    (store_mul, ':lvar_6', ':lvar_0', 124337)
    (val_mod, ':lvar_6', 50)
    (val_add, ':lvar_6', -25)
    (store_mul, ':lvar_7', ':lvar_0', 98123)
    (val_mod, ':lvar_7', 20)
    (val_add, ':lvar_7', -14)
    (assign, ':lvar_8', 1)
    (position_set_z, 5, ':lvar_4')
    (position_rotate_x, 5, -90)
    (position_rotate_z, 5, 180)
    (position_rotate_y, 5, ':lvar_6')
    (position_rotate_x, 5, ':lvar_7')
    (position_move_z, 5, ':lvar_5', 0)
    (position_move_x, 5, 5, 0)
    (try_begin)
      (ge, ':lvar_1', 0)
      (eq, '$gvar_40', 0)
      (init_position, 1)
      (position_set_z, 1, -1500)
      (position_set_x, 1, 265)
      (position_set_y, 1, 400)
      (position_transform_position_to_parent, 3, 5, 1)
      (cur_tableau_add_mesh, ':lvar_1', 3, 400, 0)
    (try_end)
    (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_8', 0)
    (cur_tableau_set_camera_position, 5)
    (copy_position, 8, 5)
    (position_rotate_x, 8, -90)
    (position_rotate_z, 8, 30)
    (position_rotate_x, 8, -60)
    (cur_tableau_add_sun_light, 8, 175, 150, 125)
add_troop_to_cur_tableau_for_character=>
    (store_script_param, ':lvar_0', 1)
    (set_fixed_point_multiplier, 100)
    (cur_tableau_clear_override_items)
    (init_position, 2)
    (cur_tableau_set_camera_parameters, 1, 4, 8, 10, 10000)
    (init_position, 5)
    (assign, ':lvar_1', 150)
    (assign, ':lvar_2', 360)
    (assign, ':lvar_3', -15)
    (assign, ':lvar_4', -18)
    (assign, ':lvar_5', 1)
    (position_set_z, 5, ':lvar_1')
    (position_rotate_x, 5, -90)
    (position_rotate_z, 5, 180)
    (position_rotate_y, 5, ':lvar_3')
    (position_rotate_x, 5, ':lvar_4')
    (position_move_z, 5, ':lvar_2', 0)
    (position_move_x, 5, 5, 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_5', -1)
    (else_try)
      (store_mul, ':lvar_6', ':lvar_0', 126233)
      (val_mod, ':lvar_6', 1000)
      (val_add, ':lvar_6', 1)
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_5', ':lvar_6')
    (try_end)
    (cur_tableau_set_camera_position, 5)
    (copy_position, 8, 5)
    (position_rotate_x, 8, -90)
    (position_rotate_z, 8, 30)
    (position_rotate_x, 8, -60)
    (cur_tableau_add_sun_light, 8, 175, 150, 125)
add_troop_to_cur_tableau_for_inventory=>
    (store_script_param, ':lvar_0', 1)
    (store_mod, ':lvar_1', ':lvar_0', 4)
    (val_div, ':lvar_0', 4)
    (val_mul, ':lvar_1', 90)
    (set_fixed_point_multiplier, 100)
    (cur_tableau_clear_override_items)
    (init_position, 2)
    (position_rotate_z, 2, ':lvar_1')
    (cur_tableau_set_camera_parameters, 1, 4, 6, 10, 10000)
    (init_position, 5)
    (assign, ':lvar_2', 105)
    (assign, ':lvar_3', 380)
    (assign, ':lvar_4', -15)
    (assign, ':lvar_5', -18)
    (assign, ':lvar_6', 1)
    (position_set_z, 5, ':lvar_2')
    (position_rotate_x, 5, -90)
    (position_rotate_z, 5, 180)
    (position_rotate_y, 5, ':lvar_4')
    (position_rotate_x, 5, ':lvar_5')
    (position_move_z, 5, ':lvar_3', 0)
    (position_move_x, 5, 5, 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_6', -1)
    (else_try)
      (store_mul, ':lvar_7', ':lvar_0', 126233)
      (val_mod, ':lvar_7', 1000)
      (val_add, ':lvar_7', 1)
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_6', ':lvar_7')
    (try_end)
    (cur_tableau_set_camera_position, 5)
    (copy_position, 8, 5)
    (position_rotate_x, 8, -90)
    (position_rotate_z, 8, 30)
    (position_rotate_x, 8, -60)
    (cur_tableau_add_sun_light, 8, 175, 150, 125)
add_troop_to_cur_tableau_for_party=>
    (store_script_param, ':lvar_0', 1)
    (store_mod, ':lvar_1', ':lvar_0', 2)
    (val_div, ':lvar_0', 2)
    (set_fixed_point_multiplier, 100)
    (cur_tableau_clear_override_items)
    (try_begin)
      (eq, ':lvar_1', 1)
      (cur_tableau_set_override_flags, 15)
    (try_end)
    (init_position, 2)
    (cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000)
    (init_position, 5)
    (assign, ':lvar_2', 105)
    (assign, ':lvar_3', 450)
    (assign, ':lvar_4', 15)
    (assign, ':lvar_5', -18)
    (assign, ':lvar_6', 1)
    (troop_get_inventory_slot, ':lvar_7', ':lvar_0', 8)
    (try_begin)
      (gt, ':lvar_7', 0)
      (eq, ':lvar_1', 0)
      (cur_tableau_add_horse, ':lvar_7', 2, 406, 0)
      (assign, ':lvar_6', 65)
      (assign, ':lvar_4', 23)
      (assign, ':lvar_2', 150)
      (assign, ':lvar_3', 550)
    (try_end)
    (position_set_z, 5, ':lvar_2')
    (position_rotate_x, 5, -90)
    (position_rotate_z, 5, 180)
    (position_rotate_y, 5, ':lvar_4')
    (position_rotate_x, 5, ':lvar_5')
    (position_move_z, 5, ':lvar_3', 0)
    (position_move_x, 5, 5, 0)
    (try_begin)
      (troop_is_hero, ':lvar_0')
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_6', -1)
    (else_try)
      (store_mul, ':lvar_8', ':lvar_0', 126233)
      (val_mod, ':lvar_8', 1000)
      (val_add, ':lvar_8', 1)
      (cur_tableau_add_troop, ':lvar_0', 2, ':lvar_6', ':lvar_8')
    (try_end)
    (cur_tableau_set_camera_position, 5)
    (copy_position, 8, 5)
    (position_rotate_x, 8, -90)
    (position_rotate_z, 8, 30)
    (position_rotate_x, 8, -60)
    (cur_tableau_add_sun_light, 8, 175, 150, 125)
get_prosperity_text_to_s50=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 50)
    (val_div, ':lvar_1', 20)
    (try_begin)
      (eq, ':lvar_1', 0)
      (str_store_string, 50, '@qstr_339')
    (else_try)
      (eq, ':lvar_1', 1)
      (str_store_string, 50, '@qstr_340')
    (else_try)
      (eq, ':lvar_1', 2)
      (str_store_string, 50, '@qstr_341')
    (else_try)
      (eq, ':lvar_1', 3)
      (str_store_string, 50, '@qstr_342')
    (else_try)
      (str_store_string, 50, '@qstr_343')
    (try_end)
spawn_bandits=>
    (set_spawn_radius, 1)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 11)
      (lt, ':lvar_0', 16)
      (store_random_in_range, ':lvar_1', 0, 100)
      (try_begin)
        (lt, ':lvar_1', 75)
        (store_random, ':lvar_2', 3)
        (val_add, ':lvar_2', 242)
      (else_try)
        (store_random_in_range, ':lvar_2', 114, 204)
      (try_end)
      (spawn_around_party, ':lvar_2', 11)
    (try_end)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 9)
      (lt, ':lvar_0', 16)
      (store_random_in_range, ':lvar_1', 0, 100)
      (try_begin)
        (lt, ':lvar_1', 75)
        (store_random, ':lvar_2', 3)
        (val_add, ':lvar_2', 239)
      (else_try)
        (store_random_in_range, ':lvar_2', 114, 204)
      (try_end)
      (spawn_around_party, ':lvar_2', 9)
    (try_end)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 10)
      (lt, ':lvar_0', 16)
      (store_random_in_range, ':lvar_1', 0, 100)
      (try_begin)
        (lt, ':lvar_1', 75)
        (store_random, ':lvar_2', 3)
        (val_add, ':lvar_2', 245)
      (else_try)
        (store_random_in_range, ':lvar_2', 114, 204)
      (try_end)
      (spawn_around_party, ':lvar_2', 10)
    (try_end)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 8)
      (lt, ':lvar_0', 16)
      (store_random_in_range, ':lvar_1', 0, 100)
      (try_begin)
        (lt, ':lvar_1', 75)
        (store_random, ':lvar_2', 3)
        (val_add, ':lvar_2', 236)
      (else_try)
        (store_random_in_range, ':lvar_2', 114, 204)
      (try_end)
      (spawn_around_party, ':lvar_2', 8)
    (try_end)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 6)
      (lt, ':lvar_0', 20)
      (store_random_in_range, ':lvar_2', 114, 204)
      (spawn_around_party, ':lvar_2', 6)
      (assign, ':lvar_3', reg0)
      (try_begin)
        (check_quest_active, 38)
        (party_set_flags, ':lvar_3', 262144, 1)
      (else_try)
        (party_set_flags, ':lvar_3', 262144, 0)
      (try_end)
    (try_end)
    (try_begin)
      (store_num_parties_of_template, ':lvar_0', 12)
      (lt, ':lvar_0', 20)
      (set_spawn_radius, 4)
      (try_for_range, ':lvar_4', 405, 530)
        (store_random_in_range, ':lvar_5', 0, 100)
        (lt, ':lvar_5', 5)
        (troop_get_slot, ':lvar_6', ':lvar_4', 10)
        (store_troop_faction, ':lvar_7', ':lvar_4')
        (neq, ':lvar_7', 15)
        (gt, ':lvar_6', 0)
        (neg|party_is_in_any_town, ':lvar_6')
        (spawn_around_party, ':lvar_6', 12)
        (assign, ':lvar_8', reg0)
        (store_troop_faction, ':lvar_9', ':lvar_4')
        (faction_get_slot, ':lvar_10', ':lvar_9', 41)
        (try_begin)
          (eq, ':lvar_7', 16)
          (store_random_in_range, ':lvar_11', 0, 3)
          (try_begin)
            (eq, ':lvar_11', 0)
            (assign, ':lvar_10', 150)
          (else_try)
            (eq, ':lvar_11', 1)
            (assign, ':lvar_10', 149)
          (else_try)
            (ge, ':lvar_11', 2)
            (assign, ':lvar_10', 144)
          (try_end)
        (try_end)
        (store_character_level, ':lvar_12', 0)
        (store_mul, ':lvar_13', ':lvar_12', 2)
        (val_add, ':lvar_13', 11)
        (store_random_in_range, ':lvar_14', 10, ':lvar_13')
        (party_add_members, ':lvar_8', ':lvar_10', ':lvar_14')
        (store_random_in_range, ':lvar_5', 1, 4)
        (try_for_range, ':lvar_15', 0, ':lvar_5')
          (party_upgrade_with_xp, ':lvar_8', 1000000, 0)
        (try_end)
        (try_begin)
          (eq, ':lvar_9', 16)
          (party_set_icon, ':lvar_8', 7)
        (else_try)
          (eq, ':lvar_9', 17)
          (party_set_icon, ':lvar_8', 18)
        (else_try)
          (eq, ':lvar_9', 18)
          (party_set_icon, ':lvar_8', 28)
        (try_end)
      (try_end)
    (try_end)
count_mission_casualties_from_agents=>
    (party_clear, 12)
    (party_clear, 13)
    (party_clear, 14)
    (assign, '$gvar_620', 0)
    (try_for_agents, ':lvar_0')
      (agent_is_human, ':lvar_0')
      (agent_get_party_id, ':lvar_1', ':lvar_0')
      (try_begin)
        (neq, ':lvar_1', 0)
        (agent_get_troop_id, ':lvar_2', ':lvar_0')
        (neq, ':lvar_2', 0)
        (agent_is_ally, ':lvar_0')
        (assign, '$gvar_620', 1)
      (try_end)
      (neg|agent_is_alive, ':lvar_0')
      (agent_get_troop_id, ':lvar_2', ':lvar_0')
      (try_begin)
        (this_or_next|eq, ':lvar_2', 0)
        (eq, ':lvar_1', 0)
        (party_add_members, 12, ':lvar_2', 1)
        (try_begin)
          (agent_is_wounded, ':lvar_0')
          (party_wound_members, 12, ':lvar_2', 1)
        (try_end)
      (else_try)
        (agent_is_ally, ':lvar_0')
        (party_add_members, 14, ':lvar_2', 1)
        (try_begin)
          (agent_is_wounded, ':lvar_0')
          (party_wound_members, 14, ':lvar_2', 1)
        (try_end)
      (else_try)
        (party_add_members, 13, ':lvar_2', 1)
        (try_begin)
          (agent_is_wounded, ':lvar_0')
          (party_wound_members, 13, ':lvar_2', 1)
        (try_end)
      (try_end)
    (try_end)
get_max_skill_of_player_party=>
    (store_script_param, ':lvar_0', 1)
    (party_get_num_companion_stacks, ':lvar_1', 0)
    (store_skill_level, ':lvar_2', ':lvar_0', 0)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_5', 0, ':lvar_4')
      (troop_is_hero, ':lvar_5')
      (neg|troop_is_wounded, ':lvar_5')
      (store_skill_level, ':lvar_6', ':lvar_0', ':lvar_5')
      (gt, ':lvar_6', ':lvar_2')
      (assign, ':lvar_2', ':lvar_6')
      (assign, ':lvar_3', ':lvar_5')
    (try_end)
    (assign, reg0, ':lvar_2')
    (assign, reg1, ':lvar_3')
upgrade_hero_party=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (party_upgrade_with_xp, ':lvar_0', ':lvar_1', 0)
get_improvement_details=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (eq, ':lvar_0', 130)
      (str_store_string, 0, '@qstr_344')
      (str_store_string, 1, '@qstr_345')
      (assign, reg0, 6000)
    (else_try)
      (eq, ':lvar_0', 131)
      (str_store_string, 0, '@qstr_346')
      (str_store_string, 1, '@qstr_347')
      (assign, reg0, 4000)
    (else_try)
      (eq, ':lvar_0', 132)
      (str_store_string, 0, '@qstr_348')
      (str_store_string, 1, '@qstr_349')
      (assign, reg0, 3000)
    (else_try)
      (eq, ':lvar_0', 133)
      (str_store_string, 0, '@qstr_350')
      (str_store_string, 1, '@qstr_351')
      (assign, reg0, 5000)
    (else_try)
      (eq, ':lvar_0', 134)
      (str_store_string, 0, '@qstr_352')
      (str_store_string, 1, '@qstr_353')
      (assign, reg0, 2000)
    (else_try)
      (eq, ':lvar_0', 139)
      (str_store_string, 0, '@qstr_354')
      (str_store_string, 1, '@qstr_355')
      (assign, reg0, 4000)
    (else_try)
      (eq, ':lvar_0', 135)
      (str_store_string, 0, '@qstr_356')
      (str_store_string, 1, '@qstr_357')
      (assign, reg0, 6000)
    (else_try)
      (eq, ':lvar_0', 137)
      (str_store_string, 0, '@qstr_358')
      (str_store_string, 1, '@qstr_359')
      (assign, reg0, 5000)
    (else_try)
      (eq, ':lvar_0', 136)
      (str_store_string, 0, '@qstr_360')
      (str_store_string, 1, '@qstr_361')
      (assign, reg0, 7000)
    (else_try)
      (eq, ':lvar_0', 138)
      (str_store_string, 0, '@qstr_362')
      (str_store_string, 1, '@qstr_363')
      (assign, reg0, 4000)
    (try_end)
cf_troop_agent_is_alive=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (try_for_agents, ':lvar_2')
      (agent_get_troop_id, ':lvar_3', ':lvar_2')
      (eq, ':lvar_0', ':lvar_3')
      (agent_is_alive, ':lvar_2')
      (val_add, ':lvar_1', 1)
    (try_end)
    (gt, ':lvar_1', 0)
cf_minorplanet_recruit_clones_cond=>
    (neg|party_slot_eq, '$gvar_208', 35, 2)
    (neg|party_slot_eq, '$gvar_208', 35, 1)
    (neg|party_slot_ge, '$gvar_208', 39, 1)
    (party_slot_eq, '$gvar_208', 135, 1)
cf_minorplanet_recruit_force_sensitives_cond=>
    (neg|party_slot_eq, '$gvar_208', 35, 2)
    (neg|party_slot_eq, '$gvar_208', 35, 1)
    (neg|party_slot_ge, '$gvar_208', 39, 1)
    (party_slot_eq, '$gvar_208', 136, 1)
cf_minorplanet_recruit_droids_cond=>
    (neg|party_slot_eq, '$gvar_208', 35, 2)
    (neg|party_slot_eq, '$gvar_208', 35, 1)
    (neg|party_slot_ge, '$gvar_208', 39, 1)
    (party_slot_eq, '$gvar_208', 137, 1)
cf_minorplanet_recruit_rancors_cond=>
    (neg|party_slot_eq, '$gvar_208', 35, 2)
    (neg|party_slot_eq, '$gvar_208', 35, 1)
    (neg|party_slot_ge, '$gvar_208', 39, 1)
    (party_slot_eq, '$gvar_208', 138, 1)
cf_minorplanet_recruit_volunteers_cond=>
    (neg|party_slot_eq, '$gvar_208', 35, 2)
    (neg|party_slot_eq, '$gvar_208', 35, 1)
    (neg|party_slot_ge, '$gvar_208', 39, 1)
minorplanet_recruit_volunteers_clones=>
    (party_get_slot, ':lvar_0', '$gvar_208', 93)
    (party_get_free_companions_capacity, ':lvar_1', 0)
    (val_min, ':lvar_0', ':lvar_1')
    (store_troop_gold, ':lvar_2', 0)
    (store_div, ':lvar_3', ':lvar_2', 100)
    (val_min, ':lvar_0', ':lvar_3')
    (party_add_members, 0, 105, ':lvar_0')
    (party_set_slot, '$gvar_208', 93, -1)
    (store_mul, ':lvar_4', ':lvar_0', 100)
    (troop_remove_gold, 0, ':lvar_4')
minorplanet_recruit_volunteers_force_sensitives=>
    (party_get_slot, ':lvar_0', '$gvar_208', 93)
    (party_get_free_companions_capacity, ':lvar_1', 0)
    (val_min, ':lvar_0', ':lvar_1')
    (store_troop_gold, ':lvar_2', 0)
    (store_div, ':lvar_3', ':lvar_2', 170)
    (val_min, ':lvar_0', ':lvar_3')
    (store_faction_of_party, ':lvar_4', '$gvar_208')
    (try_begin)
      (eq, ':lvar_4', 16)
      (party_add_members, 0, 134, ':lvar_0')
    (else_try)
      (eq, ':lvar_4', 17)
      (party_add_members, 0, 161, ':lvar_0')
    (else_try)
      (party_add_members, 0, 132, ':lvar_0')
    (try_end)
    (party_set_slot, '$gvar_208', 93, -1)
    (store_mul, ':lvar_5', ':lvar_0', 150)
    (troop_remove_gold, 0, ':lvar_5')
minorplanet_recruit_volunteers_droids=>
    (party_get_slot, ':lvar_0', '$gvar_208', 93)
    (party_get_free_companions_capacity, ':lvar_1', 0)
    (val_min, ':lvar_0', ':lvar_1')
    (store_troop_gold, ':lvar_2', 0)
    (store_div, ':lvar_3', ':lvar_2', 160)
    (val_min, ':lvar_0', ':lvar_3')
    (party_add_members, 0, '$gvar_249', ':lvar_0')
    (party_set_slot, '$gvar_208', 93, -1)
    (store_mul, ':lvar_4', ':lvar_0', 50)
    (troop_remove_gold, 0, ':lvar_4')
minorplanet_recruit_volunteers_rancors=>
    (party_get_slot, ':lvar_0', '$gvar_208', 93)
    (party_get_free_companions_capacity, ':lvar_1', 0)
    (val_min, ':lvar_0', ':lvar_1')
    (store_troop_gold, ':lvar_2', 0)
    (store_div, ':lvar_3', ':lvar_2', 760)
    (val_min, ':lvar_0', ':lvar_3')
    (party_add_members, 0, 114, ':lvar_0')
    (party_set_slot, '$gvar_208', 93, -1)
    (store_mul, ':lvar_4', ':lvar_0', 500)
    (troop_remove_gold, 0, ':lvar_4')
minorplanet_recruit_volunteers_recruit=>
    (store_faction_of_party, ':lvar_0', '$gvar_208')
    (faction_get_slot, ':lvar_1', ':lvar_0', 41)
    (try_begin)
      (le, ':lvar_1', 0)
      (assign, ':lvar_1', 83)
    (try_end)
    (party_get_slot, ':lvar_2', '$gvar_208', 93)
    (party_get_free_companions_capacity, ':lvar_3', 0)
    (val_min, ':lvar_2', ':lvar_3')
    (store_troop_gold, ':lvar_4', 0)
    (store_div, ':lvar_5', ':lvar_4', 25)
    (val_min, ':lvar_2', ':lvar_5')
    (party_add_members, 0, ':lvar_1', ':lvar_2')
    (party_set_slot, '$gvar_208', 93, -1)
    (store_mul, ':lvar_6', ':lvar_2', 25)
    (troop_remove_gold, 0, ':lvar_6')
get_troop_item_amount=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_get_inventory_capacity, ':lvar_2', ':lvar_0')
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 0, ':lvar_2')
      (troop_get_inventory_slot, ':lvar_5', ':lvar_0', ':lvar_4')
      (eq, ':lvar_5', ':lvar_1')
      (val_add, ':lvar_3', 1)
    (try_end)
    (assign, reg0, ':lvar_3')
get_name_from_dna_to_s50=>
    (store_script_param, ':lvar_0', 1)
    (store_sub, ':lvar_1', 216172782113784122, 216172782113784097)
    (store_sub, ':lvar_2', 216172782113784163, 216172782113784122)
    (assign, ':lvar_3', ':lvar_0')
    (val_mod, ':lvar_3', ':lvar_1')
    (assign, ':lvar_4', ':lvar_0')
    (val_div, ':lvar_4', ':lvar_1')
    (val_mod, ':lvar_4', ':lvar_2')
    (val_add, ':lvar_3', 216172782113784097)
    (val_add, ':lvar_4', 216172782113784122)
    (str_store_string, 50, ':lvar_3')
    (str_store_string, 50, ':lvar_4')
change_center_prosperity=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (party_get_slot, ':lvar_2', ':lvar_0', 50)
    (store_add, ':lvar_3', ':lvar_2', ':lvar_1')
    (val_clamp, ':lvar_3', 0, 100)
    (store_div, ':lvar_4', ':lvar_2', 20)
    (store_div, ':lvar_5', ':lvar_3', 20)
    (try_begin)
      (neq, ':lvar_4', ':lvar_5')
      (str_store_party_name_link, 2, ':lvar_0')
      (call_script, 289, ':lvar_0')
      (str_store_string, 3, 50)
      (party_set_slot, ':lvar_0', 50, ':lvar_3')
      (call_script, 289, ':lvar_0')
      (str_store_string, 4, 50)
      (call_script, 385, 9, ':lvar_0')
      (display_message, '@qstr_364', reg20)
      (call_script, 281, ':lvar_0')
    (else_try)
      (party_set_slot, ':lvar_0', 50, ':lvar_3')
    (try_end)
get_center_ideal_prosperity=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 40)
    (try_begin)
      (is_between, ':lvar_0', 114, 204)
      (try_begin)
        (party_slot_eq, ':lvar_0', 131, 1)
        (val_add, ':lvar_1', 5)
      (try_end)
      (party_get_slot, ':lvar_2', ':lvar_0', 44)
      (val_mul, ':lvar_2', 3)
      (val_add, ':lvar_1', ':lvar_2')
      (party_get_slot, ':lvar_3', ':lvar_0', 45)
      (val_div, ':lvar_3', 20)
      (val_add, ':lvar_1', ':lvar_3')
    (else_try)
      (try_for_range, ':lvar_4', 114, 204)
        (party_slot_eq, ':lvar_4', 120, ':lvar_0')
        (party_get_slot, ':lvar_5', ':lvar_4', 50)
        (val_div, ':lvar_5', 20)
        (val_add, ':lvar_1', ':lvar_5')
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_1')
get_poorest_minorplanet_of_faction=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', -1)
    (assign, ':lvar_2', 101)
    (try_for_range, ':lvar_3', 114, 204)
      (store_faction_of_party, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', ':lvar_0')
      (party_get_slot, ':lvar_5', ':lvar_3', 50)
      (lt, ':lvar_5', ':lvar_2')
      (assign, ':lvar_2', ':lvar_5')
      (assign, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_1')
troop_add_gold=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_add_gold, ':lvar_0', ':lvar_1')
    (try_begin)
      (eq, ':lvar_0', 0)
      (play_sound, 11)
    (try_end)
initialize_npcs=>
    (troop_set_slot, 386, 62, 2)
    (troop_set_slot, 386, 63, 4)
    (troop_set_slot, 386, 64, 1)
    (troop_set_slot, 386, 66, -1)
    (troop_set_slot, 386, 71, 392)
    (troop_set_slot, 386, 73, 401)
    (troop_set_slot, 386, 75, 387)
    (troop_set_slot, 386, 60, 184)
    (troop_set_slot, 386, 132, 300)
    (troop_set_slot, 387, 62, 3)
    (troop_set_slot, 387, 63, 2)
    (troop_set_slot, 387, 64, 4)
    (troop_set_slot, 387, 66, 1)
    (troop_set_slot, 387, 71, 390)
    (troop_set_slot, 387, 73, 394)
    (troop_set_slot, 387, 75, 386)
    (troop_set_slot, 387, 60, 46)
    (troop_set_slot, 387, 132, 0)
    (troop_set_slot, 388, 62, 3)
    (troop_set_slot, 388, 63, 4)
    (troop_set_slot, 388, 64, 1)
    (troop_set_slot, 388, 66, -1)
    (troop_set_slot, 388, 71, 399)
    (troop_set_slot, 388, 73, 393)
    (troop_set_slot, 388, 75, 394)
    (troop_set_slot, 388, 60, 48)
    (troop_set_slot, 388, 132, 0)
    (troop_set_slot, 389, 62, 1)
    (troop_set_slot, 389, 63, 4)
    (troop_set_slot, 389, 64, 4)
    (troop_set_slot, 389, 66, -1)
    (troop_set_slot, 389, 71, 395)
    (troop_set_slot, 389, 73, 392)
    (troop_set_slot, 389, 75, 390)
    (troop_set_slot, 389, 60, 147)
    (troop_set_slot, 389, 132, 300)
    (troop_set_slot, 390, 62, 2)
    (troop_set_slot, 390, 63, 3)
    (troop_set_slot, 390, 64, -1)
    (troop_set_slot, 390, 66, 0)
    (troop_set_slot, 390, 71, 387)
    (troop_set_slot, 390, 73, 396)
    (troop_set_slot, 390, 75, 389)
    (troop_set_slot, 390, 60, 59)
    (troop_set_slot, 390, 132, 400)
    (troop_set_slot, 391, 62, 3)
    (troop_set_slot, 391, 63, 2)
    (troop_set_slot, 391, 64, 4)
    (troop_set_slot, 391, 66, 1)
    (troop_set_slot, 391, 71, 396)
    (troop_set_slot, 391, 73, 398)
    (troop_set_slot, 391, 75, 397)
    (troop_set_slot, 391, 60, 49)
    (troop_set_slot, 391, 132, 0)
    (troop_set_slot, 392, 62, 2)
    (troop_set_slot, 392, 63, 3)
    (troop_set_slot, 392, 64, -1)
    (troop_set_slot, 392, 66, 0)
    (troop_set_slot, 392, 71, 386)
    (troop_set_slot, 392, 73, 389)
    (troop_set_slot, 392, 75, 401)
    (troop_set_slot, 392, 60, 118)
    (troop_set_slot, 393, 62, 1)
    (troop_set_slot, 393, 63, 3)
    (troop_set_slot, 393, 64, -1)
    (troop_set_slot, 393, 66, 0)
    (troop_set_slot, 393, 71, 397)
    (troop_set_slot, 393, 73, 388)
    (troop_set_slot, 393, 75, 398)
    (troop_set_slot, 393, 60, 246)
    (troop_set_slot, 393, 132, 500)
    (troop_set_slot, 394, 62, 1)
    (troop_set_slot, 394, 63, 2)
    (troop_set_slot, 394, 64, 4)
    (troop_set_slot, 394, 66, 1)
    (troop_set_slot, 394, 71, 398)
    (troop_set_slot, 394, 73, 387)
    (troop_set_slot, 394, 75, 388)
    (troop_set_slot, 394, 60, 58)
    (troop_set_slot, 394, 132, 300)
    (troop_set_slot, 395, 62, 3)
    (troop_set_slot, 395, 63, 2)
    (troop_set_slot, 395, 64, 2)
    (troop_set_slot, 395, 66, 1)
    (troop_set_slot, 395, 71, 389)
    (troop_set_slot, 395, 73, 399)
    (troop_set_slot, 395, 75, 396)
    (troop_set_slot, 395, 60, 99)
    (troop_set_slot, 395, 132, 200)
    (troop_set_slot, 396, 62, 2)
    (troop_set_slot, 396, 63, 3)
    (troop_set_slot, 396, 64, -1)
    (troop_set_slot, 396, 66, 0)
    (troop_set_slot, 396, 71, 391)
    (troop_set_slot, 396, 73, 390)
    (troop_set_slot, 396, 75, 395)
    (troop_set_slot, 396, 60, 51)
    (troop_set_slot, 396, 132, 100)
    (troop_set_slot, 397, 62, 3)
    (troop_set_slot, 397, 63, 3)
    (troop_set_slot, 397, 64, -1)
    (troop_set_slot, 397, 66, 0)
    (troop_set_slot, 397, 71, 393)
    (troop_set_slot, 397, 73, 400)
    (troop_set_slot, 397, 75, 391)
    (troop_set_slot, 397, 60, 87)
    (troop_set_slot, 397, 132, 0)
    (troop_set_slot, 398, 62, 1)
    (troop_set_slot, 398, 63, 3)
    (troop_set_slot, 398, 64, -1)
    (troop_set_slot, 398, 66, 0)
    (troop_set_slot, 398, 71, 394)
    (troop_set_slot, 398, 73, 391)
    (troop_set_slot, 398, 75, 393)
    (troop_set_slot, 398, 60, 86)
    (troop_set_slot, 398, 132, 300)
    (troop_set_slot, 399, 62, 1)
    (troop_set_slot, 399, 63, 4)
    (troop_set_slot, 399, 64, 2)
    (troop_set_slot, 399, 66, -1)
    (troop_set_slot, 399, 71, 388)
    (troop_set_slot, 399, 73, 395)
    (troop_set_slot, 399, 75, 400)
    (troop_set_slot, 399, 60, 89)
    (troop_set_slot, 399, 132, 400)
    (troop_set_slot, 400, 62, 2)
    (troop_set_slot, 400, 63, 2)
    (troop_set_slot, 400, 64, 4)
    (troop_set_slot, 400, 66, 1)
    (troop_set_slot, 400, 71, 401)
    (troop_set_slot, 400, 73, 397)
    (troop_set_slot, 400, 75, 399)
    (troop_set_slot, 400, 60, 73)
    (troop_set_slot, 400, 132, 300)
    (troop_set_slot, 401, 62, 1)
    (troop_set_slot, 401, 63, 4)
    (troop_set_slot, 401, 64, 3)
    (troop_set_slot, 401, 66, -1)
    (troop_set_slot, 401, 71, 400)
    (troop_set_slot, 401, 73, 386)
    (troop_set_slot, 401, 75, 392)
    (troop_set_slot, 401, 60, 133)
    (troop_set_slot, 401, 132, 200)
    (troop_set_slot, 402, 62, 3)
    (troop_set_slot, 402, 63, 2)
    (troop_set_slot, 402, 64, 4)
    (troop_set_slot, 402, 66, 1)
    (troop_set_slot, 402, 71, 396)
    (troop_set_slot, 402, 73, 398)
    (troop_set_slot, 402, 75, 397)
    (troop_set_slot, 402, 60, 49)
    (troop_set_slot, 402, 132, 0)
    (troop_set_slot, 403, 62, 3)
    (troop_set_slot, 403, 63, 2)
    (troop_set_slot, 403, 64, 4)
    (troop_set_slot, 403, 66, 1)
    (troop_set_slot, 403, 71, 396)
    (troop_set_slot, 403, 73, 398)
    (troop_set_slot, 403, 75, 397)
    (troop_set_slot, 403, 60, 49)
    (troop_set_slot, 403, 132, 0)
    (store_sub, '$gvar_621', 131, 101)
    (try_for_range, ':lvar_0', 386, 404)
      (try_for_range, ':lvar_1', 0, '$gvar_621')
        (store_add, ':lvar_2', ':lvar_1', 101)
        (store_mul, ':lvar_3', ':lvar_1', 18)
        (store_add, ':lvar_4', 216172782113784216, ':lvar_3')
        (val_add, ':lvar_4', ':lvar_0')
        (val_sub, ':lvar_4', 386)
        (troop_set_slot, ':lvar_0', ':lvar_2', ':lvar_4')
      (try_end)
    (try_end)
    (try_for_range, ':lvar_5', 408, 530)
      (store_random_in_range, ':lvar_6', 0, 8)
      (try_begin)
        (eq, ':lvar_6', 0)
        (assign, ':lvar_6', 1)
      (try_end)
      (troop_set_slot, ':lvar_5', 52, ':lvar_6')
    (try_end)
    (call_script, 353, 31, 0, -1, -1, -1)
    (try_for_range, ':lvar_7', 530, 530)
      (troop_set_slot, ':lvar_7', 52, 0)
    (try_end)
objectionable_action=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (assign, ':lvar_2', -2)
    (try_for_range, ':lvar_3', 386, 404)
      (main_party_has_troop, ':lvar_3')
      (try_begin)
        (troop_slot_eq, ':lvar_3', 62, ':lvar_0')
        (troop_get_slot, ':lvar_4', ':lvar_3', 63)
        (try_begin)
          (troop_slot_eq, ':lvar_3', 61, 1)
          (troop_get_slot, ':lvar_5', ':lvar_3', 69)
          (val_mul, ':lvar_4', 2)
          (val_add, ':lvar_5', ':lvar_4')
          (troop_set_slot, ':lvar_3', 69, ':lvar_5')
        (else_try)
          (this_or_next|troop_slot_eq, ':lvar_3', 61, 2)
          (eq, '$gvar_575', 1)
          (troop_get_slot, ':lvar_5', ':lvar_3', 69)
          (val_add, ':lvar_5', ':lvar_4')
          (troop_set_slot, ':lvar_3', 69, ':lvar_5')
        (else_try)
          (troop_slot_eq, ':lvar_3', 61, 0)
          (gt, ':lvar_4', ':lvar_2')
          (assign, '$gvar_44', ':lvar_3')
          (assign, '$gvar_622', ':lvar_1')
          (assign, '$gvar_623', 61)
          (assign, ':lvar_2', ':lvar_4')
          (assign, '$gvar_624', 0)
          (try_begin)
            (lt, ':lvar_4', 0)
            (assign, '$gvar_624', 1)
          (try_end)
        (try_end)
      (else_try)
        (troop_slot_eq, ':lvar_3', 64, ':lvar_0')
        (troop_get_slot, ':lvar_4', ':lvar_3', 66)
        (try_begin)
          (troop_slot_eq, ':lvar_3', 65, 1)
          (troop_get_slot, ':lvar_5', ':lvar_3', 69)
          (val_mul, ':lvar_4', 2)
          (val_add, ':lvar_5', ':lvar_4')
          (troop_set_slot, ':lvar_3', 69, ':lvar_5')
        (else_try)
          (this_or_next|troop_slot_eq, ':lvar_3', 65, 2)
          (eq, '$gvar_575', 1)
          (troop_get_slot, ':lvar_5', ':lvar_3', 69)
          (val_add, ':lvar_5', ':lvar_4')
          (troop_set_slot, ':lvar_3', 69, ':lvar_5')
        (else_try)
          (troop_slot_eq, ':lvar_3', 65, 0)
          (gt, ':lvar_4', ':lvar_2')
          (assign, '$gvar_44', ':lvar_3')
          (assign, '$gvar_622', ':lvar_1')
          (assign, '$gvar_623', 65)
          (assign, ':lvar_2', ':lvar_4')
          (assign, '$gvar_624', 0)
          (try_begin)
            (lt, ':lvar_4', 0)
            (assign, '$gvar_624', 1)
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (gt, '$gvar_44', 0)
        (eq, '$gvar_624', 0)
        (str_store_troop_name, 4, '$gvar_44')
        (display_message, '@qstr_365', 16776960)
      (try_end)
    (try_end)
post_battle_personality_clash_check=>
    (try_for_range, ':lvar_0', 386, 404)
      (eq, '$gvar_575', 0)
      (main_party_has_troop, ':lvar_0')
      (neg|troop_is_wounded, ':lvar_0')
      (troop_get_slot, ':lvar_1', ':lvar_0', 73)
      (main_party_has_troop, ':lvar_1')
      (neg|troop_is_wounded, ':lvar_1')
      (try_begin)
        (troop_slot_eq, ':lvar_0', 74, 0)
        (try_begin)
          (assign, '$gvar_45', ':lvar_0')
        (try_end)
      (try_end)
    (try_end)
    (try_for_range, ':lvar_0', 386, 404)
      (troop_slot_eq, ':lvar_0', 76, 0)
      (eq, '$gvar_575', 0)
      (main_party_has_troop, ':lvar_0')
      (neg|troop_is_wounded, ':lvar_0')
      (troop_get_slot, ':lvar_1', ':lvar_0', 75)
      (main_party_has_troop, ':lvar_1')
      (neg|troop_is_wounded, ':lvar_1')
      (assign, '$gvar_46', ':lvar_0')
    (try_end)
    (try_begin)
      (gt, '$gvar_45', 0)
      (assign, '$gvar_625', 74)
      (start_map_conversation, '$gvar_45')
    (else_try)
      (gt, '$gvar_46', 0)
      (assign, '$gvar_625', 76)
      (start_map_conversation, '$gvar_46')
    (try_end)
event_player_defeated_enemy_party=>
    (try_begin)
      (check_quest_active, 20)
      (neg|check_quest_concluded, 20)
      (party_slot_eq, '$gvar_181', 0, 11)
      (store_faction_of_party, ':lvar_0', '$gvar_181')
      (quest_slot_eq, 20, 3, ':lvar_0')
      (quest_get_slot, ':lvar_1', 20, 11)
      (quest_get_slot, ':lvar_2', 20, 10)
      (val_add, ':lvar_1', 1)
      (quest_set_slot, 20, 11, ':lvar_1')
      (try_begin)
        (ge, ':lvar_1', ':lvar_2')
        (quest_get_slot, ':lvar_3', 20, 3)
        (quest_get_slot, ':lvar_4', 20, 6)
        (store_troop_faction, ':lvar_5', ':lvar_4')
        (call_script, 163, ':lvar_3', ':lvar_5', 1)
        (call_script, 262, 20)
      (try_end)
    (try_end)
event_player_captured_as_prisoner=>
    (try_begin)
      (check_quest_active, 20)
      (neg|check_quest_concluded, 20)
      (quest_get_slot, ':lvar_0', 20, 3)
      (store_faction_of_party, ':lvar_1', '$gvar_63')
      (eq, ':lvar_0', ':lvar_1')
      (call_script, 263, 20)
    (try_end)
    (try_for_range, ':lvar_2', 405, 530)
      (troop_get_slot, ':lvar_3', ':lvar_2', 10)
      (gt, ':lvar_3', 0)
      (party_slot_eq, ':lvar_3', 30, 0)
      (call_script, 139, ':lvar_3', -1, -1)
      (party_set_slot, ':lvar_3', 30, -1)
      (assign, '$gvar_70', 1)
    (try_end)
npc_morale=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 69)
    (troop_get_slot, ':lvar_2', ':lvar_0', 77)
    (party_get_morale, ':lvar_3', 0)
    (store_sub, ':lvar_4', ':lvar_3', ':lvar_1')
    (val_sub, ':lvar_4', ':lvar_2')
    (val_add, ':lvar_4', 50)
    (assign, reg8, ':lvar_4')
    (val_mul, ':lvar_4', 3)
    (val_div, ':lvar_4', 4)
    (val_clamp, ':lvar_4', 0, 100)
    (assign, reg5, ':lvar_3')
    (assign, reg6, ':lvar_1')
    (assign, reg7, ':lvar_2')
    (assign, reg9, ':lvar_4')
    (try_begin)
      (lt, ':lvar_1', 3)
      (str_store_string, 7, 216172782113784204)
    (else_try)
      (lt, ':lvar_1', 15)
      (str_store_string, 7, 216172782113784205)
    (else_try)
      (lt, ':lvar_1', 30)
      (str_store_string, 7, 216172782113784206)
    (else_try)
      (lt, ':lvar_1', 45)
      (str_store_string, 7, 216172782113784207)
    (else_try)
      (str_store_string, 7, 216172782113784208)
    (try_end)
    (try_begin)
      (lt, ':lvar_2', 3)
      (str_store_string, 6, 216172782113784204)
    (else_try)
      (lt, ':lvar_2', 15)
      (str_store_string, 6, 216172782113784205)
    (else_try)
      (lt, ':lvar_2', 30)
      (str_store_string, 6, 216172782113784206)
    (else_try)
      (lt, ':lvar_2', 45)
      (str_store_string, 6, 216172782113784207)
    (else_try)
      (str_store_string, 6, 216172782113784208)
    (try_end)
    (try_begin)
      (gt, ':lvar_4', 80)
      (str_store_string, 8, 216172782113784204)
      (str_store_string, 63, 216172782113784210)
    (else_try)
      (gt, ':lvar_4', 60)
      (str_store_string, 8, 216172782113784205)
      (str_store_string, 63, 216172782113784211)
    (else_try)
      (gt, ':lvar_4', 40)
      (str_store_string, 8, 216172782113784206)
      (str_store_string, 63, 216172782113784212)
    (else_try)
      (gt, ':lvar_4', 20)
      (str_store_string, 8, 216172782113784207)
      (str_store_string, 63, 216172782113784213)
    (else_try)
      (str_store_string, 8, 216172782113784208)
      (str_store_string, 63, 216172782113784214)
    (try_end)
    (str_store_string, 21, 216172782113784203)
    (assign, reg0, ':lvar_4')
retire_companion=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (remove_member_from_party, ':lvar_0', 0)
    (troop_set_slot, ':lvar_0', 77, 0)
    (troop_set_slot, ':lvar_0', 69, 0)
    (troop_get_slot, ':lvar_2', 0, 7)
    (store_add, ':lvar_3', ':lvar_2', ':lvar_1')
    (troop_set_slot, ':lvar_0', 2, 11)
    (troop_set_slot, ':lvar_0', 84, ':lvar_3')
reduce_companion_morale_for_clash=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (troop_get_slot, ':lvar_3', ':lvar_0', ':lvar_2')
    (troop_get_slot, ':lvar_4', ':lvar_0', 77)
    (troop_get_slot, ':lvar_5', ':lvar_1', 77)
    (try_begin)
      (eq, ':lvar_3', 1)
      (val_add, ':lvar_4', 5)
    (else_try)
      (eq, ':lvar_3', 2)
      (val_add, ':lvar_5', 5)
    (else_try)
      (eq, ':lvar_3', 3)
      (val_add, ':lvar_4', 3)
      (val_add, ':lvar_5', 3)
    (try_end)
    (troop_set_slot, ':lvar_0', 77, ':lvar_4')
    (troop_set_slot, ':lvar_1', 77, ':lvar_5')
calculate_ransom_amount_for_troop=>
    (store_script_param, ':lvar_0', 1)
    (store_troop_faction, ':lvar_1', ':lvar_0')
    (assign, ':lvar_2', 400)
    (try_begin)
      (faction_slot_eq, ':lvar_1', 10, ':lvar_0')
      (val_add, ':lvar_2', 4000)
    (try_end)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 46, 204)
      (party_slot_eq, ':lvar_4', 7, ':lvar_0')
      (try_begin)
        (party_slot_eq, ':lvar_4', 0, 3)
        (val_add, ':lvar_3', 4)
      (else_try)
        (party_slot_eq, ':lvar_4', 0, 2)
        (val_add, ':lvar_3', 2)
      (else_try)
        (val_add, ':lvar_3', 1)
      (try_end)
    (try_end)
    (val_mul, ':lvar_3', 500)
    (val_add, ':lvar_2', ':lvar_3')
    (troop_get_slot, ':lvar_5', ':lvar_0', 7)
    (val_mul, ':lvar_5', 2)
    (val_add, ':lvar_2', ':lvar_5')
    (store_mul, ':lvar_6', ':lvar_2', 3)
    (val_div, ':lvar_6', 2)
    (store_random_in_range, ':lvar_7', ':lvar_2', ':lvar_6')
    (val_div, ':lvar_7', 100)
    (val_mul, ':lvar_7', 100)
    (assign, reg0, ':lvar_7')
offer_ransom_amount_to_player_for_prisoners_in_party=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (party_get_num_prisoner_stacks, ':lvar_2', ':lvar_0')
    (try_for_range, ':lvar_3', 0, ':lvar_2')
      (eq, ':lvar_1', 0)
      (party_prisoner_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (troop_is_hero, ':lvar_4')
      (troop_slot_eq, ':lvar_4', 2, 2)
      (store_troop_faction, ':lvar_5', ':lvar_4')
      (store_random_in_range, ':lvar_6', 0, 100)
      (try_begin)
        (faction_slot_eq, ':lvar_5', 21, 0)
        (le, ':lvar_6', 5)
        (neq, '$gvar_60', 1)
        (assign, ':lvar_2', 0)
        (assign, ':lvar_1', 1)
        (assign, '$gvar_626', ':lvar_4')
        (assign, '$gvar_627', ':lvar_0')
        (jump_to_menu, 149)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_1')
event_hero_taken_prisoner_by_player=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (check_quest_active, 37)
      (try_begin)
        (quest_slot_eq, 37, 2, ':lvar_0')
        (val_mul, ':lvar_0', -1)
        (quest_set_slot, 37, 2, ':lvar_0')
        (val_mul, ':lvar_0', -1)
      (else_try)
        (quest_slot_eq, 37, 4, ':lvar_0')
        (val_mul, ':lvar_0', -1)
        (quest_set_slot, 37, 4, ':lvar_0')
        (val_mul, ':lvar_0', -1)
      (try_end)
      (neg|check_quest_concluded, 37)
      (neg|quest_slot_ge, 37, 2, 0)
      (neg|quest_slot_ge, 37, 4, 0)
      (call_script, 262, 37)
    (try_end)
    (call_script, 280, ':lvar_0', 0)
cf_check_hero_can_escape_from_player=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (check_quest_active, 37)
      (this_or_next|quest_slot_eq, 37, 2, ':lvar_0')
      (quest_slot_eq, 37, 4, ':lvar_0')
      (assign, ':lvar_1', 1)
    (try_end)
    (eq, ':lvar_1', 0)
    (store_random_in_range, ':lvar_2', 0, 100)
    (lt, ':lvar_2', 50)
cf_party_remove_random_regular_troop=>
    (store_script_param_1, ':lvar_0')
    (party_get_num_companion_stacks, ':lvar_1', ':lvar_0')
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (neg|troop_is_hero, ':lvar_4')
      (party_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_3')
      (val_add, ':lvar_2', ':lvar_5')
    (try_end)
    (assign, reg0, -1)
    (gt, ':lvar_2', 0)
    (store_random_in_range, ':lvar_6', 0, ':lvar_2')
    (try_for_range, ':lvar_3', 0, ':lvar_1')
      (party_stack_get_troop_id, ':lvar_4', ':lvar_0', ':lvar_3')
      (neg|troop_is_hero, ':lvar_4')
      (party_stack_get_size, ':lvar_5', ':lvar_0', ':lvar_3')
      (val_sub, ':lvar_6', ':lvar_5')
      (lt, ':lvar_6', 0)
      (assign, ':lvar_1', 0)
      (party_remove_members, ':lvar_0', ':lvar_4', 1)
      (assign, reg0, ':lvar_4')
    (try_end)
place_player_banner_near_inventory=>
    (troop_get_slot, ':lvar_0', 0, 13)
    (try_begin)
      (gt, ':lvar_0', 0)
      (scene_prop_get_instance, ':lvar_1', ':lvar_0', 0)
      (try_begin)
        (ge, ':lvar_1', 0)
        (get_player_agent_no, ':lvar_2')
        (agent_get_look_position, 1, ':lvar_2')
        (position_move_y, 1, -500)
        (position_rotate_z, 1, 180)
        (position_set_z_to_ground_level, 1)
        (position_move_z, 1, 300)
        (prop_instance_set_position, ':lvar_1', 1)
      (try_end)
      (scene_prop_get_instance, ':lvar_3', 591, 0)
      (try_begin)
        (ge, ':lvar_3', 0)
        (position_move_z, 1, -320)
        (prop_instance_set_position, ':lvar_3', 1)
      (try_end)
    (else_try)
      (init_position, 1)
      (position_move_z, 1, -1000000)
      (scene_prop_get_instance, ':lvar_1', 594, 0)
      (try_begin)
        (ge, ':lvar_1', 0)
        (prop_instance_set_position, ':lvar_1', 1)
      (try_end)
      (scene_prop_get_instance, ':lvar_3', 591, 0)
      (try_begin)
        (ge, ':lvar_3', 0)
        (prop_instance_set_position, ':lvar_3', 1)
      (try_end)
    (try_end)
place_player_banner_near_inventory_bms=>
    (troop_get_slot, ':lvar_0', 0, 13)
    (try_begin)
      (gt, ':lvar_0', 0)
      (replace_scene_props, 594, ':lvar_0')
    (try_end)
stay_captive_for_hours=>
    (store_script_param, ':lvar_0', 1)
    (store_current_hours, ':lvar_1')
    (val_add, ':lvar_1', ':lvar_0')
    (val_max, '$gvar_628', ':lvar_1')
    (val_add, ':lvar_0', 1)
    (rest_for_hours, ':lvar_0', 0, 0)
set_parties_around_player_ignore_player=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_for_parties, ':lvar_2')
      (party_is_active, ':lvar_2')
      (store_distance_to_party_from_party, ':lvar_3', 0, ':lvar_2')
      (lt, ':lvar_3', ':lvar_0')
      (party_ignore_player, ':lvar_2', ':lvar_1')
    (try_end)
randomly_make_prisoner_heroes_escape_from_party=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', -1)
    (assign, ':lvar_3', -1)
    (try_begin)
      (check_quest_active, 29)
      (quest_get_slot, ':lvar_2', 29, 2)
    (try_end)
    (try_begin)
      (check_quest_active, 30)
      (quest_get_slot, ':lvar_3', 30, 2)
    (try_end)
    (party_get_num_prisoner_stacks, ':lvar_4', ':lvar_0')
    (try_for_range_backwards, ':lvar_5', 0, ':lvar_4')
      (party_prisoner_stack_get_troop_id, ':lvar_6', ':lvar_0', ':lvar_5')
      (troop_is_hero, ':lvar_6')
      (neq, ':lvar_6', ':lvar_2')
      (neq, ':lvar_6', ':lvar_3')
      (troop_slot_eq, ':lvar_6', 2, 2)
      (store_random_in_range, ':lvar_7', 0, 1000)
      (lt, ':lvar_7', ':lvar_1')
      (party_remove_prisoners, ':lvar_0', ':lvar_6', 1)
      (call_script, 364, ':lvar_6')
      (str_store_troop_name_link, 1, ':lvar_6')
      (try_begin)
        (eq, ':lvar_0', 0)
        (str_store_string, 2, '@qstr_366')
      (else_try)
        (str_store_party_name, 2, ':lvar_0')
      (try_end)
      (assign, reg0, 0)
      (try_begin)
        (this_or_next|eq, ':lvar_0', 0)
        (party_slot_eq, ':lvar_0', 7, 0)
        (assign, reg0, 1)
      (try_end)
      (store_troop_faction, ':lvar_8', ':lvar_6')
      (str_store_faction_name_link, 3, ':lvar_8')
      (display_message, '@qstr_367', 16720418)
    (try_end)
fill_tournament_participants_troop=>
    (troop_set_slot, 5, 0, '$gvar_0')
    (try_for_range, ':lvar_0', 1, 64)
      (store_random_in_range, ':lvar_1', 0, 6)
      (try_begin)
        (eq, ':lvar_1', 0)
        (troop_set_slot, 5, ':lvar_0', 9)
      (else_try)
        (eq, ':lvar_1', 1)
        (troop_set_slot, 5, ':lvar_0', 10)
      (else_try)
        (eq, ':lvar_1', 2)
        (troop_set_slot, 5, ':lvar_0', 11)
      (else_try)
        (eq, ':lvar_1', 3)
        (troop_set_slot, 5, ':lvar_0', 12)
      (else_try)
        (eq, ':lvar_1', 4)
        (troop_set_slot, 5, ':lvar_0', 10)
      (else_try)
        (troop_set_slot, 5, ':lvar_0', 11)
      (try_end)
    (try_end)
get_num_tournament_participants=>
    (assign, ':lvar_0', 0)
    (try_for_range, ':lvar_1', 0, 64)
      (troop_slot_ge, 5, ':lvar_1', 0)
      (val_add, ':lvar_0', 1)
    (try_end)
    (assign, reg0, ':lvar_0')
get_random_tournament_participant=>
    (call_script, 331)
    (assign, ':lvar_0', reg0)
    (store_random_in_range, ':lvar_1', 0, ':lvar_0')
    (assign, ':lvar_2', 1)
    (try_for_range, ':lvar_3', 0, 64)
      (eq, ':lvar_2', 1)
      (troop_slot_ge, 5, ':lvar_3', 0)
      (val_sub, ':lvar_1', 1)
      (lt, ':lvar_1', 0)
      (assign, ':lvar_2', 0)
      (troop_get_slot, ':lvar_4', 5, ':lvar_3')
      (troop_set_slot, 5, ':lvar_3', -1)
    (try_end)
    (assign, reg0, ':lvar_4')
add_tournament_participant=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 1)
    (try_for_range, ':lvar_2', 0, 64)
      (eq, ':lvar_1', 1)
      (troop_slot_eq, 5, ':lvar_2', -1)
      (troop_set_slot, 5, ':lvar_2', ':lvar_0')
      (assign, ':lvar_1', 0)
    (try_end)
get_random_tournament_team_amount_and_size=>
    (call_script, 331)
    (assign, ':lvar_0', reg0)
    (party_get_slot, ':lvar_1', '$gvar_208', 151)
    (val_add, ':lvar_1', 1)
    (party_get_slot, ':lvar_2', '$gvar_208', 152)
    (val_add, ':lvar_2', 1)
    (assign, ':lvar_3', ':lvar_0')
    (val_min, ':lvar_3', ':lvar_1')
    (assign, ':lvar_4', ':lvar_0')
    (val_min, ':lvar_4', ':lvar_2')
    (assign, ':lvar_5', 1)
    (try_begin)
      (ge, ':lvar_0', 32)
      (assign, ':lvar_5', 2)
      (val_min, ':lvar_5', ':lvar_2')
    (try_end)
    (assign, ':lvar_6', 500)
    (try_for_range, ':lvar_7', 0, ':lvar_6')
      (store_random_in_range, ':lvar_8', 2, ':lvar_3')
      (store_random_in_range, ':lvar_9', ':lvar_5', ':lvar_4')
      (store_mul, ':lvar_10', ':lvar_8', ':lvar_9')
      (le, ':lvar_10', ':lvar_0')
      (store_sub, ':lvar_11', ':lvar_0', ':lvar_10')
      (neq, ':lvar_11', 1)
      (assign, ':lvar_6', 0)
    (try_end)
    (try_begin)
      (gt, ':lvar_6', 0)
      (assign, ':lvar_8', 2)
      (assign, ':lvar_9', 1)
    (try_end)
    (assign, reg0, ':lvar_8')
    (assign, reg1, ':lvar_9')
get_troop_priority_point_for_tournament=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (try_begin)
      (ge, ':lvar_0', 0)
      (val_add, ':lvar_1', 40000)
      (try_begin)
        (eq, ':lvar_0', 0)
        (val_add, ':lvar_1', 80000)
      (try_end)
      (try_begin)
        (troop_is_hero, ':lvar_0')
        (val_add, ':lvar_1', 20000)
      (try_end)
      (try_begin)
        (troop_slot_eq, ':lvar_0', 2, 3)
        (val_add, ':lvar_1', 10000)
      (else_try)
        (troop_slot_eq, ':lvar_0', 2, 2)
        (troop_get_slot, ':lvar_2', ':lvar_0', 7)
        (val_add, ':lvar_1', ':lvar_2')
        (val_add, ':lvar_1', 1000)
      (else_try)
        (store_character_level, ':lvar_3', ':lvar_0')
        (val_add, ':lvar_1', ':lvar_3')
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_1')
sort_tournament_participant_troops=>
    (try_for_range, ':lvar_0', 0, 63)
      (store_add, ':lvar_1', ':lvar_0', 1)
      (try_for_range, ':lvar_2', ':lvar_1', 64)
        (troop_get_slot, ':lvar_3', 5, ':lvar_0')
        (troop_get_slot, ':lvar_4', 5, ':lvar_2')
        (call_script, 335, ':lvar_3')
        (assign, ':lvar_5', reg0)
        (call_script, 335, ':lvar_4')
        (assign, ':lvar_6', reg0)
        (gt, ':lvar_6', ':lvar_5')
        (troop_set_slot, 5, ':lvar_0', ':lvar_4')
        (troop_set_slot, 5, ':lvar_2', ':lvar_3')
      (try_end)
    (try_end)
remove_tournament_participants_randomly=>
    (store_script_param, ':lvar_0', 1)
    (try_for_range, ':lvar_1', 0, ':lvar_0')
      (assign, ':lvar_2', 0)
      (try_for_range, ':lvar_3', 0, 64)
        (troop_get_slot, ':lvar_4', 5, ':lvar_3')
        (ge, ':lvar_4', 0)
        (store_character_level, ':lvar_5', ':lvar_4')
        (val_min, ':lvar_5', 38)
        (store_sub, ':lvar_6', 40, ':lvar_5')
        (val_add, ':lvar_2', ':lvar_6')
      (try_end)
      (store_random_in_range, ':lvar_7', 0, ':lvar_2')
      (assign, ':lvar_8', 1)
      (try_for_range, ':lvar_3', 0, 64)
        (eq, ':lvar_8', 1)
        (troop_get_slot, ':lvar_4', 5, ':lvar_3')
        (ge, ':lvar_4', 0)
        (store_character_level, ':lvar_5', ':lvar_4')
        (val_min, ':lvar_5', 38)
        (store_sub, ':lvar_6', 40, ':lvar_5')
        (val_sub, ':lvar_7', ':lvar_6')
        (lt, ':lvar_7', 0)
        (troop_set_slot, 5, ':lvar_3', -1)
        (assign, ':lvar_8', 0)
      (try_end)
    (try_end)
end_tournament_fight=>
    (store_script_param, ':lvar_0', 1)
    (call_script, 331)
    (assign, ':lvar_1', reg0)
    (store_div, ':lvar_2', ':lvar_1', 2)
    (call_script, 337, ':lvar_2')
    (assign, ':lvar_3', '$gvar_262')
    (val_div, ':lvar_3', 2)
    (get_player_agent_no, ':lvar_4')
    (agent_get_team, ':lvar_5', ':lvar_4')
    (try_for_agents, ':lvar_6')
      (agent_is_human, ':lvar_6')
      (agent_get_troop_id, ':lvar_7', ':lvar_6')
      (neg|is_between, ':lvar_7', 600, 627)
      (agent_get_team, ':lvar_8', ':lvar_6')
      (assign, ':lvar_9', 0)
      (try_begin)
        (eq, ':lvar_0', 1)
        (eq, ':lvar_8', ':lvar_5')
        (val_add, ':lvar_9', 5000000)
      (try_end)
      (agent_get_kill_count, ':lvar_10', ':lvar_6', 1)
      (store_mul, ':lvar_11', ':lvar_10', 160000)
      (val_add, ':lvar_9', ':lvar_11')
      (call_script, 335, ':lvar_7')
      (val_add, ':lvar_9', reg0)
      (try_begin)
        (eq, ':lvar_6', ':lvar_4')
        (eq, ':lvar_0', 0)
        (assign, ':lvar_12', 1)
        (try_begin)
          (ge, ':lvar_10', 2)
          (assign, ':lvar_12', 0)
        (else_try)
          (eq, ':lvar_10', 1)
          (le, '$gvar_254', 1)
          (assign, ':lvar_12', 0)
        (try_end)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_9', 0)
      (try_end)
      (agent_set_slot, ':lvar_6', 6, ':lvar_9')
    (try_end)
    (try_for_range, ':lvar_13', 0, ':lvar_3')
      (assign, ':lvar_14', 0)
      (assign, ':lvar_15', -1)
      (try_for_agents, ':lvar_6')
        (agent_is_human, ':lvar_6')
        (agent_get_slot, ':lvar_16', ':lvar_6', 6)
        (gt, ':lvar_16', ':lvar_14')
        (assign, ':lvar_15', ':lvar_6')
        (assign, ':lvar_14', ':lvar_16')
      (try_end)
      (agent_set_slot, ':lvar_15', 6, 0)
      (agent_get_troop_id, ':lvar_7', ':lvar_15')
      (call_script, 333, ':lvar_7')
    (try_end)
    (assign, '$gvar_255', ':lvar_0')
    (jump_to_menu, 121)
get_win_amount_for_tournament_bet=>
    (party_get_slot, ':lvar_0', '$gvar_208', 51)
    (try_begin)
      (eq, '$gvar_254', 0)
      (assign, ':lvar_1', 120)
    (else_try)
      (eq, '$gvar_254', 1)
      (assign, ':lvar_1', 90)
    (else_try)
      (eq, '$gvar_254', 2)
      (assign, ':lvar_1', 60)
    (else_try)
      (eq, '$gvar_254', 3)
      (assign, ':lvar_1', 40)
    (else_try)
      (eq, '$gvar_254', 4)
      (assign, ':lvar_1', 20)
    (else_try)
      (assign, ':lvar_1', 8)
    (try_end)
    (val_mul, ':lvar_1', ':lvar_0')
    (val_div, ':lvar_1', 100)
    (val_add, ':lvar_1', 100)
    (assign, reg0, ':lvar_1')
tournament_place_bet=>
    (store_script_param, ':lvar_0', 1)
    (call_script, 339)
    (assign, ':lvar_1', reg0)
    (val_mul, ':lvar_1', ':lvar_0')
    (val_div, ':lvar_1', 100)
    (val_sub, ':lvar_1', ':lvar_0')
    (val_add, '$gvar_256', ':lvar_0')
    (val_add, '$gvar_257', ':lvar_1')
    (troop_remove_gold, 0, ':lvar_0')
    (assign, '$gvar_258', '$gvar_254')
calculate_amount_of_cattle_can_be_stolen=>
    (store_script_param, ':lvar_0', 1)
    (call_script, 292, 22)
    (assign, ':lvar_1', reg0)
    (store_mul, ':lvar_2', ':lvar_1', 2)
    (call_script, 71, 0)
    (store_add, ':lvar_3', reg0, 10)
    (val_div, ':lvar_3', 10)
    (val_add, ':lvar_2', ':lvar_3')
    (party_get_slot, ':lvar_4', ':lvar_0', 45)
    (val_min, ':lvar_2', ':lvar_4')
    (assign, reg0, ':lvar_2')
draw_banner_to_region=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_script_param, ':lvar_4', 5)
    (store_script_param, ':lvar_5', 6)
    (store_script_param, ':lvar_6', 7)
    (store_script_param, ':lvar_7', 8)
    (store_script_param, ':lvar_8', 9)
    (store_script_param, ':lvar_9', 10)
    (troop_get_slot, ':lvar_10', ':lvar_0', 91)
    (val_add, ':lvar_10', 91)
    (troop_get_slot, ':lvar_11', ':lvar_0', 85)
    (troop_get_slot, ':lvar_12', ':lvar_0', 86)
    (troop_get_slot, ':lvar_13', ':lvar_0', 97)
    (troop_get_slot, ':lvar_14', ':lvar_0', 98)
    (call_script, 343, ':lvar_0')
    (assign, ':lvar_15', reg0)
    (val_mod, ':lvar_14', ':lvar_15')
    (init_position, 2)
    (position_set_x, 2, ':lvar_3')
    (position_set_y, 2, ':lvar_4')
    (assign, ':lvar_16', 1)
    (convert_to_fixed_point, ':lvar_16')
    (position_set_z, 2, ':lvar_16')
    (init_position, 1)
    (position_set_x, 1, ':lvar_1')
    (position_set_y, 1, ':lvar_2')
    (position_move_z, 1, -20)
    (init_position, 3)
    (position_set_x, 3, ':lvar_7')
    (position_set_y, 3, ':lvar_7')
    (position_set_z, 3, ':lvar_16')
    (try_begin)
      (this_or_next|eq, ':lvar_10', 91)
      (this_or_next|eq, ':lvar_10', 92)
      (this_or_next|eq, ':lvar_10', 93)
      (this_or_next|eq, ':lvar_10', 94)
      (this_or_next|eq, ':lvar_10', 99)
      (this_or_next|eq, ':lvar_10', 100)
      (this_or_next|eq, ':lvar_10', 101)
      (this_or_next|eq, ':lvar_10', 102)
      (this_or_next|eq, ':lvar_10', 103)
      (this_or_next|eq, ':lvar_10', 104)
      (this_or_next|eq, ':lvar_10', 107)
      (eq, ':lvar_10', 108)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, ':lvar_10', 1, 2, 0, ':lvar_11')
    (else_try)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, ':lvar_10', 1, 3, 0, ':lvar_11')
    (try_end)
    (position_move_z, 1, -20)
    (position_move_x, 2, ':lvar_3')
    (position_move_y, 2, ':lvar_4')
    (cur_tableau_add_mesh_with_scale_and_vertex_color, 91, 1, 2, 0, ':lvar_12')
    (assign, ':lvar_17', ':lvar_5')
    (val_min, ':lvar_17', ':lvar_6')
    (val_min, ':lvar_17', ':lvar_8')
    (call_script, 344, 0, ':lvar_14')
    (try_begin)
      (this_or_next|eq, ':lvar_9', 2)
      (eq, ':lvar_9', 3)
      (assign, ':lvar_18', 0)
      (try_begin)
        (eq, ':lvar_13', 1)
        (assign, ':lvar_18', 1)
      (else_try)
        (eq, ':lvar_13', 2)
        (eq, ':lvar_14', 1)
        (assign, ':lvar_18', 1)
      (else_try)
        (eq, ':lvar_13', 3)
        (eq, ':lvar_14', 1)
        (assign, ':lvar_18', 1)
      (try_end)
      (try_begin)
        (eq, ':lvar_18', 1)
        (val_add, ':lvar_2', 30)
      (try_end)
    (try_end)
    (try_begin)
      (ge, ':lvar_13', 1)
      (val_mul, reg1, ':lvar_17')
      (val_div, reg1, 10000)
      (position_get_x, ':lvar_19', 0)
      (position_get_y, ':lvar_20', 0)
      (val_mul, ':lvar_19', ':lvar_5')
      (val_mul, ':lvar_20', ':lvar_6')
      (val_div, ':lvar_19', 10000)
      (val_div, ':lvar_20', 10000)
      (val_add, ':lvar_19', ':lvar_1')
      (val_add, ':lvar_20', ':lvar_2')
      (position_set_x, 0, ':lvar_19')
      (position_set_y, 0, ':lvar_20')
      (assign, ':lvar_21', reg1)
      (convert_to_fixed_point, ':lvar_21')
      (store_mul, ':lvar_22', ':lvar_21', -1)
      (init_position, 4)
      (position_set_x, 4, ':lvar_21')
      (position_set_y, 4, ':lvar_21')
      (position_set_z, 4, ':lvar_21')
      (store_div, ':lvar_23', reg0, 256)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 1)
        (eq, ':lvar_23', 3)
        (position_set_x, 4, ':lvar_22')
      (try_end)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 2)
        (eq, ':lvar_23', 3)
        (position_set_y, 4, ':lvar_22')
      (try_end)
      (val_mod, reg0, 256)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg0, 0, 4, 0, reg2)
    (try_end)
    (try_begin)
      (ge, ':lvar_13', 2)
      (val_mul, reg4, ':lvar_17')
      (val_div, reg4, 10000)
      (position_get_x, ':lvar_19', 1)
      (position_get_y, ':lvar_20', 1)
      (val_mul, ':lvar_19', ':lvar_5')
      (val_mul, ':lvar_20', ':lvar_6')
      (val_div, ':lvar_19', 10000)
      (val_div, ':lvar_20', 10000)
      (val_add, ':lvar_19', ':lvar_1')
      (val_add, ':lvar_20', ':lvar_2')
      (position_set_x, 1, ':lvar_19')
      (position_set_y, 1, ':lvar_20')
      (assign, ':lvar_21', reg4)
      (convert_to_fixed_point, ':lvar_21')
      (store_mul, ':lvar_22', ':lvar_21', -1)
      (init_position, 4)
      (position_set_x, 4, ':lvar_21')
      (position_set_y, 4, ':lvar_21')
      (position_set_z, 4, ':lvar_21')
      (store_div, ':lvar_23', reg3, 256)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 1)
        (eq, ':lvar_23', 3)
        (position_set_x, 4, ':lvar_22')
      (try_end)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 2)
        (eq, ':lvar_23', 3)
        (position_set_y, 4, ':lvar_22')
      (try_end)
      (val_mod, reg3, 256)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg3, 1, 4, 0, reg5)
    (try_end)
    (try_begin)
      (ge, ':lvar_13', 3)
      (val_mul, reg7, ':lvar_17')
      (val_div, reg7, 10000)
      (position_get_x, ':lvar_19', 2)
      (position_get_y, ':lvar_20', 2)
      (val_mul, ':lvar_19', ':lvar_5')
      (val_mul, ':lvar_20', ':lvar_6')
      (val_div, ':lvar_19', 10000)
      (val_div, ':lvar_20', 10000)
      (val_add, ':lvar_19', ':lvar_1')
      (val_add, ':lvar_20', ':lvar_2')
      (position_set_x, 2, ':lvar_19')
      (position_set_y, 2, ':lvar_20')
      (assign, ':lvar_21', reg7)
      (convert_to_fixed_point, ':lvar_21')
      (store_mul, ':lvar_22', ':lvar_21', -1)
      (init_position, 4)
      (position_set_x, 4, ':lvar_21')
      (position_set_y, 4, ':lvar_21')
      (position_set_z, 4, ':lvar_21')
      (store_div, ':lvar_23', reg6, 256)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 1)
        (eq, ':lvar_23', 3)
        (position_set_x, 4, ':lvar_22')
      (try_end)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 2)
        (eq, ':lvar_23', 3)
        (position_set_y, 4, ':lvar_22')
      (try_end)
      (val_mod, reg6, 256)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg6, 2, 4, 0, reg8)
    (try_end)
    (try_begin)
      (ge, ':lvar_13', 4)
      (val_mul, reg10, ':lvar_17')
      (val_div, reg10, 10000)
      (position_get_x, ':lvar_19', 3)
      (position_get_y, ':lvar_20', 3)
      (val_mul, ':lvar_19', ':lvar_5')
      (val_mul, ':lvar_20', ':lvar_6')
      (val_div, ':lvar_19', 10000)
      (val_div, ':lvar_20', 10000)
      (val_add, ':lvar_19', ':lvar_1')
      (val_add, ':lvar_20', ':lvar_2')
      (position_set_x, 3, ':lvar_19')
      (position_set_y, 3, ':lvar_20')
      (assign, ':lvar_21', reg10)
      (convert_to_fixed_point, ':lvar_21')
      (store_mul, ':lvar_22', ':lvar_21', -1)
      (init_position, 4)
      (position_set_x, 4, ':lvar_21')
      (position_set_y, 4, ':lvar_21')
      (position_set_z, 4, ':lvar_21')
      (store_div, ':lvar_23', reg9, 256)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 1)
        (eq, ':lvar_23', 3)
        (position_set_x, 4, ':lvar_22')
      (try_end)
      (try_begin)
        (this_or_next|eq, ':lvar_23', 2)
        (eq, ':lvar_23', 3)
        (position_set_y, 4, ':lvar_22')
      (try_end)
      (val_mod, reg9, 256)
      (cur_tableau_add_mesh_with_scale_and_vertex_color, reg9, 3, 4, 0, reg11)
    (try_end)
get_troop_custom_banner_num_positionings=>
    (store_script_param, ':lvar_0', 1)
    (troop_get_slot, ':lvar_1', ':lvar_0', 97)
    (try_begin)
      (eq, ':lvar_1', 1)
      (assign, ':lvar_2', 2)
    (else_try)
      (eq, ':lvar_1', 2)
      (assign, ':lvar_2', 4)
    (else_try)
      (eq, ':lvar_1', 3)
      (assign, ':lvar_2', 6)
    (else_try)
      (assign, ':lvar_2', 2)
    (try_end)
    (assign, reg0, ':lvar_2')
get_custom_banner_charge_type_position_scale_color=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_get_slot, ':lvar_2', ':lvar_0', 97)
    (init_position, 0)
    (init_position, 1)
    (init_position, 2)
    (init_position, 3)
    (troop_get_slot, reg0, ':lvar_0', 92)
    (val_add, reg0, 115)
    (troop_get_slot, reg2, ':lvar_0', 87)
    (troop_get_slot, reg3, ':lvar_0', 93)
    (val_add, reg3, 115)
    (troop_get_slot, reg5, ':lvar_0', 88)
    (troop_get_slot, reg6, ':lvar_0', 94)
    (val_add, reg6, 115)
    (troop_get_slot, reg8, ':lvar_0', 89)
    (troop_get_slot, reg9, ':lvar_0', 95)
    (val_add, reg9, 115)
    (troop_get_slot, reg11, ':lvar_0', 90)
    (try_begin)
      (eq, ':lvar_2', 1)
      (try_begin)
        (eq, ':lvar_1', 0)
        (assign, reg1, 100)
      (else_try)
        (assign, reg1, 50)
      (try_end)
    (else_try)
      (eq, ':lvar_2', 2)
      (try_begin)
        (eq, ':lvar_1', 0)
        (position_set_y, 0, 25)
        (position_set_y, 1, -25)
        (assign, reg1, 40)
        (assign, reg4, 40)
      (else_try)
        (eq, ':lvar_1', 1)
        (position_set_x, 0, -25)
        (position_set_x, 1, 25)
        (assign, reg1, 40)
        (assign, reg4, 40)
      (else_try)
        (eq, ':lvar_1', 2)
        (position_set_x, 0, -25)
        (position_set_y, 0, 25)
        (position_set_x, 1, 25)
        (position_set_y, 1, -25)
        (assign, reg1, 50)
        (assign, reg4, 50)
      (else_try)
        (position_set_x, 0, -25)
        (position_set_y, 0, -25)
        (position_set_x, 1, 25)
        (position_set_y, 1, 25)
        (assign, reg1, 50)
        (assign, reg4, 50)
      (try_end)
    (else_try)
      (eq, ':lvar_2', 3)
      (try_begin)
        (eq, ':lvar_1', 0)
        (position_set_y, 0, 33)
        (position_set_y, 2, -33)
        (assign, reg1, 30)
        (assign, reg4, 30)
        (assign, reg7, 30)
      (else_try)
        (eq, ':lvar_1', 1)
        (position_set_x, 0, -33)
        (position_set_x, 2, 33)
        (assign, reg1, 30)
        (assign, reg4, 30)
        (assign, reg7, 30)
      (else_try)
        (eq, ':lvar_1', 2)
        (position_set_x, 0, -30)
        (position_set_y, 0, 30)
        (position_set_x, 2, 30)
        (position_set_y, 2, -30)
        (assign, reg1, 35)
        (assign, reg4, 35)
        (assign, reg7, 35)
      (else_try)
        (eq, ':lvar_1', 3)
        (position_set_x, 0, -30)
        (position_set_y, 0, -30)
        (position_set_x, 2, 30)
        (position_set_y, 2, 30)
        (assign, reg1, 35)
        (assign, reg4, 35)
        (assign, reg7, 35)
      (else_try)
        (eq, ':lvar_1', 4)
        (position_set_x, 0, -25)
        (position_set_y, 0, -25)
        (position_set_y, 1, 25)
        (position_set_x, 2, 25)
        (position_set_y, 2, -25)
        (assign, reg1, 50)
        (assign, reg4, 50)
        (assign, reg7, 50)
      (else_try)
        (position_set_x, 0, -25)
        (position_set_y, 0, 25)
        (position_set_y, 1, -25)
        (position_set_x, 2, 25)
        (position_set_y, 2, 25)
        (assign, reg1, 50)
        (assign, reg4, 50)
        (assign, reg7, 50)
      (try_end)
    (else_try)
      (try_begin)
        (eq, ':lvar_1', 0)
        (position_set_x, 0, -25)
        (position_set_y, 0, 25)
        (position_set_x, 1, 25)
        (position_set_y, 1, 25)
        (position_set_x, 2, -25)
        (position_set_y, 2, -25)
        (position_set_x, 3, 25)
        (position_set_y, 3, -25)
        (assign, reg1, 50)
        (assign, reg4, 50)
        (assign, reg7, 50)
        (assign, reg10, 50)
      (else_try)
        (position_set_y, 0, 30)
        (position_set_x, 1, -30)
        (position_set_x, 2, 30)
        (position_set_y, 3, -30)
        (assign, reg1, 35)
        (assign, reg4, 35)
        (assign, reg7, 35)
        (assign, reg10, 35)
      (try_end)
    (try_end)
get_random_custom_banner=>
    (store_script_param, ':lvar_0', 1)
    (store_random_in_range, ':lvar_1', 1, 5)
    (troop_set_slot, ':lvar_0', 97, ':lvar_1')
    (store_random_in_range, ':lvar_2', 0, 42)
    (call_script, 346, ':lvar_2')
    (assign, ':lvar_3', reg0)
    (troop_set_slot, ':lvar_0', 85, ':lvar_3')
    (assign, ':lvar_4', 1)
    (try_for_range, ':lvar_5', 0, ':lvar_4')
      (store_random_in_range, ':lvar_2', 0, 42)
      (call_script, 346, ':lvar_2')
      (assign, ':lvar_6', reg0)
      (try_begin)
        (call_script, 347, ':lvar_3', ':lvar_6')
        (troop_set_slot, ':lvar_0', 86, ':lvar_6')
      (else_try)
        (val_add, ':lvar_4', 1)
      (try_end)
    (try_end)
    (assign, ':lvar_4', 4)
    (assign, ':lvar_7', 0)
    (try_for_range, ':lvar_5', 0, ':lvar_4')
      (store_random_in_range, ':lvar_2', 0, 42)
      (call_script, 346, ':lvar_2')
      (assign, ':lvar_8', reg0)
      (try_begin)
        (call_script, 347, ':lvar_8', ':lvar_3')
        (call_script, 347, ':lvar_8', ':lvar_6')
        (store_add, ':lvar_9', ':lvar_7', 87)
        (troop_set_slot, ':lvar_0', ':lvar_9', ':lvar_8')
        (store_random_in_range, ':lvar_10', 115, 161)
        (val_sub, ':lvar_10', 115)
        (store_add, ':lvar_9', ':lvar_7', 92)
        (troop_set_slot, ':lvar_0', ':lvar_9', ':lvar_10')
        (val_add, ':lvar_7', 1)
      (else_try)
        (val_add, ':lvar_4', 1)
      (try_end)
    (try_end)
    (store_random_in_range, ':lvar_11', 91, 115)
    (val_sub, ':lvar_11', 91)
    (troop_set_slot, ':lvar_0', 91, ':lvar_11')
    (store_random_in_range, ':lvar_12', 89, 91)
    (val_sub, ':lvar_12', 89)
    (troop_set_slot, ':lvar_0', 96, ':lvar_12')
    (store_random_in_range, ':lvar_13', 0, 4)
    (troop_set_slot, ':lvar_0', 98, ':lvar_13')
get_custom_banner_color_from_index=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 4278190080)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (store_mod, ':lvar_5', ':lvar_0', 7)
    (try_begin)
      (eq, ':lvar_5', 0)
      (assign, ':lvar_4', 255)
    (else_try)
      (eq, ':lvar_5', 1)
      (assign, ':lvar_2', 238)
    (else_try)
      (eq, ':lvar_5', 2)
      (assign, ':lvar_2', 251)
      (assign, ':lvar_3', 172)
    (else_try)
      (eq, ':lvar_5', 3)
      (assign, ':lvar_2', 95)
      (assign, ':lvar_4', 255)
    (else_try)
      (eq, ':lvar_5', 4)
      (assign, ':lvar_2', 5)
      (assign, ':lvar_3', 68)
    (else_try)
      (eq, ':lvar_5', 5)
      (assign, ':lvar_2', 238)
      (assign, ':lvar_3', 238)
      (assign, ':lvar_4', 238)
    (else_try)
      (assign, ':lvar_2', 34)
      (assign, ':lvar_3', 34)
      (assign, ':lvar_4', 34)
    (try_end)
    (store_div, ':lvar_6', ':lvar_0', 7)
    (store_sub, ':lvar_6', 8, ':lvar_6')
    (val_mul, ':lvar_2', ':lvar_6')
    (val_div, ':lvar_2', 8)
    (val_mul, ':lvar_3', ':lvar_6')
    (val_div, ':lvar_3', 8)
    (val_mul, ':lvar_4', ':lvar_6')
    (val_div, ':lvar_4', 8)
    (val_mul, ':lvar_3', 256)
    (val_mul, ':lvar_2', 65536)
    (val_add, ':lvar_1', ':lvar_4')
    (val_add, ':lvar_1', ':lvar_3')
    (val_add, ':lvar_1', ':lvar_2')
    (assign, reg0, ':lvar_1')
cf_check_color_visibility=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_mod, ':lvar_2', ':lvar_0', 256)
    (store_div, ':lvar_3', ':lvar_0', 256)
    (val_mod, ':lvar_3', 256)
    (store_div, ':lvar_4', ':lvar_0', 65536)
    (val_mod, ':lvar_4', 256)
    (store_mod, ':lvar_5', ':lvar_1', 256)
    (store_div, ':lvar_6', ':lvar_1', 256)
    (val_mod, ':lvar_6', 256)
    (store_div, ':lvar_7', ':lvar_1', 65536)
    (val_mod, ':lvar_7', 256)
    (store_sub, ':lvar_8', ':lvar_4', ':lvar_7')
    (val_abs, ':lvar_8')
    (store_sub, ':lvar_9', ':lvar_3', ':lvar_6')
    (val_abs, ':lvar_9')
    (store_sub, ':lvar_10', ':lvar_2', ':lvar_5')
    (val_abs, ':lvar_10')
    (assign, ':lvar_11', 0)
    (val_max, ':lvar_11', ':lvar_8')
    (val_max, ':lvar_11', ':lvar_9')
    (val_max, ':lvar_11', ':lvar_10')
    (ge, ':lvar_11', 64)
get_next_active_faction=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 19)
    (try_for_range, ':lvar_2', 15, ':lvar_1')
      (val_add, ':lvar_0', 1)
      (try_begin)
        (ge, ':lvar_0', 19)
        (assign, ':lvar_0', 15)
      (try_end)
      (faction_slot_eq, ':lvar_0', 21, 0)
      (neq, ':lvar_0', 15)
      (assign, ':lvar_1', 0)
    (try_end)
    (assign, reg0, ':lvar_0')
store_average_center_value_per_faction=>
    (store_sub, ':lvar_0', 73, 46)
    (store_sub, ':lvar_1', 114, 73)
    (assign, ':lvar_2', 0)
    (try_for_range, ':lvar_3', 15, 19)
      (faction_slot_eq, ':lvar_3', 21, 0)
      (val_add, ':lvar_2', 1)
    (try_end)
    (val_max, ':lvar_2', 1)
    (store_mul, '$gvar_629', ':lvar_0', 2)
    (val_add, '$gvar_629', ':lvar_1')
    (val_mul, '$gvar_629', 10)
    (val_div, '$gvar_629', ':lvar_2')
remove_cattles_if_herd_is_close_to_party=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', ':lvar_1')
    (try_for_parties, ':lvar_3')
      (gt, ':lvar_2', 0)
      (party_slot_eq, ':lvar_3', 0, 17)
      (store_distance_to_party_from_party, ':lvar_4', ':lvar_3', ':lvar_0')
      (lt, ':lvar_4', 3)
      (assign, ':lvar_5', 1)
      (try_begin)
        (check_quest_active, 32)
        (quest_slot_eq, 32, 8, ':lvar_3')
        (assign, ':lvar_5', 0)
      (try_end)
      (eq, ':lvar_5', 1)
      (party_count_companions_of_type, ':lvar_6', ':lvar_3', 23)
      (try_begin)
        (le, ':lvar_6', ':lvar_2')
        (assign, ':lvar_7', ':lvar_6')
        (remove_party, ':lvar_3')
      (else_try)
        (assign, ':lvar_7', ':lvar_2')
        (party_remove_members, ':lvar_3', 23, ':lvar_2')
      (try_end)
      (val_sub, ':lvar_2', ':lvar_7')
      (try_begin)
        (party_slot_eq, ':lvar_0', 0, 4)
        (party_get_slot, ':lvar_8', ':lvar_0', 45)
        (val_add, ':lvar_8', ':lvar_7')
        (party_set_slot, ':lvar_0', 45, ':lvar_8')
      (try_end)
      (assign, reg3, ':lvar_7')
      (str_store_party_name_link, 1, ':lvar_0')
      (display_message, '@qstr_368', 6737151)
    (try_end)
    (store_sub, reg0, ':lvar_1', ':lvar_2')
get_rumor_to_s61=>
    (store_script_param, ':lvar_0', 1)
    (store_current_hours, ':lvar_1')
    (store_div, ':lvar_2', ':lvar_1', 24)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 3)
    (try_for_range, ':lvar_5', 0, ':lvar_4')
      (store_mul, ':lvar_6', ':lvar_5', 6781)
      (val_add, ':lvar_6', ':lvar_0')
      (store_mod, ':lvar_7', ':lvar_6', 7)
      (val_add, ':lvar_6', ':lvar_1')
      (try_begin)
        (eq, ':lvar_7', 0)
        (try_begin)
          (store_sub, ':lvar_8', 73, 46)
          (store_mod, ':lvar_9', ':lvar_6', ':lvar_8')
          (val_add, ':lvar_9', 46)
          (party_slot_ge, ':lvar_9', 150, 1)
          (neq, ':lvar_9', '$gvar_208')
          (str_store_party_name, 62, ':lvar_9')
          (str_store_string, 61, '@qstr_369')
          (assign, ':lvar_3', 1)
        (try_end)
      (else_try)
        (eq, ':lvar_7', 1)
        (try_begin)
          (store_sub, ':lvar_8', 530, 405)
          (store_mod, ':lvar_10', ':lvar_6', ':lvar_8')
          (val_add, ':lvar_10', 405)
          (troop_get_slot, ':lvar_11', ':lvar_10', 52)
          (gt, ':lvar_11', 0)
          (store_add, ':lvar_12', ':lvar_11', 216172782113785107)
          (str_store_troop_name, 6, ':lvar_10')
          (str_store_string, 61, ':lvar_12')
          (assign, ':lvar_3', 1)
        (try_end)
      (else_try)
        (eq, ':lvar_7', 2)
        (try_begin)
          (store_sub, ':lvar_8', 130, 74)
          (store_add, ':lvar_13', ':lvar_6', ':lvar_2')
          (store_mod, ':lvar_13', ':lvar_13', ':lvar_8')
          (store_add, ':lvar_14', ':lvar_13', 262)
          (val_add, ':lvar_13', 74)
          (store_mul, ':lvar_15', 1000, 3)
          (val_div, ':lvar_15', 4)
          (assign, ':lvar_16', -1)
          (try_for_range, ':lvar_17', 0, 10)
            (store_sub, ':lvar_8', 73, 46)
            (store_add, ':lvar_18', ':lvar_6', ':lvar_17')
            (store_mod, ':lvar_9', ':lvar_18', ':lvar_8')
            (val_add, ':lvar_9', 46)
            (neq, ':lvar_9', '$gvar_269')
            (party_get_slot, ':lvar_19', ':lvar_9', ':lvar_14')
            (lt, ':lvar_19', ':lvar_15')
            (assign, ':lvar_15', ':lvar_19')
            (assign, ':lvar_16', ':lvar_9')
          (try_end)
          (ge, ':lvar_16', 0)
          (str_store_item_name, 62, ':lvar_13')
          (str_store_party_name, 63, ':lvar_16')
          (str_store_string, 61, '@qstr_370')
          (assign, ':lvar_3', 1)
        (try_end)
      (else_try)
        (eq, ':lvar_7', 3)
        (try_begin)
          (store_sub, ':lvar_8', 130, 74)
          (store_add, ':lvar_13', ':lvar_6', ':lvar_2')
          (store_mod, ':lvar_13', ':lvar_13', ':lvar_8')
          (store_add, ':lvar_14', ':lvar_13', 262)
          (val_add, ':lvar_13', 74)
          (store_mul, ':lvar_20', 1000, 5)
          (val_div, ':lvar_20', 4)
          (assign, ':lvar_21', -1)
          (try_for_range, ':lvar_17', 0, 10)
            (store_sub, ':lvar_8', 73, 46)
            (store_add, ':lvar_18', ':lvar_6', ':lvar_17')
            (store_mod, ':lvar_9', ':lvar_18', ':lvar_8')
            (val_add, ':lvar_9', 46)
            (neq, ':lvar_9', '$gvar_269')
            (party_get_slot, ':lvar_19', ':lvar_9', ':lvar_14')
            (gt, ':lvar_19', ':lvar_20')
            (assign, ':lvar_20', ':lvar_19')
            (assign, ':lvar_21', ':lvar_9')
          (try_end)
          (ge, ':lvar_21', 0)
          (str_store_item_name, 62, ':lvar_13')
          (str_store_party_name, 63, ':lvar_21')
          (str_store_string, 61, '@qstr_371')
          (assign, ':lvar_3', 1)
        (try_end)
      (try_end)
      (try_begin)
        (gt, ':lvar_3', 0)
        (assign, ':lvar_4', 0)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_3')
lord_comment_to_s43=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_get_slot, ':lvar_2', ':lvar_0', 52)
    (val_add, ':lvar_2', ':lvar_1')
    (str_store_string, 43, ':lvar_2')
add_log_entry=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_script_param, ':lvar_4', 5)
    (assign, ':lvar_5', -1)
    (assign, ':lvar_6', -1)
    (assign, ':lvar_7', -1)
    (try_begin)
      (gt, ':lvar_2', 0)
      (party_get_slot, ':lvar_5', ':lvar_2', 7)
      (store_faction_of_party, ':lvar_6', ':lvar_2')
    (try_end)
    (try_begin)
      (ge, ':lvar_3', 0)
      (store_troop_faction, ':lvar_7', ':lvar_3')
    (try_end)
    (val_add, '$gvar_630', 1)
    (store_current_hours, ':lvar_8')
    (troop_set_slot, 973, '$gvar_630', ':lvar_0')
    (troop_set_slot, 974, '$gvar_630', ':lvar_8')
    (troop_set_slot, 975, '$gvar_630', ':lvar_1')
    (troop_set_slot, 976, '$gvar_630', ':lvar_2')
    (troop_set_slot, 977, '$gvar_630', ':lvar_5')
    (troop_set_slot, 978, '$gvar_630', ':lvar_6')
    (troop_set_slot, 979, '$gvar_630', ':lvar_3')
    (troop_set_slot, 980, '$gvar_630', ':lvar_7')
    (troop_set_slot, 981, '$gvar_630', ':lvar_4')
    (try_begin)
      (eq, '$gvar_152', 1)
      (assign, reg3, '$gvar_630')
      (assign, reg4, ':lvar_0')
      (display_message, '@qstr_372')
      (try_begin)
        (gt, ':lvar_2', 0)
        (str_store_party_name, 4, ':lvar_2')
        (display_message, '@qstr_373')
      (try_end)
      (try_begin)
        (gt, ':lvar_3', 0)
        (str_store_troop_name, 4, ':lvar_3')
        (display_message, '@qstr_374')
      (try_end)
      (try_begin)
        (gt, ':lvar_5', 0)
        (str_store_troop_name, 4, ':lvar_5')
        (display_message, '@qstr_375')
      (try_end)
    (try_end)
    (try_begin)
      (this_or_next|gt, '$gvar_182', 0)
      (eq, ':lvar_0', 18)
      (try_begin)
        (eq, '$gvar_152', 1)
        (display_message, '@qstr_376')
      (try_end)
      (try_for_range, ':lvar_9', 405, 530)
        (party_count_companions_of_type, ':lvar_10', 17, ':lvar_9')
        (gt, ':lvar_10', 0)
        (troop_set_slot, ':lvar_9', 19, '$gvar_630')
        (try_begin)
          (eq, '$gvar_152', 1)
          (str_store_troop_name, 4, ':lvar_9')
          (display_message, '@qstr_377')
        (try_end)
      (try_end)
    (try_end)
get_relevant_comment_for_log_entry=>
    (store_script_param, ':lvar_0', 1)
    (troop_get_slot, ':lvar_1', 973, ':lvar_0')
    (troop_get_slot, ':lvar_2', 974, ':lvar_0')
    (troop_get_slot, ':lvar_3', 975, ':lvar_0')
    (troop_get_slot, ':lvar_4', 977, ':lvar_0')
    (troop_get_slot, ':lvar_5', 978, ':lvar_0')
    (troop_get_slot, ':lvar_6', 979, ':lvar_0')
    (troop_get_slot, ':lvar_7', 980, ':lvar_0')
    (troop_get_slot, ':lvar_8', 981, ':lvar_0')
    (assign, ':lvar_9', 0)
    (assign, ':lvar_10', -1)
    (assign, ':lvar_11', 0)
    (troop_get_slot, ':lvar_12', '$gvar_15', 52)
    (store_current_hours, ':lvar_13')
    (store_sub, ':lvar_14', ':lvar_13', ':lvar_2')
    (assign, ':lvar_15', 0)
    (try_begin)
      (eq, '$gvar_152', 1)
      (try_begin)
        (assign, reg5, ':lvar_0')
        (assign, reg6, ':lvar_1')
        (assign, reg8, ':lvar_2')
        (gt, '$gvar_281', 0)
        (try_begin)
          (gt, ':lvar_7', 0)
          (store_relation, ':lvar_15', '$gvar_281', ':lvar_7')
          (assign, reg7, ':lvar_15')
          (display_message, '@qstr_378')
        (else_try)
          (gt, ':lvar_5', 0)
          (store_relation, ':lvar_15', '$gvar_281', ':lvar_5')
          (assign, reg7, ':lvar_15')
          (display_message, '@qstr_379')
        (else_try)
          (gt, ':lvar_8', 0)
          (store_relation, ':lvar_15', '$gvar_281', ':lvar_8')
          (assign, reg7, ':lvar_15')
          (display_message, '@qstr_380')
        (else_try)
          (display_message, '@qstr_381')
        (try_end)
      (else_try)
        (display_message, '@qstr_382')
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 31)
      (eq, '$gvar_25', 0)
      (is_between, '$gvar_20', -5, 5)
      (is_between, '$gvar_19', -5, 5)
      (assign, ':lvar_9', 25)
      (troop_get_slot, ':lvar_16', 0, 7)
      (troop_get_slot, ':lvar_17', 0, 13)
      (store_random_in_range, ':lvar_18', 100, 200)
      (try_begin)
        (eq, ':lvar_12', 0)
        (gt, '$gvar_281', 0)
        (assign, ':lvar_10', 216172782113784756)
      (else_try)
        (gt, ':lvar_16', ':lvar_18')
        (assign, ':lvar_10', 216172782113784757)
        (val_add, ':lvar_10', ':lvar_12')
      (else_try)
        (gt, ':lvar_17', 0)
        (assign, ':lvar_10', 216172782113784765)
        (val_add, ':lvar_10', ':lvar_12')
      (else_try)
        (assign, ':lvar_10', 216172782113784773)
        (val_add, ':lvar_10', ':lvar_12')
      (try_end)
    (else_try)
      (eq, ':lvar_1', 1)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_4', '$gvar_15')
        (assign, ':lvar_9', 200)
        (assign, ':lvar_11', -1)
        (assign, ':lvar_10', 216172782113784787)
        (try_begin)
          (lt, '$gvar_20', -5)
          (this_or_next|eq, ':lvar_12', 6)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_10', 216172782113784781)
        (else_try)
          (lt, '$gvar_20', -5)
          (this_or_next|eq, ':lvar_12', 4)
          (eq, ':lvar_12', 3)
          (assign, ':lvar_10', 216172782113784783)
        (else_try)
          (lt, '$gvar_20', -5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784782)
        (else_try)
          (lt, '$gvar_20', -5)
          (assign, ':lvar_10', 216172782113784784)
        (else_try)
          (lt, '$gvar_19', -5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784785)
        (else_try)
          (gt, '$gvar_19', 5)
          (assign, ':lvar_10', 216172782113784786)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 2)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_4', '$gvar_15')
        (assign, ':lvar_9', 30)
        (assign, ':lvar_11', -1)
        (assign, ':lvar_10', 216172782113784792)
        (try_begin)
          (lt, '$gvar_20', -5)
          (this_or_next|eq, ':lvar_12', 4)
          (eq, ':lvar_12', 3)
          (assign, ':lvar_10', 216172782113784788)
        (else_try)
          (lt, '$gvar_20', -5)
          (assign, ':lvar_10', 216172782113784789)
        (else_try)
          (gt, '$gvar_19', 5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784790)
        (else_try)
          (gt, '$gvar_19', 5)
          (assign, ':lvar_10', 216172782113784791)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 3)
      (eq, ':lvar_3', 0)
      (eq, ':lvar_8', '$gvar_18')
      (faction_slot_eq, '$gvar_18', 10, '$gvar_15')
      (assign, ':lvar_9', 30)
      (assign, ':lvar_11', -1)
      (assign, ':lvar_10', 216172782113784794)
      (try_begin)
        (lt, '$gvar_20', -5)
        (assign, ':lvar_10', 216172782113784793)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 4)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_4', '$gvar_15')
        (assign, ':lvar_9', 40)
        (assign, ':lvar_11', 0)
        (try_begin)
          (this_or_next|eq, ':lvar_12', 6)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_10', 216172782113784795)
          (assign, ':lvar_11', 1)
        (else_try)
          (gt, '$gvar_19', 5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784796)
          (assign, ':lvar_11', -1)
        (else_try)
          (lt, '$gvar_19', -5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784798)
          (assign, ':lvar_11', -1)
        (else_try)
          (gt, '$gvar_19', 5)
          (assign, ':lvar_10', 216172782113784797)
        (else_try)
          (this_or_next|eq, ':lvar_12', 3)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784799)
          (assign, ':lvar_11', -1)
        (else_try)
          (assign, ':lvar_10', 216172782113784800)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 10)
      (try_begin)
        (eq, ':lvar_4', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784806)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_4', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784807)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_4', '$gvar_15')
        (assign, ':lvar_10', 216172782113784808)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784802)
        (assign, ':lvar_9', 75)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (gt, '$gvar_19', 5)
        (assign, ':lvar_10', 216172782113784801)
        (assign, ':lvar_9', 75)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784803)
        (assign, ':lvar_9', 75)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784804)
        (assign, ':lvar_9', 75)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (assign, ':lvar_10', 216172782113784805)
        (assign, ':lvar_9', 75)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_1', 11)
      (eq, ':lvar_1', 17)
      (troop_slot_eq, '$gvar_15', 19, ':lvar_0')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784809)
        (assign, ':lvar_9', 150)
      (else_try)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784810)
        (assign, ':lvar_9', 150)
      (else_try)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784811)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 2)
        (assign, ':lvar_10', 216172782113784811)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784813)
        (assign, ':lvar_9', 150)
      (else_try)
        (assign, ':lvar_10', 216172782113784814)
        (assign, ':lvar_9', 150)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_1', 10)
      (eq, ':lvar_1', 18)
      (troop_slot_eq, '$gvar_15', 19, ':lvar_0')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784815)
        (assign, ':lvar_9', 150)
      (else_try)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784816)
        (assign, ':lvar_9', 150)
      (else_try)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784817)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 2)
        (assign, ':lvar_10', 216172782113784818)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784819)
        (assign, ':lvar_9', 150)
      (else_try)
        (assign, ':lvar_10', 216172782113784820)
        (assign, ':lvar_9', 150)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 19)
      (troop_slot_eq, '$gvar_15', 19, ':lvar_0')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784821)
        (assign, ':lvar_9', 150)
      (else_try)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784822)
        (assign, ':lvar_9', 150)
      (else_try)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784823)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 2)
        (assign, ':lvar_10', 216172782113784823)
        (assign, ':lvar_9', 150)
      (else_try)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784825)
        (assign, ':lvar_9', 150)
      (else_try)
        (assign, ':lvar_10', 216172782113784826)
        (assign, ':lvar_9', 150)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 11)
      (try_begin)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784832)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 5)
        (eq, ':lvar_12', 2)
        (assign, ':lvar_10', 216172782113784833)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784834)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 4)
        (assign, ':lvar_10', 216172782113784874)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784875)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784876)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (assign, ':lvar_10', 216172782113784877)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (faction_slot_eq, '$gvar_281', 10, '$gvar_15')
        (assign, ':lvar_10', 216172782113784827)
        (assign, ':lvar_9', 70)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784828)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784829)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784830)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (assign, ':lvar_10', 216172782113784831)
        (assign, ':lvar_9', 65)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 11)
      (try_begin)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784832)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 5)
        (eq, ':lvar_12', 2)
        (assign, ':lvar_10', 216172782113784833)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784834)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 4)
        (assign, ':lvar_10', 216172782113784874)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784875)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784876)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, ':lvar_7', '$gvar_18')
        (assign, ':lvar_10', 216172782113784877)
        (assign, ':lvar_9', 85)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (faction_slot_eq, '$gvar_281', 10, '$gvar_15')
        (assign, ':lvar_10', 216172782113784827)
        (assign, ':lvar_9', 70)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784828)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784829)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784830)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (assign, ':lvar_10', 216172782113784831)
        (assign, ':lvar_9', 65)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 17)
      (neq, ':lvar_6', '$gvar_15')
      (eq, ':lvar_7', '$gvar_18')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784851)
        (assign, ':lvar_9', 65)
        (assign, ':lvar_11', 2)
      (else_try)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784852)
        (assign, ':lvar_9', 0)
      (else_try)
        (eq, ':lvar_12', 0)
        (assign, ':lvar_10', 216172782113784853)
        (assign, ':lvar_9', 65)
        (assign, ':lvar_11', 3)
      (else_try)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784854)
        (assign, ':lvar_9', 65)
      (else_try)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784855)
        (assign, ':lvar_9', 65)
      (else_try)
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784856)
        (assign, ':lvar_9', 65)
        (assign, ':lvar_11', 2)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784857)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 14)
      (troop_slot_eq, '$gvar_15', 19, ':lvar_0')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784840)
        (assign, ':lvar_9', 150)
      (else_try)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784841)
        (assign, ':lvar_9', 150)
      (else_try)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784842)
        (assign, ':lvar_9', 150)
      (else_try)
        (assign, ':lvar_10', 216172782113784843)
        (assign, ':lvar_9', 150)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 14)
      (try_begin)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784835)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784836)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 6)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784837)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 4)
        (assign, ':lvar_10', 216172782113784838)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784839)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784839)
        (assign, ':lvar_9', 200)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (gt, '$gvar_19', 5)
        (assign, ':lvar_10', 216172782113784844)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (lt, '$gvar_19', -5)
        (assign, ':lvar_10', 216172782113784845)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (le, '$gvar_19', 5)
        (assign, ':lvar_10', 216172782113784846)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (eq, ':lvar_12', 3)
        (assign, ':lvar_10', 216172782113784847)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (eq, ':lvar_12', 7)
        (lt, '$gvar_19', -15)
        (assign, ':lvar_10', 216172782113784848)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, '$gvar_19', -10)
        (assign, ':lvar_10', 216172782113784849)
        (assign, ':lvar_9', 65)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (assign, ':lvar_10', 216172782113784850)
        (assign, ':lvar_9', 65)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 15)
      (troop_slot_eq, '$gvar_15', 19, ':lvar_0')
      (try_begin)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784860)
        (assign, ':lvar_9', 150)
        (assign, ':lvar_11', -5)
      (else_try)
        (lt, '$gvar_19', -5)
        (eq, ':lvar_12', 3)
        (assign, ':lvar_10', 216172782113784861)
        (assign, ':lvar_9', 150)
        (assign, ':lvar_11', -5)
      (else_try)
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784862)
        (assign, ':lvar_11', -5)
      (else_try)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784863)
        (assign, ':lvar_9', 150)
        (assign, ':lvar_11', -2)
      (else_try)
        (this_or_next|eq, ':lvar_12', 7)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784864)
        (assign, ':lvar_9', 150)
        (assign, ':lvar_11', -1)
      (else_try)
        (assign, ':lvar_10', 216172782113784865)
        (assign, ':lvar_9', 150)
        (assign, ':lvar_11', -2)
      (try_end)
    (else_try)
      (this_or_next|eq, ':lvar_1', 15)
      (eq, ':lvar_1', 16)
      (eq, ':lvar_6', '$gvar_15')
      (try_begin)
        (eq, '$gvar_152', 1)
        (assign, reg7, ':lvar_14')
        (display_message, '@qstr_383')
      (try_end)
      (gt, ':lvar_14', 2)
      (try_begin)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784866)
        (assign, ':lvar_9', 25)
      (else_try)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784867)
        (assign, ':lvar_9', 25)
      (else_try)
        (this_or_next|eq, ':lvar_12', 6)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784868)
        (assign, ':lvar_9', 25)
      (else_try)
        (eq, ':lvar_12', 4)
        (assign, ':lvar_10', 216172782113784869)
        (assign, ':lvar_9', 25)
      (else_try)
        (assign, ':lvar_10', 216172782113784870)
        (assign, ':lvar_9', 25)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 16)
      (try_begin)
        (eq, '$gvar_281', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_19', 5)
        (eq, ':lvar_12', 1)
        (assign, ':lvar_10', 216172782113784871)
        (assign, ':lvar_9', 80)
        (assign, ':lvar_11', -3)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784872)
        (assign, ':lvar_9', 80)
        (assign, ':lvar_11', -1)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_19', 5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784873)
        (assign, ':lvar_9', 80)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 13)
      (try_begin)
        (eq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784887)
        (assign, ':lvar_9', 300)
        (assign, ':lvar_11', -15)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (ge, '$gvar_20', 0)
        (assign, ':lvar_10', 216172782113784891)
        (assign, ':lvar_9', 300)
        (assign, ':lvar_11', 2)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_20', 0)
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 7)
        (assign, ':lvar_11', 5)
        (assign, ':lvar_9', 300)
        (assign, ':lvar_10', 216172782113784888)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_20', 0)
        (this_or_next|eq, ':lvar_12', 3)
        (eq, ':lvar_12', 4)
        (assign, ':lvar_9', 300)
        (assign, ':lvar_10', 216172782113784889)
      (else_try)
        (eq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_20', 0)
        (assign, ':lvar_9', 300)
        (assign, ':lvar_10', 216172782113784890)
        (assign, ':lvar_11', 1)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (neq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 1)
        (eq, ':lvar_12', 6)
        (assign, ':lvar_10', 216172782113784882)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (neq, ':lvar_6', '$gvar_15')
        (eq, ':lvar_12', 7)
        (assign, ':lvar_10', 216172782113784883)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (neq, ':lvar_6', '$gvar_15')
        (this_or_next|eq, ':lvar_12', 4)
        (eq, ':lvar_12', 3)
        (assign, ':lvar_10', 216172782113784884)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (neq, ':lvar_6', '$gvar_15')
        (lt, '$gvar_19', -5)
        (this_or_next|eq, ':lvar_12', 2)
        (eq, ':lvar_12', 5)
        (assign, ':lvar_10', 216172782113784885)
        (assign, ':lvar_9', 80)
      (else_try)
        (eq, '$gvar_281', '$gvar_18')
        (lt, ':lvar_15', 0)
        (neq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_10', 216172782113784886)
        (assign, ':lvar_9', 80)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 21)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_8', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (assign, ':lvar_9', 200)
        (try_begin)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 1)
          (assign, ':lvar_10', 216172782113784892)
        (else_try)
          (eq, ':lvar_12', 1)
          (assign, ':lvar_10', 216172782113784893)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 2)
          (assign, ':lvar_10', 216172782113784894)
        (else_try)
          (eq, ':lvar_12', 2)
          (assign, ':lvar_10', 216172782113784895)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 3)
          (assign, ':lvar_10', 216172782113784896)
        (else_try)
          (eq, ':lvar_12', 3)
          (assign, ':lvar_10', 216172782113784897)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 4)
          (assign, ':lvar_10', 216172782113784898)
        (else_try)
          (eq, ':lvar_12', 4)
          (assign, ':lvar_10', 216172782113784899)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784900)
        (else_try)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784901)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 6)
          (assign, ':lvar_10', 216172782113784902)
        (else_try)
          (eq, ':lvar_12', 6)
          (assign, ':lvar_10', 216172782113784903)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_10', 216172782113784904)
        (else_try)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_10', 216172782113784905)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 22)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_8', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (eq, ':lvar_8', '$gvar_281')
        (assign, ':lvar_9', 110)
        (try_begin)
          (gt, '$gvar_19', 5)
          (this_or_next|eq, ':lvar_12', 3)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784906)
        (else_try)
          (gt, '$gvar_19', 5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 4)
          (assign, ':lvar_10', 216172782113784907)
        (else_try)
          (gt, '$gvar_19', 5)
          (assign, ':lvar_10', 216172782113784908)
        (else_try)
          (is_between, '$gvar_19', -5, 5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784911)
          (assign, ':lvar_11', -2)
        (else_try)
          (lt, '$gvar_19', -5)
          (eq, ':lvar_12', 7)
          (assign, ':lvar_10', 216172782113784909)
        (else_try)
          (lt, '$gvar_19', -5)
          (this_or_next|eq, ':lvar_12', 2)
          (eq, ':lvar_12', 5)
          (assign, ':lvar_10', 216172782113784910)
        (else_try)
          (assign, ':lvar_10', 216172782113784912)
        (try_end)
      (try_end)
    (else_try)
      (eq, ':lvar_1', 23)
      (eq, ':lvar_3', 0)
      (try_begin)
        (eq, ':lvar_8', '$gvar_18')
        (neq, ':lvar_6', '$gvar_15')
        (try_begin)
          (ge, '$gvar_20', 0)
          (neq, '$gvar_18', '$gvar_281')
          (assign, ':lvar_9', 180)
          (try_begin)
            (gt, '$gvar_19', 5)
            (assign, ':lvar_10', 216172782113784914)
          (else_try)
            (ge, '$gvar_19', 0)
            (eq, ':lvar_12', 6)
            (assign, ':lvar_10', 216172782113784914)
          (try_end)
        (else_try)
          (lt, '$gvar_20', 0)
          (assign, ':lvar_9', 300)
          (try_begin)
            (ge, '$gvar_19', 0)
            (this_or_next|eq, ':lvar_12', 3)
            (eq, ':lvar_12', 5)
            (assign, ':lvar_10', 216172782113784916)
          (else_try)
            (gt, '$gvar_19', 5)
            (this_or_next|eq, ':lvar_12', 6)
            (eq, ':lvar_12', 7)
            (assign, ':lvar_10', 216172782113784913)
          (else_try)
            (gt, '$gvar_19', 5)
            (assign, ':lvar_10', 216172782113784917)
          (else_try)
            (is_between, '$gvar_19', -5, 5)
            (this_or_next|eq, ':lvar_12', 2)
            (eq, ':lvar_12', 5)
            (assign, ':lvar_10', 216172782113784915)
            (assign, ':lvar_11', -2)
          (else_try)
            (lt, '$gvar_19', -5)
            (this_or_next|eq, ':lvar_12', 2)
            (this_or_next|eq, ':lvar_12', 3)
            (eq, ':lvar_12', 5)
            (assign, ':lvar_10', 216172782113784915)
          (else_try)
            (assign, ':lvar_10', 216172782113784918)
          (try_end)
        (try_end)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_10')
    (assign, reg1, ':lvar_9')
    (assign, reg2, ':lvar_11')
get_relevant_comment_to_s42=>
    (troop_get_slot, ':lvar_0', '$gvar_15', 52)
    (try_begin)
      (eq, '$gvar_152', 1)
      (store_add, ':lvar_1', ':lvar_0', 216172782113784919)
      (str_store_string, 15, ':lvar_1')
      (display_message, '@qstr_384')
    (try_end)
    (assign, ':lvar_2', 50)
    (assign, ':lvar_3', -1)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', -1)
    (assign, ':lvar_6', 0)
    (store_current_hours, ':lvar_7')
    (troop_get_slot, ':lvar_8', '$gvar_15', 29)
    (troop_set_slot, '$gvar_15', 29, '$gvar_630')
    (store_add, ':lvar_9', '$gvar_630', 1)
    (try_for_range, ':lvar_10', 1, ':lvar_9')
      (troop_get_slot, ':lvar_11', 974, ':lvar_10')
      (store_sub, ':lvar_12', ':lvar_7', ':lvar_11')
      (try_begin)
        (le, ':lvar_10', ':lvar_8')
        (try_begin)
          (eq, ':lvar_10', ':lvar_8')
          (eq, '$gvar_152', 1)
          (assign, reg5, ':lvar_10')
          (display_message, '@qstr_385')
        (try_end)
      (else_try)
        (call_script, 354, ':lvar_10')
        (gt, reg1, 10)
        (assign, ':lvar_13', reg1)
        (assign, ':lvar_14', reg0)
        (store_random_in_range, ':lvar_15', 70, 140)
        (val_mul, ':lvar_13', ':lvar_15')
        (store_add, ':lvar_16', ':lvar_12', 500)
        (val_mul, ':lvar_13', 1000)
        (val_div, ':lvar_13', ':lvar_16')
        (try_begin)
          (gt, ':lvar_13', ':lvar_2')
          (assign, ':lvar_2', ':lvar_13')
          (assign, ':lvar_3', ':lvar_14')
          (assign, ':lvar_5', ':lvar_10')
          (assign, ':lvar_6', reg2)
        (try_end)
      (try_end)
    (try_end)
    (try_begin)
      (gt, ':lvar_3', 0)
      (assign, ':lvar_4', 1)
      (troop_get_slot, ':lvar_17', 975, ':lvar_5')
      (troop_get_slot, ':lvar_18', 976, ':lvar_5')
      (troop_get_slot, ':lvar_19', 977, ':lvar_5')
      (troop_get_slot, ':lvar_20', 978, ':lvar_5')
      (troop_get_slot, ':lvar_21', 979, ':lvar_5')
      (troop_get_slot, ':lvar_22', 980, ':lvar_5')
      (troop_get_slot, ':lvar_23', 981, ':lvar_5')
      (try_begin)
        (ge, ':lvar_17', 0)
        (str_store_troop_name, 50, ':lvar_17')
      (try_end)
      (try_begin)
        (ge, ':lvar_18', 0)
        (str_store_party_name, 51, ':lvar_18')
      (try_end)
      (try_begin)
        (ge, ':lvar_19', 0)
        (str_store_troop_name, 52, ':lvar_19')
      (try_end)
      (try_begin)
        (ge, ':lvar_20', 0)
        (str_store_faction_name, 53, ':lvar_20')
      (try_end)
      (try_begin)
        (ge, ':lvar_21', 0)
        (str_store_troop_name, 54, ':lvar_21')
      (try_end)
      (try_begin)
        (ge, ':lvar_22', 0)
        (str_store_faction_name, 55, ':lvar_22')
      (try_end)
      (try_begin)
        (ge, ':lvar_23', 0)
        (str_store_faction_name, 56, ':lvar_23')
      (try_end)
      (str_store_string, 42, ':lvar_3')
    (try_end)
    (assign, reg0, ':lvar_4')
    (assign, '$gvar_631', ':lvar_6')
find_rival_from_faction=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (troop_get_slot, ':lvar_3', ':lvar_0', 52)
    (try_for_range, ':lvar_4', 405, 530)
      (store_troop_faction, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_1')
      (troop_get_slot, ':lvar_6', ':lvar_4', 52)
      (try_begin)
        (eq, ':lvar_3', 1)
        (eq, ':lvar_6', 1)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 5)
        (eq, ':lvar_6', 7)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 3)
        (eq, ':lvar_6', 6)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 4)
        (eq, ':lvar_6', 2)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 2)
        (eq, ':lvar_6', 4)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 6)
        (eq, ':lvar_6', 3)
        (assign, ':lvar_2', ':lvar_4')
      (else_try)
        (eq, ':lvar_3', 7)
        (eq, ':lvar_6', 5)
        (assign, ':lvar_2', ':lvar_4')
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_2')
rebellion_arguments=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 0)
    (troop_get_slot, ':lvar_3', ':lvar_0', 52)
    (try_begin)
      (eq, ':lvar_3', 1)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', 30)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', 10)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', -30)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 2)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', -30)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', 30)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', 10)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 3)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', -30)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', 20)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', 20)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 4)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', -30)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', 20)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', 20)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 5)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', -20)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', 20)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', 10)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 6)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', 10)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', 20)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', -15)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', -25)
      (try_end)
    (else_try)
      (eq, ':lvar_3', 7)
      (try_begin)
        (eq, ':lvar_1', 1)
        (assign, ':lvar_2', 10)
      (else_try)
        (eq, ':lvar_1', 2)
        (assign, ':lvar_2', 0)
      (else_try)
        (eq, ':lvar_1', 3)
        (assign, ':lvar_2', -40)
      (else_try)
        (eq, ':lvar_1', 4)
        (assign, ':lvar_2', 10)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_2')
get_culture_with_party_faction_for_music=>
    (store_script_param, ':lvar_0', 1)
    (store_faction_of_party, ':lvar_1', ':lvar_0')
    (try_begin)
      (this_or_next|eq, ':lvar_1', 14)
      (eq, ':lvar_1', 15)
      (assign, ':lvar_1', '$gvar_281')
    (try_end)
    (try_begin)
      (is_between, ':lvar_0', 46, 204)
      (this_or_next|eq, ':lvar_1', 15)
      (neg|is_between, ':lvar_1', 15, 19)
      (party_get_slot, ':lvar_1', ':lvar_0', 61)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 16)
      (assign, ':lvar_2', 1)
    (else_try)
      (eq, ':lvar_1', 17)
      (assign, ':lvar_2', 2)
    (else_try)
      (eq, ':lvar_1', 18)
      (assign, ':lvar_2', 4)
    (else_try)
      (this_or_next|eq, ':lvar_1', 2)
      (this_or_next|eq, ':lvar_1', 21)
      (this_or_next|eq, ':lvar_1', 22)
      (eq, ':lvar_1', 23)
      (assign, ':lvar_2', 32)
    (else_try)
      (assign, ':lvar_2', 0)
    (try_end)
    (assign, reg0, ':lvar_2')
music_set_situation_with_culture=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (try_begin)
      (this_or_next|eq, ':lvar_0', 8192)
      (this_or_next|eq, ':lvar_0', 1048576)
      (this_or_next|eq, ':lvar_0', 524288)
      (this_or_next|eq, ':lvar_0', 16384)
      (eq, ':lvar_0', 2097152)
      (call_script, 358, '$gvar_269')
      (val_or, ':lvar_1', reg0)
    (else_try)
      (this_or_next|eq, ':lvar_0', 4096)
      (eq, ':lvar_0', 1024)
      (call_script, 358, '$gvar_269')
      (val_or, ':lvar_1', reg0)
      (call_script, 358, 0)
      (val_or, ':lvar_1', reg0)
      (call_script, 97, 0)
      (call_script, 358, reg0)
      (val_or, ':lvar_1', reg0)
    (else_try)
      (eq, ':lvar_0', 65536)
      (call_script, 358, 0)
      (val_or, ':lvar_1', reg0)
      (call_script, 97, 0)
      (call_script, 358, reg0)
      (val_or, ':lvar_1', reg0)
    (else_try)
      (eq, ':lvar_0', 8388608)
      (call_script, 358, 0)
      (val_or, ':lvar_1', reg0)
    (else_try)
      (eq, ':lvar_0', 32768)
      (call_script, 358, '$gvar_269')
      (val_or, ':lvar_1', reg0)
    (try_end)
    (try_begin)
      (this_or_next|eq, ':lvar_0', 8192)
      (eq, ':lvar_0', 1048576)
      (try_begin)
        (is_currently_night)
        (assign, ':lvar_0', 524288)
      (try_end)
    (try_end)
    (music_set_situation, ':lvar_0')
    (music_set_culture, ':lvar_1')
combat_music_set_situation_with_culture=>
    (assign, ':lvar_0', 1024)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (try_for_agents, ':lvar_3')
      (agent_is_alive, ':lvar_3')
      (agent_is_human, ':lvar_3')
      (agent_get_troop_id, ':lvar_4', ':lvar_3')
      (store_character_level, ':lvar_5', ':lvar_4')
      (val_add, ':lvar_5', 10)
      (val_mul, ':lvar_5', ':lvar_5')
      (try_begin)
        (agent_is_ally, ':lvar_3')
        (val_add, ':lvar_1', ':lvar_5')
      (else_try)
        (val_add, ':lvar_2', ':lvar_5')
      (try_end)
    (try_end)
    (val_mul, ':lvar_1', 4)
    (val_div, ':lvar_1', 3)
    (try_begin)
      (lt, ':lvar_1', ':lvar_2')
      (assign, ':lvar_0', 4096)
    (try_end)
    (call_script, 359, ':lvar_0')
play_victorious_sound=>
    (call_script, 359, 8388608)
set_items_for_tournament=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_script_param, ':lvar_4', 5)
    (store_script_param, ':lvar_5', 6)
    (store_script_param, ':lvar_6', 7)
    (store_script_param, ':lvar_7', 8)
    (store_script_param, ':lvar_8', 9)
    (store_script_param, ':lvar_9', 10)
    (store_add, ':lvar_10', ':lvar_2', ':lvar_3')
    (val_add, ':lvar_10', ':lvar_7')
    (try_for_range, ':lvar_11', 0, 32)
      (mission_tpl_entry_clear_override_items, 26, ':lvar_11')
      (mission_tpl_entry_add_override_item, 26, ':lvar_11', 215)
      (assign, ':lvar_12', 0)
      (store_div, ':lvar_13', ':lvar_11', 8)
      (try_begin)
        (store_random_in_range, ':lvar_14', 0, 100)
        (lt, ':lvar_14', ':lvar_0')
        (assign, ':lvar_12', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 910)
      (try_end)
      (try_begin)
        (eq, ':lvar_12', 1)
        (store_add, ':lvar_15', ':lvar_10', ':lvar_1')
        (val_add, ':lvar_15', ':lvar_5')
        (val_add, ':lvar_15', ':lvar_6')
      (else_try)
        (store_add, ':lvar_15', ':lvar_10', ':lvar_4')
      (try_end)
      (store_random_in_range, ':lvar_14', 0, ':lvar_15')
      (store_add, ':lvar_16', 759, ':lvar_13')
      (try_begin)
        (val_sub, ':lvar_14', ':lvar_2')
        (lt, ':lvar_14', 0)
        (try_begin)
          (store_random_in_range, ':lvar_17', 0, 100)
          (lt, ':lvar_17', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_11', 683)
          (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_11', 684)
        (try_end)
      (else_try)
        (val_sub, ':lvar_14', ':lvar_3')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 680)
      (else_try)
        (val_sub, ':lvar_14', ':lvar_7')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 685)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
      (else_try)
        (eq, ':lvar_12', 0)
        (val_sub, ':lvar_14', ':lvar_4')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 679)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
      (else_try)
        (eq, ':lvar_12', 1)
        (val_sub, ':lvar_14', ':lvar_1')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 683)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
      (else_try)
        (eq, ':lvar_12', 1)
        (val_sub, ':lvar_14', ':lvar_5')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 685)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
      (else_try)
        (eq, ':lvar_12', 1)
        (val_sub, ':lvar_14', ':lvar_6')
        (lt, ':lvar_14', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 680)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', 683)
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_16')
      (try_end)
      (try_begin)
        (ge, ':lvar_8', 0)
        (store_add, ':lvar_18', ':lvar_8', ':lvar_13')
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_18')
      (try_end)
      (try_begin)
        (ge, ':lvar_9', 0)
        (store_add, ':lvar_19', ':lvar_9', ':lvar_13')
        (mission_tpl_entry_add_override_item, 26, ':lvar_11', ':lvar_19')
      (try_end)
    (try_end)
custom_battle_end=>
    (assign, '$gvar_395', 0)
    (assign, '$gvar_396', 0)
    (try_for_agents, ':lvar_0')
      (agent_is_human, ':lvar_0')
      (neg|agent_is_alive, ':lvar_0')
      (agent_get_team, ':lvar_1', ':lvar_0')
      (try_begin)
        (eq, ':lvar_1', 0)
        (val_add, '$gvar_395', 1)
      (else_try)
        (val_add, '$gvar_396', 1)
      (try_end)
    (try_end)
remove_troop_from_prison=>
    (store_script_param, ':lvar_0', 1)
    (troop_set_slot, ':lvar_0', 8, -1)
    (try_begin)
      (check_quest_active, 29)
      (quest_slot_eq, 29, 2, ':lvar_0')
      (call_script, 266, 29)
    (try_end)
    (try_begin)
      (check_quest_active, 30)
      (quest_slot_eq, 30, 2, ':lvar_0')
      (call_script, 266, 30)
    (try_end)
custom_battle_set_faction_troops=>
    (troop_get_slot, reg31, 965, reg32)
    (try_begin)
      (eq, reg31, 1)
      (assign, reg11, 133)
      (assign, reg12, 144)
      (assign, reg13, 146)
      (assign, reg14, 157)
      (assign, reg15, 156)
      (assign, reg16, 136)
      (assign, reg17, 137)
      (assign, reg18, 138)
    (else_try)
      (eq, reg31, 2)
      (assign, reg11, 160)
      (assign, reg12, 171)
      (assign, reg13, 174)
      (assign, reg14, 175)
      (assign, reg15, 181)
      (assign, reg16, 163)
      (assign, reg17, 164)
      (assign, reg18, 167)
    (else_try)
      (eq, reg31, 3)
      (assign, reg11, 184)
      (assign, reg12, 186)
      (assign, reg13, 187)
      (assign, reg14, 188)
      (assign, reg15, 189)
      (assign, reg16, 191)
    (else_try)
      (eq, reg31, 4)
      (assign, reg11, 49)
      (assign, reg12, 27)
      (assign, reg13, 45)
      (assign, reg14, 32)
      (assign, reg15, 34)
      (assign, reg16, 57)
      (assign, reg17, 38)
      (assign, reg18, 85)
    (else_try)
      (eq, reg31, 5)
      (assign, reg11, 105)
      (assign, reg12, 106)
      (assign, reg13, 109)
      (assign, reg14, 111)
      (assign, reg15, 112)
      (assign, reg16, 100)
      (assign, reg17, 103)
      (assign, reg18, 104)
    (try_end)
update_agent_position_on_map_2=>
    (store_script_param_1, ':lvar_0')
    (agent_get_slot, ':lvar_1', ':lvar_0', 10)
    (get_player_agent_no, ':lvar_2')
    (try_begin)
      (le, ':lvar_1', 0)
      (set_fixed_point_multiplier, 1000)
      (try_begin)
        (eq, ':lvar_0', ':lvar_2')
        (create_mesh_overlay, reg1, 81)
        (position_set_x, 1, 500)
        (position_set_y, 1, 500)
        (overlay_set_size, reg1, 1)
      (else_try)
        (create_mesh_overlay, reg1, 80)
        (position_set_x, 1, 200)
        (position_set_y, 1, 200)
        (overlay_set_size, reg1, 1)
      (try_end)
      (overlay_set_alpha, reg1, 136)
      (agent_set_slot, ':lvar_0', 10, reg1)
      (assign, ':lvar_1', reg1)
    (try_end)
    (try_begin)
      (neq, ':lvar_0', ':lvar_2')
      (agent_get_team, ':lvar_3', ':lvar_0')
      (try_begin)
        (eq, ':lvar_3', 1)
        (overlay_set_color, ':lvar_1', 2105575)
      (else_try)
        (eq, ':lvar_3', 2)
        (overlay_set_color, ':lvar_1', 16124683)
      (else_try)
        (eq, ':lvar_3', 3)
        (overlay_set_color, ':lvar_1', 783899)
      (else_try)
        (eq, ':lvar_3', 4)
        (overlay_set_color, ':lvar_1', 16580352)
      (else_try)
        (eq, ':lvar_3', 5)
        (overlay_set_color, ':lvar_1', 16619270)
      (else_try)
        (eq, ':lvar_3', 6)
        (overlay_set_color, ':lvar_1', 13369599)
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', ':lvar_2')
      (agent_get_look_position, 1, ':lvar_0')
      (position_get_rotation_around_z, ':lvar_4', 1)
      (init_position, 10)
      (position_rotate_z, 10, ':lvar_4')
      (overlay_set_mesh_rotation, ':lvar_1', 10)
      (call_script, 247)
    (else_try)
      (agent_get_position, 1, ':lvar_0')
      (call_script, 247)
    (try_end)
    (overlay_set_position, ':lvar_1', 0)
update_order_panel_statistics_and_map_2=>
    (set_fixed_point_multiplier, 1000)
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', 0)
    (assign, ':lvar_6', 0)
    (assign, ':lvar_7', 0)
    (assign, ':lvar_8', 0)
    (assign, ':lvar_9', 0)
    (assign, ':lvar_10', 0)
    (assign, ':lvar_11', 0)
    (assign, ':lvar_12', 0)
    (assign, ':lvar_13', 0)
    (assign, ':lvar_14', 0)
    (get_player_agent_no, ':lvar_15')
    (agent_get_team, ':lvar_16', ':lvar_15')
    (assign, ':lvar_17', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 0)
      (assign, ':lvar_17', 1)
    (try_end)
    (assign, ':lvar_18', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 1)
      (assign, ':lvar_18', 1)
    (try_end)
    (assign, ':lvar_19', 0)
    (try_begin)
      (class_is_listening_order, ':lvar_16', 2)
      (assign, ':lvar_19', 1)
    (try_end)
    (get_scene_boundaries, 2, 3)
    (try_for_agents, ':lvar_20')
      (agent_is_human, ':lvar_20')
      (agent_get_class, ':lvar_21', ':lvar_20')
      (agent_get_party_id, ':lvar_22', ':lvar_20')
      (agent_get_slot, ':lvar_23', ':lvar_20', 10)
      (try_begin)
        (eq, ':lvar_22', 0)
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 366, ':lvar_20')
          (try_begin)
            (eq, ':lvar_21', 0)
            (val_add, ':lvar_0', 1)
          (else_try)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_1', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_2', 1)
          (try_end)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (try_begin)
            (eq, ':lvar_21', 0)
            (val_add, ':lvar_3', 1)
          (else_try)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_4', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_5', 1)
          (try_end)
        (else_try)
          (try_begin)
            (eq, ':lvar_21', 0)
            (val_add, ':lvar_6', 1)
          (else_try)
            (eq, ':lvar_21', 1)
            (val_add, ':lvar_7', 1)
          (else_try)
            (eq, ':lvar_21', 2)
            (val_add, ':lvar_8', 1)
          (try_end)
        (try_end)
      (else_try)
        (agent_is_ally, ':lvar_20')
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 366, ':lvar_20')
          (val_add, ':lvar_9', 1)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (val_add, ':lvar_10', 1)
        (else_try)
          (val_add, ':lvar_11', 1)
        (try_end)
      (else_try)
        (try_begin)
          (agent_is_alive, ':lvar_20')
          (call_script, 366, ':lvar_20')
          (val_add, ':lvar_12', 1)
        (else_try)
          (overlay_set_alpha, ':lvar_23', 0)
          (agent_is_wounded, ':lvar_20')
          (val_add, ':lvar_13', 1)
        (else_try)
          (val_add, ':lvar_14', 1)
        (try_end)
      (try_end)
    (try_end)
    (assign, reg1, ':lvar_0')
    (assign, reg2, ':lvar_1')
    (assign, reg3, ':lvar_2')
    (store_add, ':lvar_24', ':lvar_0', ':lvar_1')
    (val_add, ':lvar_24', ':lvar_2')
    (store_add, ':lvar_25', ':lvar_3', ':lvar_4')
    (val_add, ':lvar_25', ':lvar_5')
    (store_add, ':lvar_26', ':lvar_6', ':lvar_7')
    (val_add, ':lvar_26', ':lvar_8')
    (assign, reg4, ':lvar_24')
    (assign, reg5, ':lvar_25')
    (assign, reg6, ':lvar_26')
    (assign, reg7, ':lvar_9')
    (assign, reg8, ':lvar_10')
    (assign, reg9, ':lvar_11')
    (assign, reg10, ':lvar_12')
    (assign, reg11, ':lvar_13')
    (assign, reg12, ':lvar_14')
    (overlay_set_text, '$gvar_453', '@qstr_299')
    (overlay_set_text, '$gvar_458', '@qstr_300')
    (overlay_set_text, '$gvar_459', '@qstr_301')
    (overlay_set_text, '$gvar_494', '@qstr_142')
    (overlay_set_text, '$gvar_495', '@qstr_143')
    (overlay_set_text, '$gvar_496', '@qstr_144')
    (overlay_set_text, '$gvar_500', '@qstr_145')
    (overlay_set_text, '$gvar_501', '@qstr_146')
    (overlay_set_text, '$gvar_502', '@qstr_147')
    (overlay_set_text, '$gvar_497', '@qstr_148')
    (overlay_set_text, '$gvar_498', '@qstr_149')
    (overlay_set_text, '$gvar_499', '@qstr_150')
    (assign, ':lvar_27', 100)
    (assign, ':lvar_28', 100)
    (val_add, ':lvar_27', 150)
    (val_add, ':lvar_28', 80)
    (position_set_x, 1, ':lvar_27')
    (position_set_y, 1, ':lvar_28')
    (overlay_set_position, '$gvar_494', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_495', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_496', 1)
    (val_add, ':lvar_27', -300)
    (val_add, ':lvar_28', -40)
    (position_set_x, 1, ':lvar_27')
    (position_set_y, 1, ':lvar_28')
    (overlay_set_position, '$gvar_500', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_501', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_502', 1)
    (val_add, ':lvar_27', -300)
    (val_add, ':lvar_28', -40)
    (position_set_x, 1, ':lvar_27')
    (position_set_y, 1, ':lvar_28')
    (overlay_set_position, '$gvar_497', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_498', 1)
    (val_add, ':lvar_27', 150)
    (position_set_x, 1, ':lvar_27')
    (overlay_set_position, '$gvar_499', 1)
    (call_script, 248)
    (try_begin)
      (eq, ':lvar_17', 1)
      (eq, ':lvar_18', 1)
      (eq, ':lvar_19', 1)
      (team_set_order_listener, ':lvar_16', 10)
    (else_try)
      (eq, ':lvar_17', 1)
      (team_set_order_listener, ':lvar_16', 0)
    (else_try)
      (eq, ':lvar_18', 1)
      (team_set_order_listener, ':lvar_16', 1)
    (else_try)
      (eq, ':lvar_19', 1)
      (team_set_order_listener, ':lvar_16', 2)
    (try_end)
set_fighters=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_set_slot, 932, 61, 0)
    (troop_set_slot, 933, 61, 1)
    (troop_set_slot, 934, 61, 2)
    (troop_set_slot, 935, 61, 3)
    (troop_set_slot, 936, 61, 4)
    (troop_set_slot, 937, 61, 5)
    (troop_set_slot, 938, 61, 6)
    (troop_set_slot, 939, 61, 7)
    (troop_set_slot, 932, 62, ':lvar_0')
    (troop_set_slot, 933, 62, ':lvar_0')
    (troop_set_slot, 934, 62, ':lvar_0')
    (troop_set_slot, 935, 62, ':lvar_0')
    (troop_set_slot, 936, 62, ':lvar_0')
    (troop_set_slot, 937, 62, ':lvar_0')
    (troop_set_slot, 938, 62, ':lvar_0')
    (troop_set_slot, 939, 62, ':lvar_0')
    (troop_set_slot, 932, 60, 100)
    (troop_set_slot, 933, 60, 100)
    (troop_set_slot, 934, 60, 100)
    (troop_set_slot, 935, 60, 100)
    (troop_set_slot, 936, 60, 100)
    (troop_set_slot, 937, 60, 100)
    (troop_set_slot, 938, 60, 100)
    (troop_set_slot, 939, 60, 100)
    (troop_set_slot, 932, 64, 1)
    (troop_set_slot, 933, 64, 1)
    (troop_set_slot, 934, 64, 1)
    (troop_set_slot, 935, 64, 1)
    (troop_set_slot, 936, 64, 1)
    (troop_set_slot, 937, 64, 1)
    (troop_set_slot, 938, 64, 1)
    (troop_set_slot, 939, 64, 1)
    (troop_set_slot, 923, 61, 0)
    (troop_set_slot, 924, 61, 1)
    (troop_set_slot, 925, 61, 2)
    (troop_set_slot, 926, 61, 0)
    (troop_set_slot, 927, 61, 1)
    (troop_set_slot, 928, 61, 2)
    (troop_set_slot, 929, 61, 3)
    (troop_set_slot, 930, 61, 3)
    (troop_set_slot, 923, 62, ':lvar_1')
    (troop_set_slot, 924, 62, ':lvar_1')
    (troop_set_slot, 925, 62, ':lvar_1')
    (troop_set_slot, 926, 62, 982)
    (troop_set_slot, 927, 62, 982)
    (troop_set_slot, 928, 62, 982)
    (troop_set_slot, 929, 62, 982)
    (troop_set_slot, 930, 62, ':lvar_1')
    (troop_set_slot, 923, 60, 100)
    (troop_set_slot, 924, 60, 100)
    (troop_set_slot, 925, 60, 100)
    (troop_set_slot, 926, 60, 100)
    (troop_set_slot, 927, 60, 100)
    (troop_set_slot, 928, 60, 100)
    (troop_set_slot, 929, 60, 100)
    (troop_set_slot, 930, 60, 100)
    (troop_set_slot, 923, 64, 1)
    (troop_set_slot, 924, 64, 1)
    (troop_set_slot, 925, 64, 1)
    (troop_set_slot, 926, 64, 1)
    (troop_set_slot, 927, 64, 1)
    (troop_set_slot, 928, 64, 1)
    (troop_set_slot, 929, 64, 1)
    (troop_set_slot, 930, 64, 1)
calculate_fighter_damages=>
    (try_for_range, ':lvar_0', 982, 1537)
      (scene_prop_get_num_instances, ':lvar_1', ':lvar_0')
      (try_for_range, ':lvar_2', 0, ':lvar_1')
        (scene_prop_get_instance, ':lvar_3', ':lvar_0', ':lvar_2')
        (prop_instance_get_position, 2, ':lvar_3')
        (try_for_range, ':lvar_4', 985, 994)
          (scene_prop_get_instance, ':lvar_5', ':lvar_4', 0)
          (prop_instance_get_position, 1, ':lvar_5')
          (get_distance_between_positions, ':lvar_6', 1, 2)
          (try_begin)
            (lt, ':lvar_6', 400)
            (play_sound, 210)
            (troop_get_slot, ':lvar_7', 932, 61)
            (troop_get_slot, ':lvar_8', 933, 61)
            (troop_get_slot, ':lvar_9', 934, 61)
            (troop_get_slot, ':lvar_10', 935, 61)
            (troop_get_slot, ':lvar_11', 936, 61)
            (troop_get_slot, ':lvar_12', 937, 61)
            (troop_get_slot, ':lvar_13', 938, 61)
            (troop_get_slot, ':lvar_14', 939, 61)
            (troop_get_slot, ':lvar_15', 932, 62)
            (troop_get_slot, ':lvar_16', 933, 62)
            (troop_get_slot, ':lvar_17', 934, 62)
            (troop_get_slot, ':lvar_18', 935, 62)
            (troop_get_slot, ':lvar_19', 936, 62)
            (troop_get_slot, ':lvar_20', 937, 62)
            (troop_get_slot, ':lvar_21', 938, 62)
            (troop_get_slot, ':lvar_22', 939, 62)
            (troop_get_slot, ':lvar_23', 923, 61)
            (troop_get_slot, ':lvar_24', 924, 61)
            (troop_get_slot, ':lvar_25', 925, 61)
            (troop_get_slot, ':lvar_26', 926, 61)
            (troop_get_slot, ':lvar_27', 927, 61)
            (troop_get_slot, ':lvar_28', 928, 61)
            (troop_get_slot, ':lvar_29', 929, 61)
            (troop_get_slot, ':lvar_30', 930, 61)
            (troop_get_slot, ':lvar_31', 923, 62)
            (troop_get_slot, ':lvar_32', 924, 62)
            (troop_get_slot, ':lvar_33', 925, 62)
            (troop_get_slot, ':lvar_34', 926, 62)
            (troop_get_slot, ':lvar_35', 927, 62)
            (troop_get_slot, ':lvar_36', 928, 62)
            (troop_get_slot, ':lvar_37', 929, 62)
            (troop_get_slot, ':lvar_38', 930, 62)
            (try_begin)
              (eq, ':lvar_2', ':lvar_7')
              (eq, ':lvar_0', ':lvar_15')
              (troop_get_slot, ':lvar_39', 932, 60)
              (val_sub, ':lvar_39', '$gvar_406')
              (troop_set_slot, 932, 60, ':lvar_39')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_8')
              (eq, ':lvar_0', ':lvar_16')
              (troop_get_slot, ':lvar_40', 933, 60)
              (val_sub, ':lvar_40', '$gvar_406')
              (troop_set_slot, 933, 60, ':lvar_40')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_9')
              (eq, ':lvar_0', ':lvar_17')
              (troop_get_slot, ':lvar_41', 934, 60)
              (val_sub, ':lvar_41', '$gvar_406')
              (troop_set_slot, 934, 60, ':lvar_41')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_10')
              (eq, ':lvar_0', ':lvar_18')
              (troop_get_slot, ':lvar_42', 935, 60)
              (val_sub, ':lvar_42', '$gvar_406')
              (troop_set_slot, 935, 60, ':lvar_42')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_11')
              (eq, ':lvar_0', ':lvar_19')
              (troop_get_slot, ':lvar_43', 936, 60)
              (val_sub, ':lvar_43', '$gvar_406')
              (troop_set_slot, 936, 60, ':lvar_43')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_12')
              (eq, ':lvar_0', ':lvar_20')
              (troop_get_slot, ':lvar_44', 937, 60)
              (val_sub, ':lvar_44', '$gvar_406')
              (troop_set_slot, 937, 60, ':lvar_44')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_13')
              (eq, ':lvar_0', ':lvar_21')
              (troop_get_slot, ':lvar_45', 938, 60)
              (val_sub, ':lvar_45', '$gvar_406')
              (troop_set_slot, 938, 60, ':lvar_45')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_14')
              (eq, ':lvar_0', ':lvar_22')
              (troop_get_slot, ':lvar_46', 939, 60)
              (val_sub, ':lvar_46', '$gvar_406')
              (troop_set_slot, 939, 60, ':lvar_46')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_23')
              (eq, ':lvar_0', ':lvar_31')
              (troop_get_slot, ':lvar_47', 923, 60)
              (val_sub, ':lvar_47', '$gvar_406')
              (troop_set_slot, 923, 60, ':lvar_47')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_24')
              (eq, ':lvar_0', ':lvar_32')
              (troop_get_slot, ':lvar_48', 924, 60)
              (val_sub, ':lvar_48', '$gvar_406')
              (troop_set_slot, 924, 60, ':lvar_48')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_25')
              (eq, ':lvar_0', ':lvar_33')
              (troop_get_slot, ':lvar_49', 925, 60)
              (val_sub, ':lvar_49', '$gvar_406')
              (troop_set_slot, 925, 60, ':lvar_49')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_26')
              (eq, ':lvar_0', ':lvar_34')
              (troop_get_slot, ':lvar_50', 926, 60)
              (val_sub, ':lvar_50', '$gvar_406')
              (troop_set_slot, 926, 60, ':lvar_50')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_27')
              (eq, ':lvar_0', ':lvar_35')
              (troop_get_slot, ':lvar_51', 927, 60)
              (val_sub, ':lvar_51', '$gvar_406')
              (troop_set_slot, 927, 60, ':lvar_51')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_28')
              (eq, ':lvar_0', ':lvar_36')
              (troop_get_slot, ':lvar_52', 928, 60)
              (val_sub, ':lvar_52', '$gvar_406')
              (troop_set_slot, 928, 60, ':lvar_52')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_29')
              (eq, ':lvar_0', ':lvar_37')
              (troop_get_slot, ':lvar_53', 929, 60)
              (val_sub, ':lvar_53', '$gvar_406')
              (troop_set_slot, 929, 60, ':lvar_53')
            (try_end)
            (try_begin)
              (eq, ':lvar_2', ':lvar_30')
              (eq, ':lvar_0', ':lvar_38')
              (troop_get_slot, ':lvar_54', 930, 60)
              (val_sub, ':lvar_54', '$gvar_406')
              (troop_set_slot, 930, 60, ':lvar_54')
            (try_end)
          (try_end)
        (try_end)
      (try_end)
    (try_end)
fighter_explosions=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_begin)
      (lt, reg5, 1)
      (troop_slot_eq, 932, 64, 1)
      (scene_prop_get_instance, ':lvar_2', ':lvar_0', 0)
      (prop_instance_get_position, 2, ':lvar_2')
      (particle_system_burst, 57, 2, 1)
      (troop_set_slot, 932, 64, 0)
      (position_move_y, 2, 100000)
      (prop_instance_animate_to_position, ':lvar_2', 2, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg6, 1)
      (troop_slot_eq, 933, 64, 1)
      (scene_prop_get_instance, ':lvar_3', ':lvar_0', 1)
      (prop_instance_get_position, 3, ':lvar_3')
      (particle_system_burst, 57, 3, 1)
      (troop_set_slot, 933, 64, 0)
      (position_move_y, 3, 1000000)
      (prop_instance_animate_to_position, ':lvar_3', 3, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg7, 1)
      (troop_slot_eq, 934, 64, 1)
      (scene_prop_get_instance, ':lvar_4', ':lvar_0', 2)
      (prop_instance_get_position, 4, ':lvar_4')
      (particle_system_burst, 57, 4, 1)
      (troop_set_slot, 934, 64, 0)
      (position_move_y, 4, 1000000)
      (prop_instance_animate_to_position, ':lvar_4', 4, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg8, 1)
      (troop_slot_eq, 935, 64, 1)
      (scene_prop_get_instance, ':lvar_5', ':lvar_0', 3)
      (prop_instance_get_position, 5, ':lvar_5')
      (particle_system_burst, 57, 5, 1)
      (troop_set_slot, 935, 64, 0)
      (position_move_y, 5, 1000000)
      (prop_instance_animate_to_position, ':lvar_5', 5, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg9, 1)
      (troop_slot_eq, 936, 64, 1)
      (scene_prop_get_instance, ':lvar_6', ':lvar_0', 4)
      (prop_instance_get_position, 6, ':lvar_6')
      (particle_system_burst, 57, 6, 1)
      (troop_set_slot, 936, 64, 0)
      (position_move_y, 6, 100000)
      (prop_instance_animate_to_position, ':lvar_6', 6, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg10, 1)
      (troop_slot_eq, 937, 64, 1)
      (scene_prop_get_instance, ':lvar_7', ':lvar_0', 5)
      (prop_instance_get_position, 7, ':lvar_7')
      (particle_system_burst, 57, 7, 1)
      (troop_set_slot, 937, 64, 0)
      (position_move_y, 7, 1000000)
      (prop_instance_animate_to_position, ':lvar_7', 7, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg11, 1)
      (troop_slot_eq, 938, 64, 1)
      (scene_prop_get_instance, ':lvar_8', ':lvar_0', 6)
      (prop_instance_get_position, 8, ':lvar_8')
      (particle_system_burst, 57, 8, 1)
      (troop_set_slot, 938, 64, 0)
      (position_move_y, 8, 1000000)
      (prop_instance_animate_to_position, ':lvar_8', 8, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg12, 1)
      (troop_slot_eq, 939, 64, 1)
      (scene_prop_get_instance, ':lvar_9', ':lvar_0', 7)
      (prop_instance_get_position, 9, ':lvar_9')
      (particle_system_burst, 57, 9, 1)
      (troop_set_slot, 939, 64, 0)
      (position_move_y, 9, 1000000)
      (prop_instance_animate_to_position, ':lvar_9', 9, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg13, 1)
      (troop_slot_eq, 923, 64, 1)
      (scene_prop_get_instance, ':lvar_10', ':lvar_1', 0)
      (prop_instance_get_position, 10, ':lvar_10')
      (particle_system_burst, 57, 10, 1)
      (troop_set_slot, 923, 64, 0)
      (position_move_y, 10, 100000)
      (prop_instance_animate_to_position, ':lvar_10', 10, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg14, 1)
      (troop_slot_eq, 924, 64, 1)
      (scene_prop_get_instance, ':lvar_11', ':lvar_1', 1)
      (prop_instance_get_position, 11, ':lvar_11')
      (particle_system_burst, 57, 11, 1)
      (troop_set_slot, 924, 64, 0)
      (position_move_y, 11, 1000000)
      (prop_instance_animate_to_position, ':lvar_11', 11, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg15, 1)
      (troop_slot_eq, 925, 64, 1)
      (scene_prop_get_instance, ':lvar_12', ':lvar_1', 2)
      (prop_instance_get_position, 12, ':lvar_12')
      (particle_system_burst, 57, 12, 1)
      (troop_set_slot, 925, 64, 0)
      (position_move_y, 12, 1000000)
      (prop_instance_animate_to_position, ':lvar_12', 12, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg16, 1)
      (troop_slot_eq, 926, 64, 1)
      (scene_prop_get_instance, ':lvar_13', ':lvar_1', 3)
      (prop_instance_get_position, 13, ':lvar_13')
      (particle_system_burst, 57, 13, 1)
      (troop_set_slot, 926, 64, 0)
      (position_move_y, 13, 1000000)
      (prop_instance_animate_to_position, ':lvar_13', 13, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg17, 1)
      (troop_slot_eq, 927, 64, 1)
      (scene_prop_get_instance, ':lvar_14', ':lvar_1', 4)
      (prop_instance_get_position, 14, ':lvar_14')
      (particle_system_burst, 57, 14, 1)
      (troop_set_slot, 927, 64, 0)
      (position_move_y, 14, 100000)
      (prop_instance_animate_to_position, ':lvar_14', 14, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg18, 1)
      (troop_slot_eq, 928, 64, 1)
      (scene_prop_get_instance, ':lvar_15', ':lvar_1', 5)
      (prop_instance_get_position, 15, ':lvar_15')
      (particle_system_burst, 57, 15, 1)
      (troop_set_slot, 928, 64, 0)
      (position_move_y, 15, 1000000)
      (prop_instance_animate_to_position, ':lvar_15', 15, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg19, 1)
      (troop_slot_eq, 929, 64, 1)
      (scene_prop_get_instance, ':lvar_16', ':lvar_1', 6)
      (prop_instance_get_position, 16, ':lvar_16')
      (particle_system_burst, 57, 16, 1)
      (troop_set_slot, 929, 64, 0)
      (position_move_y, 16, 1000000)
      (prop_instance_animate_to_position, ':lvar_16', 16, 10)
      (play_sound, 209)
    (try_end)
    (try_begin)
      (lt, reg20, 1)
      (troop_slot_eq, 930, 64, 1)
      (scene_prop_get_instance, ':lvar_17', ':lvar_1', 7)
      (prop_instance_get_position, 17, ':lvar_17')
      (particle_system_burst, 57, 17, 1)
      (troop_set_slot, 930, 64, 0)
      (position_move_y, 17, 1000000)
      (prop_instance_animate_to_position, ':lvar_17', 17, 10)
      (play_sound, 209)
    (try_end)
ai_cylon_movements=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_get_slot, ':lvar_2', ':lvar_1', 65)
    (prop_instance_get_position, 1, ':lvar_0')
    (prop_instance_get_position, 2, ':lvar_0')
    (prop_instance_get_position, 3, ':lvar_0')
    (prop_instance_get_position, 4, ':lvar_0')
    (prop_instance_get_position, 5, ':lvar_0')
    (prop_instance_get_position, 6, ':lvar_0')
    (prop_instance_get_position, 7, ':lvar_0')
    (prop_instance_get_position, 8, ':lvar_2')
    (prop_instance_get_position, 9, ':lvar_0')
    (position_move_y, 2, -100)
    (position_move_y, 3, 500)
    (position_move_x, 4, 500)
    (position_move_x, 5, -500)
    (position_move_z, 6, 500)
    (position_move_z, 7, -500)
    (position_move_z, 9, -4000)
    (get_distance_between_positions, ':lvar_3', 8, 2)
    (get_distance_between_positions, ':lvar_4', 8, 3)
    (get_distance_between_positions, ':lvar_5', 8, 4)
    (get_distance_between_positions, ':lvar_6', 8, 5)
    (get_distance_between_positions, ':lvar_7', 8, 6)
    (get_distance_between_positions, ':lvar_8', 8, 7)
    (get_distance_between_positions, ':lvar_9', 8, 9)
    (try_begin)
      (lt, ':lvar_3', ':lvar_4')
      (lt, ':lvar_3', ':lvar_6')
      (lt, ':lvar_3', ':lvar_5')
      (lt, ':lvar_3', ':lvar_7')
      (lt, ':lvar_3', ':lvar_8')
      (assign, ':lvar_10', 0)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_4', ':lvar_3')
      (lt, ':lvar_4', ':lvar_6')
      (lt, ':lvar_4', ':lvar_5')
      (lt, ':lvar_4', ':lvar_7')
      (lt, ':lvar_4', ':lvar_8')
      (assign, ':lvar_10', 5)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_6', ':lvar_3')
      (lt, ':lvar_6', ':lvar_4')
      (lt, ':lvar_6', ':lvar_5')
      (lt, ':lvar_6', ':lvar_7')
      (lt, ':lvar_6', ':lvar_8')
      (assign, ':lvar_11', -6)
      (assign, ':lvar_10', 0)
    (else_try)
      (lt, ':lvar_5', ':lvar_3')
      (lt, ':lvar_5', ':lvar_6')
      (lt, ':lvar_5', ':lvar_4')
      (lt, ':lvar_5', ':lvar_7')
      (lt, ':lvar_5', ':lvar_8')
      (assign, ':lvar_11', 6)
      (assign, ':lvar_10', 0)
    (else_try)
      (lt, ':lvar_7', ':lvar_3')
      (lt, ':lvar_7', ':lvar_6')
      (lt, ':lvar_7', ':lvar_5')
      (lt, ':lvar_7', ':lvar_4')
      (lt, ':lvar_7', ':lvar_8')
      (assign, ':lvar_10', 5)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_8', ':lvar_3')
      (lt, ':lvar_8', ':lvar_6')
      (lt, ':lvar_8', ':lvar_5')
      (lt, ':lvar_8', ':lvar_7')
      (lt, ':lvar_8', ':lvar_4')
      (assign, ':lvar_10', -5)
      (assign, ':lvar_11', 0)
    (try_end)
    (position_rotate_y, 1, ':lvar_11')
    (position_rotate_x, 1, ':lvar_10')
    (position_move_y, 1, 230)
    (try_begin)
      (troop_slot_eq, ':lvar_1', 64, 1)
      (prop_instance_animate_to_position, ':lvar_0', 1, 10)
    (try_end)
    (try_begin)
      (lt, ':lvar_9', 2000)
      (call_script, 374, ':lvar_0', ':lvar_1')
    (try_end)
ai_viper_movements=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (troop_get_slot, ':lvar_2', ':lvar_1', 65)
    (prop_instance_get_position, 1, ':lvar_0')
    (prop_instance_get_position, 2, ':lvar_0')
    (prop_instance_get_position, 3, ':lvar_0')
    (prop_instance_get_position, 4, ':lvar_0')
    (prop_instance_get_position, 5, ':lvar_0')
    (prop_instance_get_position, 6, ':lvar_0')
    (prop_instance_get_position, 7, ':lvar_0')
    (prop_instance_get_position, 8, ':lvar_2')
    (prop_instance_get_position, 9, ':lvar_0')
    (position_move_y, 2, -100)
    (position_move_y, 3, 500)
    (position_move_x, 4, 500)
    (position_move_x, 5, -500)
    (position_move_z, 6, 500)
    (position_move_z, 7, -500)
    (position_move_z, 9, -4000)
    (get_distance_between_positions, ':lvar_3', 8, 2)
    (get_distance_between_positions, ':lvar_4', 8, 3)
    (get_distance_between_positions, ':lvar_5', 8, 4)
    (get_distance_between_positions, ':lvar_6', 8, 5)
    (get_distance_between_positions, ':lvar_7', 8, 6)
    (get_distance_between_positions, ':lvar_8', 8, 7)
    (get_distance_between_positions, ':lvar_9', 8, 9)
    (try_begin)
      (lt, ':lvar_3', ':lvar_4')
      (lt, ':lvar_3', ':lvar_6')
      (lt, ':lvar_3', ':lvar_5')
      (lt, ':lvar_3', ':lvar_7')
      (lt, ':lvar_3', ':lvar_8')
      (assign, ':lvar_10', 0)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_4', ':lvar_3')
      (lt, ':lvar_4', ':lvar_6')
      (lt, ':lvar_4', ':lvar_5')
      (lt, ':lvar_4', ':lvar_7')
      (lt, ':lvar_4', ':lvar_8')
      (assign, ':lvar_10', 5)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_6', ':lvar_3')
      (lt, ':lvar_6', ':lvar_4')
      (lt, ':lvar_6', ':lvar_5')
      (lt, ':lvar_6', ':lvar_7')
      (lt, ':lvar_6', ':lvar_8')
      (assign, ':lvar_11', -6)
      (assign, ':lvar_10', 0)
    (else_try)
      (lt, ':lvar_5', ':lvar_3')
      (lt, ':lvar_5', ':lvar_6')
      (lt, ':lvar_5', ':lvar_4')
      (lt, ':lvar_5', ':lvar_7')
      (lt, ':lvar_5', ':lvar_8')
      (assign, ':lvar_11', 6)
      (assign, ':lvar_10', 0)
    (else_try)
      (lt, ':lvar_7', ':lvar_3')
      (lt, ':lvar_7', ':lvar_6')
      (lt, ':lvar_7', ':lvar_5')
      (lt, ':lvar_7', ':lvar_4')
      (lt, ':lvar_7', ':lvar_8')
      (assign, ':lvar_10', 5)
      (assign, ':lvar_11', 0)
    (else_try)
      (lt, ':lvar_8', ':lvar_3')
      (lt, ':lvar_8', ':lvar_6')
      (lt, ':lvar_8', ':lvar_5')
      (lt, ':lvar_8', ':lvar_7')
      (lt, ':lvar_8', ':lvar_4')
      (assign, ':lvar_10', -5)
      (assign, ':lvar_11', 0)
    (try_end)
    (position_rotate_y, 1, ':lvar_11')
    (position_rotate_x, 1, ':lvar_10')
    (position_move_y, 1, 240)
    (try_begin)
      (troop_slot_eq, ':lvar_1', 64, 1)
      (prop_instance_animate_to_position, ':lvar_0', 1, 10)
    (try_end)
    (try_begin)
      (lt, ':lvar_9', 2000)
      (call_script, 373, ':lvar_0', ':lvar_1')
    (try_end)
ai_viper_shot=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (prop_instance_get_position, 1, ':lvar_0')
    (prop_instance_get_position, 2, ':lvar_0')
    (prop_instance_get_position, 3, ':lvar_0')
    (prop_instance_get_position, 4, ':lvar_0')
    (scene_prop_get_instance, ':lvar_2', '$gvar_398', 0)
    (prop_instance_get_position, 5, ':lvar_2')
    (position_move_y, 1, 25)
    (position_move_x, 1, -300)
    (position_move_z, 1, -45)
    (position_move_y, 2, 25)
    (position_move_x, 2, 300)
    (position_move_z, 2, -45)
    (position_move_y, 3, -110)
    (position_move_x, 3, 0)
    (position_move_z, 3, 190)
    (particle_system_burst, 53, 1, 1)
    (particle_system_burst, 53, 2, 1)
    (particle_system_burst, 53, 3, 1)
    (get_distance_between_positions, ':lvar_3', 4, 5)
    (try_begin)
      (lt, ':lvar_3', 10000)
      (play_sound, 205)
    (try_end)
    (troop_get_slot, ':lvar_4', ':lvar_1', 66)
    (troop_get_slot, ':lvar_5', ':lvar_4', 60)
    (val_sub, ':lvar_5', 3)
    (troop_set_slot, ':lvar_4', 60, ':lvar_5')
ai_cylon_shot=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (prop_instance_get_position, 1, ':lvar_0')
    (prop_instance_get_position, 2, ':lvar_0')
    (prop_instance_get_position, 4, ':lvar_0')
    (scene_prop_get_instance, ':lvar_2', '$gvar_398', 0)
    (prop_instance_get_position, 5, ':lvar_2')
    (position_move_y, 1, 25)
    (position_move_x, 1, -75)
    (position_move_z, 1, 0)
    (position_move_y, 2, 25)
    (position_move_x, 2, 75)
    (position_move_z, 2, 0)
    (particle_system_burst, 54, 1, 1)
    (particle_system_burst, 54, 2, 1)
    (get_distance_between_positions, ':lvar_3', 4, 5)
    (try_begin)
      (lt, ':lvar_3', 10000)
      (play_sound, 206)
    (try_end)
    (troop_get_slot, ':lvar_4', ':lvar_1', 66)
    (troop_get_slot, ':lvar_5', ':lvar_4', 60)
    (val_sub, ':lvar_5', 2)
    (troop_set_slot, ':lvar_4', 60, ':lvar_5')
cf_agent_shield_bash=>
    (store_script_param, ':lvar_0', 1)
    (agent_get_position, 1, ':lvar_0')
    (agent_set_animation, ':lvar_0', 401)
    (assign, ':lvar_1', 0)
    (try_for_range, ':lvar_2', 782, 788)
      (agent_has_item_equipped, ':lvar_0', ':lvar_2')
      (assign, ':lvar_1', 1)
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 1)
      (agent_play_sound, ':lvar_0', 271)
    (else_try)
      (agent_play_sound, ':lvar_0', 128)
    (try_end)
    (assign, ':lvar_3', -1)
    (try_for_agents, ':lvar_4')
      (agent_is_alive, ':lvar_4')
      (agent_is_human, ':lvar_4')
      (neq, ':lvar_4', ':lvar_0')
      (agent_get_class, ':lvar_5', ':lvar_4')
      (neq, ':lvar_5', 2)
      (agent_get_position, 2, ':lvar_4')
      (get_distance_between_positions, ':lvar_6', 1, 2)
      (lt, ':lvar_6', 150)
      (neg|position_is_behind_position, 2, 1)
      (assign, ':lvar_3', ':lvar_4')
    (try_end)
    (gt, ':lvar_3', -1)
    (store_random_in_range, ':lvar_7', 5, 20)
    (store_agent_hit_points, ':lvar_8', ':lvar_3', 1)
    (val_sub, ':lvar_8', ':lvar_7')
    (store_random_in_range, ':lvar_9', 1, 101)
    (store_skill_level, ':lvar_10', 26, ':lvar_3')
    (store_skill_level, ':lvar_11', 26, ':lvar_0')
    (try_begin)
      (gt, ':lvar_8', 0)
      (agent_set_hit_points, ':lvar_3', ':lvar_8', 1)
      (get_player_agent_no, ':lvar_12')
      (try_begin)
        (eq, ':lvar_0', ':lvar_12')
        (assign, reg12, ':lvar_7')
        (display_message, '@qstr_386')
      (else_try)
        (eq, ':lvar_3', ':lvar_12')
        (assign, reg12, ':lvar_7')
        (display_message, '@qstr_387', 13669781)
      (try_end)
      (agent_play_sound, ':lvar_0', 100)
      (agent_play_sound, ':lvar_3', 125)
      (agent_play_sound, ':lvar_3', 125)
      (try_begin)
        (gt, ':lvar_10', ':lvar_11')
        (try_begin)
          (is_between, ':lvar_9', 0, 10)
          (agent_set_animation, ':lvar_3', 400)
        (else_try)
          (is_between, ':lvar_9', 11, 20)
          (agent_set_animation, ':lvar_3', 399)
        (else_try)
          (is_between, ':lvar_9', 21, 30)
          (agent_set_animation, ':lvar_3', 398)
        (else_try)
          (is_between, ':lvar_9', 21, 79)
          (agent_set_animation, ':lvar_3', 397)
        (else_try)
          (is_between, ':lvar_9', 80, 100)
          (agent_set_animation, ':lvar_3', 396)
        (try_end)
      (else_try)
        (lt, ':lvar_10', ':lvar_11')
        (try_begin)
          (is_between, ':lvar_9', 0, 20)
          (agent_set_animation, ':lvar_3', 400)
        (else_try)
          (is_between, ':lvar_9', 21, 42)
          (agent_set_animation, ':lvar_3', 399)
        (else_try)
          (is_between, ':lvar_9', 43, 65)
          (agent_set_animation, ':lvar_3', 398)
        (else_try)
          (is_between, ':lvar_9', 66, 92)
          (agent_set_animation, ':lvar_3', 397)
        (else_try)
          (is_between, ':lvar_9', 93, 100)
          (agent_set_animation, ':lvar_3', 396)
        (try_end)
      (else_try)
        (eq, ':lvar_10', ':lvar_11')
        (try_begin)
          (is_between, ':lvar_9', 0, 16)
          (agent_set_animation, ':lvar_3', 400)
        (else_try)
          (is_between, ':lvar_9', 17, 33)
          (agent_set_animation, ':lvar_3', 399)
        (else_try)
          (is_between, ':lvar_9', 34, 50)
          (agent_set_animation, ':lvar_3', 398)
        (else_try)
          (is_between, ':lvar_9', 51, 89)
          (agent_set_animation, ':lvar_3', 397)
        (else_try)
          (is_between, ':lvar_9', 90, 100)
          (agent_set_animation, ':lvar_3', 396)
        (try_end)
      (try_end)
    (else_try)
      (agent_play_sound, ':lvar_0', 100)
      (agent_play_sound, ':lvar_3', 125)
      (agent_deliver_damage_to_agent, ':lvar_0', ':lvar_3')
    (try_end)
init_item_difficulties=>
    (try_for_range, ':lvar_0', 0, 911)
      (store_item_value, ':lvar_1', ':lvar_0')
      (try_begin)
        (le, ':lvar_1', 50)
        (item_set_slot, ':lvar_0', 5, 0)
      (else_try)
        (store_mod, ':lvar_2', ':lvar_1', 10)
        (item_get_type, ':lvar_3', ':lvar_0')
        (try_begin)
          (this_or_next|eq, ':lvar_3', 2)
          (this_or_next|eq, ':lvar_3', 3)
          (this_or_next|eq, ':lvar_3', 4)
          (this_or_next|eq, ':lvar_3', 12)
          (this_or_next|eq, ':lvar_3', 13)
          (this_or_next|eq, ':lvar_3', 14)
          (eq, ':lvar_3', 15)
          (val_add, ':lvar_2', 5)
        (try_end)
        (item_set_slot, ':lvar_0', 5, ':lvar_2')
      (try_end)
    (try_end)
troop_can_use_item=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (item_get_slot, ':lvar_3', ':lvar_1', 5)
    (item_get_type, ':lvar_4', ':lvar_1')
    (try_begin)
      (eq, ':lvar_2', 32)
      (val_add, ':lvar_3', 1)
    (else_try)
      (eq, ':lvar_2', 33)
      (val_sub, ':lvar_3', 1)
    (else_try)
      (eq, ':lvar_2', 18)
      (val_add, ':lvar_3', 1)
    (else_try)
      (eq, ':lvar_2', 19)
      (val_add, ':lvar_3', 2)
    (else_try)
      (eq, ':lvar_2', 17)
      (val_add, ':lvar_3', 4)
    (try_end)
    (try_begin)
      (eq, ':lvar_4', 1)
      (store_skill_level, ':lvar_5', 24, ':lvar_0')
    (else_try)
      (this_or_next|eq, ':lvar_4', 2)
      (this_or_next|eq, ':lvar_4', 3)
      (this_or_next|eq, ':lvar_4', 4)
      (this_or_next|eq, ':lvar_4', 12)
      (this_or_next|eq, ':lvar_4', 13)
      (this_or_next|eq, ':lvar_4', 14)
      (eq, ':lvar_4', 15)
      (store_attribute_level, ':lvar_5', ':lvar_0', 0)
    (else_try)
      (eq, ':lvar_4', 7)
      (store_skill_level, ':lvar_5', 26, ':lvar_0')
    (else_try)
      (eq, ':lvar_4', 8)
      (store_skill_level, ':lvar_5', 33, ':lvar_0')
    (else_try)
      (eq, ':lvar_4', 10)
      (store_skill_level, ':lvar_5', 34, ':lvar_0')
    (try_end)
    (try_begin)
      (eq, ':lvar_4', 17)
      (assign, ':lvar_5', 10)
    (else_try)
      (eq, ':lvar_4', 16)
      (assign, ':lvar_5', 10)
    (try_end)
    (try_begin)
      (lt, ':lvar_5', ':lvar_3')
      (assign, reg0, 0)
    (else_try)
      (assign, reg0, 1)
    (try_end)
get_item_value_with_imod=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_item_value, ':lvar_2', ':lvar_0')
    (try_begin)
      (eq, ':lvar_1', 0)
      (val_mul, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_1', 1)
      (val_mul, ':lvar_2', 50)
    (else_try)
      (eq, ':lvar_1', 2)
      (val_mul, ':lvar_2', 55)
    (else_try)
      (eq, ':lvar_1', 3)
      (val_mul, ':lvar_2', 65)
    (else_try)
      (eq, ':lvar_1', 4)
      (val_mul, ':lvar_2', 72)
    (else_try)
      (eq, ':lvar_1', 5)
      (val_mul, ':lvar_2', 75)
    (else_try)
      (eq, ':lvar_1', 6)
      (val_mul, ':lvar_2', 80)
    (else_try)
      (eq, ':lvar_1', 7)
      (val_mul, ':lvar_2', 83)
    (else_try)
      (eq, ':lvar_1', 8)
      (val_mul, ':lvar_2', 86)
    (else_try)
      (eq, ':lvar_1', 9)
      (val_mul, ':lvar_2', 90)
    (else_try)
      (eq, ':lvar_1', 10)
      (val_mul, ':lvar_2', 190)
    (else_try)
      (eq, ':lvar_1', 11)
      (val_mul, ':lvar_2', 250)
    (else_try)
      (eq, ':lvar_1', 12)
      (val_mul, ':lvar_2', 160)
    (else_try)
      (eq, ':lvar_1', 13)
      (val_mul, ':lvar_2', 350)
    (else_try)
      (eq, ':lvar_1', 14)
      (val_mul, ':lvar_2', 670)
    (else_try)
      (eq, ':lvar_1', 15)
      (val_mul, ':lvar_2', 850)
    (else_try)
      (eq, ':lvar_1', 16)
      (val_mul, ':lvar_2', 1450)
    (else_try)
      (eq, ':lvar_1', 17)
      (val_mul, ':lvar_2', 1750)
    (else_try)
      (eq, ':lvar_1', 18)
      (val_mul, ':lvar_2', 190)
    (else_try)
      (eq, ':lvar_1', 19)
      (val_mul, ':lvar_2', 490)
    (else_try)
      (eq, ':lvar_1', 20)
      (val_mul, ':lvar_2', 320)
    (else_try)
      (eq, ':lvar_1', 21)
      (val_mul, ':lvar_2', 50)
    (else_try)
      (eq, ':lvar_1', 22)
      (val_mul, ':lvar_2', 70)
    (else_try)
      (eq, ':lvar_1', 23)
      (val_mul, ':lvar_2', 60)
    (else_try)
      (eq, ':lvar_1', 24)
      (val_mul, ':lvar_2', 170)
    (else_try)
      (eq, ':lvar_1', 25)
      (val_mul, ':lvar_2', 260)
    (else_try)
      (eq, ':lvar_1', 26)
      (val_mul, ':lvar_2', 390)
    (else_try)
      (eq, ':lvar_1', 27)
      (val_mul, ':lvar_2', 650)
    (else_try)
      (eq, ':lvar_1', 28)
      (val_mul, ':lvar_2', 250)
    (else_try)
      (eq, ':lvar_1', 29)
      (val_mul, ':lvar_2', 1150)
    (else_try)
      (eq, ':lvar_1', 30)
      (val_mul, ':lvar_2', 40)
    (else_try)
      (eq, ':lvar_1', 31)
      (val_mul, ':lvar_2', 60)
    (else_try)
      (eq, ':lvar_1', 32)
      (val_mul, ':lvar_2', 90)
    (else_try)
      (eq, ':lvar_1', 33)
      (val_mul, ':lvar_2', 180)
    (else_try)
      (eq, ':lvar_1', 34)
      (val_mul, ':lvar_2', 180)
    (else_try)
      (eq, ':lvar_1', 35)
      (val_mul, ':lvar_2', 650)
    (else_try)
      (eq, ':lvar_1', 36)
      (val_mul, ':lvar_2', 1450)
    (else_try)
      (eq, ':lvar_1', 37)
      (val_mul, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_1', 38)
      (val_mul, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_1', 39)
      (val_mul, ':lvar_2', 90)
    (else_try)
      (eq, ':lvar_1', 40)
      (val_mul, ':lvar_2', 40)
    (else_try)
      (eq, ':lvar_1', 41)
      (val_mul, ':lvar_2', 5)
    (else_try)
      (eq, ':lvar_1', 42)
      (val_mul, ':lvar_2', 190)
    (try_end)
    (assign, reg0, ':lvar_2')
print_wpn_upgrades_to_s0=>
    (store_script_param_1, ':lvar_0')
    (str_store_string, 0, 216172782113783809)
    (troop_get_slot, ':lvar_1', ':lvar_0', 157)
    (troop_get_inventory_slot, ':lvar_2', ':lvar_0', 0)
    (try_begin)
      (ge, ':lvar_2', 0)
      (str_store_item_name, 10, ':lvar_2')
    (else_try)
      (str_store_string, 10, 216172782113785191)
    (try_end)
    (val_add, ':lvar_1', 216172782113785201)
    (str_store_string, 1, ':lvar_1')
    (str_store_string, 0, '@qstr_388')
    (troop_get_slot, ':lvar_1', ':lvar_0', 158)
    (troop_get_inventory_slot, ':lvar_2', ':lvar_0', 1)
    (try_begin)
      (ge, ':lvar_2', 0)
      (str_store_item_name, 10, ':lvar_2')
    (else_try)
      (str_store_string, 10, 216172782113785191)
    (try_end)
    (val_add, ':lvar_1', 216172782113785201)
    (str_store_string, 1, ':lvar_1')
    (str_store_string, 0, '@qstr_388')
    (troop_get_slot, ':lvar_1', ':lvar_0', 159)
    (troop_get_inventory_slot, ':lvar_2', ':lvar_0', 2)
    (try_begin)
      (ge, ':lvar_2', 0)
      (str_store_item_name, 10, ':lvar_2')
    (else_try)
      (str_store_string, 10, 216172782113785191)
    (try_end)
    (val_add, ':lvar_1', 216172782113785201)
    (str_store_string, 1, ':lvar_1')
    (str_store_string, 0, '@qstr_388')
    (troop_get_slot, ':lvar_1', ':lvar_0', 160)
    (troop_get_inventory_slot, ':lvar_2', ':lvar_0', 3)
    (try_begin)
      (ge, ':lvar_2', 0)
      (str_store_item_name, 10, ':lvar_2')
    (else_try)
      (str_store_string, 10, 216172782113785191)
    (try_end)
    (val_add, ':lvar_1', 216172782113785201)
    (str_store_string, 1, ':lvar_1')
    (str_store_string, 0, '@qstr_388')
copy_upgrade_to_all_heroes=>
    (store_script_param_1, ':lvar_0')
    (troop_get_slot, ':lvar_1', ':lvar_0', 153)
    (troop_get_slot, ':lvar_2', ':lvar_0', 154)
    (troop_get_slot, ':lvar_3', ':lvar_0', 157)
    (troop_get_slot, ':lvar_4', ':lvar_0', 158)
    (troop_get_slot, ':lvar_5', ':lvar_0', 159)
    (troop_get_slot, ':lvar_6', ':lvar_0', 160)
    (try_for_range, ':lvar_7', 386, 404)
      (troop_set_slot, ':lvar_7', 153, ':lvar_1')
      (troop_set_slot, ':lvar_7', 154, ':lvar_2')
      (troop_set_slot, ':lvar_7', 157, ':lvar_3')
      (troop_set_slot, ':lvar_7', 158, ':lvar_4')
      (troop_set_slot, ':lvar_7', 159, ':lvar_5')
      (troop_set_slot, ':lvar_7', 160, ':lvar_6')
    (try_end)
loot_menu_talk=>
    (store_script_param, ':lvar_0', 1)
    (modify_visitors_at_site, 1)
    (reset_visitors)
    (set_visitor, 0, 0)
    (set_visitor, 17, ':lvar_0')
    (set_jump_mission, 1)
    (jump_to_scene, 1)
    (assign, '$gvar_166', 1)
    (change_screen_map_conversation, ':lvar_0')
auto_loot_all=>
    (party_get_num_companion_stacks, ':lvar_0', 0)
    (try_for_range, ':lvar_1', 0, ':lvar_0')
      (party_stack_get_troop_id, ':lvar_2', 0, ':lvar_1')
      (is_between, ':lvar_2', 386, 404)
      (call_script, 383, ':lvar_2', '$gvar_292')
    (try_end)
    (try_for_range, ':lvar_1', 0, ':lvar_0')
      (party_stack_get_troop_id, ':lvar_2', 0, ':lvar_1')
      (is_between, ':lvar_2', 386, 404)
      (call_script, 383, ':lvar_2', '$gvar_292')
    (try_end)
    (troop_sort_inventory, '$gvar_292')
auto_loot_troop=>
    (try_begin)
      (store_script_param, ':lvar_0', 1)
      (store_script_param, ':lvar_1', 2)
      (troop_get_slot, ':lvar_2', ':lvar_0', 153)
      (troop_get_slot, ':lvar_3', ':lvar_0', 154)
      (troop_get_inventory_capacity, ':lvar_4', ':lvar_0')
      (try_for_range, ':lvar_5', 10, ':lvar_4')
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', ':lvar_5')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', ':lvar_5')
        (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
        (troop_set_inventory_slot, ':lvar_0', ':lvar_5', -1)
      (try_end)
      (try_begin)
        (troop_slot_ge, ':lvar_0', 157, 1)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', 0)
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', 0)
        (troop_set_inventory_slot, ':lvar_0', 0, -1)
        (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
      (try_end)
      (try_begin)
        (troop_slot_ge, ':lvar_0', 158, 1)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', 1)
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', 1)
        (troop_set_inventory_slot, ':lvar_0', 1, -1)
        (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
      (try_end)
      (try_begin)
        (troop_slot_ge, ':lvar_0', 159, 1)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', 2)
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', 2)
        (troop_set_inventory_slot, ':lvar_0', 2, -1)
        (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
      (try_end)
      (try_begin)
        (troop_slot_ge, ':lvar_0', 160, 1)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', 3)
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', 3)
        (troop_set_inventory_slot, ':lvar_0', 3, -1)
        (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
      (try_end)
      (try_for_range, ':lvar_5', 4, 9)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_0', ':lvar_5')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_0', ':lvar_5')
        (try_begin)
          (neq, ':lvar_2', 0)
          (is_between, ':lvar_5', 4, 8)
          (troop_set_inventory_slot, ':lvar_0', ':lvar_5', -1)
          (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
        (else_try)
          (neq, ':lvar_3', 0)
          (eq, ':lvar_5', 8)
          (troop_set_inventory_slot, ':lvar_0', ':lvar_5', -1)
          (troop_add_item, ':lvar_1', ':lvar_6', ':lvar_7')
        (try_end)
      (try_end)
      (assign, ':lvar_8', -1)
      (assign, ':lvar_9', 0)
      (assign, ':lvar_10', -1)
      (assign, ':lvar_11', 0)
      (assign, ':lvar_12', -1)
      (assign, ':lvar_13', 0)
      (assign, ':lvar_14', -1)
      (assign, ':lvar_15', 0)
      (assign, ':lvar_16', -1)
      (assign, ':lvar_17', 0)
      (troop_get_inventory_capacity, ':lvar_4', ':lvar_1')
      (try_for_range, ':lvar_5', 0, ':lvar_4')
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_5')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_5')
        (call_script, 377, ':lvar_0', ':lvar_6', ':lvar_7')
        (eq, reg0, 1)
        (call_script, 378, ':lvar_6', ':lvar_7')
        (assign, ':lvar_18', reg0)
        (item_get_type, ':lvar_19', ':lvar_6')
        (try_begin)
          (eq, ':lvar_19', 1)
          (eq, ':lvar_3', 1)
          (gt, ':lvar_18', ':lvar_17')
          (assign, ':lvar_16', ':lvar_5')
          (assign, ':lvar_17', ':lvar_18')
        (else_try)
          (try_begin)
            (eq, ':lvar_19', 12)
            (eq, ':lvar_2', 1)
            (gt, ':lvar_18', ':lvar_9')
            (assign, ':lvar_8', ':lvar_5')
            (assign, ':lvar_9', ':lvar_18')
          (else_try)
            (eq, ':lvar_19', 13)
            (eq, ':lvar_2', 1)
            (gt, ':lvar_18', ':lvar_11')
            (assign, ':lvar_10', ':lvar_5')
            (assign, ':lvar_11', ':lvar_18')
          (else_try)
            (eq, ':lvar_19', 14)
            (eq, ':lvar_2', 1)
            (gt, ':lvar_18', ':lvar_13')
            (assign, ':lvar_12', ':lvar_5')
            (assign, ':lvar_13', ':lvar_18')
          (else_try)
            (eq, ':lvar_19', 15)
            (eq, ':lvar_2', 1)
            (gt, ':lvar_18', ':lvar_15')
            (assign, ':lvar_14', ':lvar_5')
            (assign, ':lvar_15', ':lvar_18')
          (try_end)
        (try_end)
      (try_end)
      (try_begin)
        (assign, ':lvar_20', ':lvar_8')
        (ge, ':lvar_20', 0)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_0', 4, ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', 4, ':lvar_7')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
      (try_end)
      (try_begin)
        (assign, ':lvar_20', ':lvar_10')
        (ge, ':lvar_20', 0)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_0', 5, ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', 5, ':lvar_7')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
      (try_end)
      (try_begin)
        (assign, ':lvar_20', ':lvar_12')
        (ge, ':lvar_20', 0)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_0', 6, ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', 6, ':lvar_7')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
      (try_end)
      (try_begin)
        (assign, ':lvar_20', ':lvar_14')
        (ge, ':lvar_20', 0)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_0', 7, ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', 7, ':lvar_7')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
      (try_end)
      (try_begin)
        (assign, ':lvar_20', ':lvar_16')
        (ge, ':lvar_20', 0)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_0', 8, ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', 8, ':lvar_7')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
      (try_end)
      (try_for_range, ':lvar_5', 0, 4)
        (store_add, ':lvar_21', ':lvar_5', 157)
        (troop_get_slot, ':lvar_22', ':lvar_0', ':lvar_21')
        (gt, ':lvar_22', 0)
        (call_script, 384, ':lvar_1', ':lvar_22', ':lvar_0')
        (assign, ':lvar_20', reg0)
        (neq, ':lvar_20', -1)
        (troop_get_inventory_slot, ':lvar_6', ':lvar_1', ':lvar_20')
        (ge, ':lvar_6', 0)
        (troop_get_inventory_slot_modifier, ':lvar_7', ':lvar_1', ':lvar_20')
        (troop_set_inventory_slot, ':lvar_1', ':lvar_20', -1)
        (troop_set_inventory_slot, ':lvar_0', ':lvar_5', ':lvar_6')
        (troop_set_inventory_slot_modifier, ':lvar_0', ':lvar_5', ':lvar_7')
      (try_end)
    (try_end)
scan_for_best_item_of_type=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (assign, ':lvar_3', -1)
    (assign, ':lvar_4', -1)
    (troop_get_inventory_capacity, ':lvar_5', ':lvar_0')
    (try_for_range, ':lvar_6', 0, ':lvar_5')
      (troop_get_inventory_slot, ':lvar_7', ':lvar_0', ':lvar_6')
      (ge, ':lvar_7', 0)
      (troop_get_inventory_slot_modifier, ':lvar_8', ':lvar_0', ':lvar_6')
      (item_get_type, ':lvar_9', ':lvar_7')
      (eq, ':lvar_9', ':lvar_1')
      (call_script, 377, ':lvar_2', ':lvar_7', ':lvar_8')
      (eq, reg0, 1)
      (call_script, 378, ':lvar_7', ':lvar_8')
      (gt, reg0, ':lvar_4')
      (assign, ':lvar_3', ':lvar_6')
      (assign, ':lvar_4', reg0)
    (try_end)
    (assign, reg0, ':lvar_3')
get_message_color=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, reg20, 4294967295)
    (assign, ':lvar_2', reg20)
    (store_troop_faction, ':lvar_3', 0)
    (try_begin)
      (eq, ':lvar_0', 1)
      (store_troop_faction, ':lvar_4', ':lvar_1')
      (try_begin)
        (eq, ':lvar_4', ':lvar_3')
        (assign, ':lvar_2', 16732240)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_4', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 5308240)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 2)
      (store_troop_faction, ':lvar_4', ':lvar_1')
      (try_begin)
        (eq, ':lvar_4', ':lvar_3')
        (assign, ':lvar_2', 16720418)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_4', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 65280)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 3)
      (store_troop_faction, ':lvar_4', ':lvar_1')
      (try_begin)
        (eq, ':lvar_4', ':lvar_3')
        (assign, ':lvar_2', 65280)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_4', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 16720418)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 4)
    (else_try)
      (eq, ':lvar_0', 5)
      (store_faction_of_party, ':lvar_6', ':lvar_1')
      (try_begin)
        (eq, ':lvar_6', ':lvar_3')
        (assign, ':lvar_2', 16732240)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_6', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 5308240)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 6)
      (store_faction_of_party, ':lvar_7', ':lvar_1')
      (try_begin)
        (eq, ':lvar_7', ':lvar_3')
        (assign, ':lvar_2', 16720418)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_7', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 65280)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 7)
      (store_faction_of_party, ':lvar_6', ':lvar_1')
      (try_begin)
        (eq, ':lvar_6', ':lvar_3')
        (assign, ':lvar_2', 16732240)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_6', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 5308240)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 8)
      (store_faction_of_party, ':lvar_6', ':lvar_1')
      (try_begin)
        (eq, ':lvar_6', ':lvar_3')
        (assign, ':lvar_2', 5308240)
      (else_try)
        (store_relation, ':lvar_5', ':lvar_6', ':lvar_3')
        (lt, ':lvar_5', 0)
        (assign, ':lvar_2', 16732240)
      (else_try)
        (assign, ':lvar_2', 16764006)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 9)
      (party_get_slot, ':lvar_8', ':lvar_1', 7)
      (try_begin)
        (eq, ':lvar_8', 0)
        (assign, ':lvar_2', 5308240)
      (else_try)
        (assign, ':lvar_2', 4294967295)
      (try_end)
    (try_end)
    (assign, reg20, ':lvar_2')
add_tavern_troops=>
    (try_for_range, reg2, 18, 73)
      (store_party_size, reg6, reg2)
      (lt, reg6, 40)
      (store_random, reg7, 5)
      (party_add_members, reg2, 24, 7)
      (store_random, reg8, 5)
      (party_add_members, reg2, 30, reg8)
      (store_random, reg9, 5)
      (party_add_members, reg2, 36, reg9)
      (store_random, reg10, 5)
      (party_add_members, reg2, 40, reg10)
      (store_random, reg11, 5)
      (party_add_members, reg2, 43, reg11)
      (store_random, reg12, 5)
      (party_add_members, reg2, 47, reg12)
      (store_random, reg13, 5)
      (party_add_members, reg2, 55, reg13)
      (store_random, reg14, 5)
      (party_add_members, reg2, 71, reg14)
      (store_random, reg15, 5)
      (party_add_members, reg2, 83, reg15)
      (store_random, reg16, 5)
      (party_add_members, reg2, 51, reg16)
      (store_random, reg17, 5)
      (party_add_members, reg2, 59, reg17)
      (store_random, reg18, 5)
      (party_add_members, reg2, 63, reg18)
      (store_random, reg19, 5)
      (party_add_members, reg2, 67, reg19)
      (store_random, reg20, 5)
      (party_add_members, reg2, 78, reg20)
      (store_random, reg21, 5)
      (party_add_members, reg2, 80, reg21)
      (store_random, reg22, 5)
      (party_add_members, reg2, 79, reg22)
      (store_random, reg23, 5)
      (party_add_members, reg2, 118, reg23)
      (store_random, reg24, 5)
      (party_add_members, reg2, 119, reg24)
    (try_end)
emit_projectile=>
    (set_fixed_point_multiplier, 100)
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (store_script_param, ':lvar_4', 5)
    (store_script_param, ':lvar_5', 6)
    (store_script_param, ':lvar_6', 7)
    (store_script_param, ':lvar_7', 8)
    (store_script_param, ':lvar_8', 9)
    (store_script_param, ':lvar_9', 10)
    (store_script_param, ':lvar_10', 11)
    (store_script_param, ':lvar_11', 12)
    (store_script_param, ':lvar_12', 13)
    (assign, ':lvar_13', 99999999)
    (try_for_agents, ':lvar_14')
      (agent_is_alive, ':lvar_14')
      (agent_is_human, ':lvar_14')
      (agent_get_position, 0, ':lvar_14')
      (get_distance_between_positions, ':lvar_15', 0, ':lvar_0')
      (lt, ':lvar_15', ':lvar_13')
      (assign, ':lvar_13', ':lvar_15')
      (assign, ':lvar_16', ':lvar_14')
    (try_end)
    (get_player_agent_no, ':lvar_16')
    (try_for_range_backwards, reg0, 1, 256)
      (troop_slot_eq, 982, reg0, 0)
      (assign, ':lvar_17', reg0)
    (try_end)
    (troop_set_slot, 982, ':lvar_17', 1)
    (troop_set_slot, 990, ':lvar_17', ':lvar_16')
    (troop_set_slot, 991, ':lvar_17', ':lvar_2')
    (troop_set_slot, 992, ':lvar_17', ':lvar_3')
    (troop_set_slot, 993, ':lvar_17', ':lvar_4')
    (troop_set_slot, 995, ':lvar_17', ':lvar_6')
    (troop_set_slot, 996, ':lvar_17', ':lvar_7')
    (troop_set_slot, 998, ':lvar_17', ':lvar_8')
    (troop_set_slot, 997, ':lvar_17', ':lvar_10')
    (troop_set_slot, 999, ':lvar_17', ':lvar_9')
    (troop_set_slot, 1001, ':lvar_17', ':lvar_12')
    (store_add, ':lvar_18', ':lvar_0', 1)
    (agent_get_look_position, ':lvar_18', ':lvar_16')
    (position_copy_rotation, ':lvar_0', ':lvar_18')
    (troop_set_slot, 989, ':lvar_17', '$gvar_315')
    (store_add, ':lvar_19', '$gvar_315', ':lvar_5')
    (troop_set_slot, 994, ':lvar_17', ':lvar_19')
    (position_get_x, ':lvar_20', ':lvar_0')
    (position_get_y, ':lvar_21', ':lvar_0')
    (position_get_z, ':lvar_22', ':lvar_0')
    (troop_set_slot, 983, ':lvar_17', ':lvar_20')
    (troop_set_slot, 984, ':lvar_17', ':lvar_21')
    (troop_set_slot, 985, ':lvar_17', ':lvar_22')
    (position_move_y, ':lvar_0', ':lvar_1')
    (position_get_x, ':lvar_23', ':lvar_0')
    (position_get_y, ':lvar_24', ':lvar_0')
    (position_get_z, ':lvar_25', ':lvar_0')
    (val_sub, ':lvar_23', ':lvar_20')
    (val_sub, ':lvar_24', ':lvar_21')
    (val_sub, ':lvar_25', ':lvar_22')
    (troop_set_slot, 986, ':lvar_17', ':lvar_23')
    (troop_set_slot, 987, ':lvar_17', ':lvar_24')
    (troop_set_slot, 988, ':lvar_17', ':lvar_25')
    (troop_set_slot, 1000, ':lvar_17', -1)
    (try_begin)
      (ge, ':lvar_11', 0)
      (scene_prop_get_num_instances, ':lvar_26', ':lvar_11')
      (assign, ':lvar_27', -1)
      (try_for_range, ':lvar_28', 0, ':lvar_26')
        (scene_prop_get_instance, ':lvar_29', ':lvar_11', ':lvar_28')
        (troop_slot_eq, 1002, ':lvar_29', 0)
        (assign, ':lvar_27', ':lvar_29')
      (try_end)
      (ge, ':lvar_27', 0)
      (troop_set_slot, 1002, ':lvar_27', ':lvar_17')
      (troop_set_slot, 1000, ':lvar_17', ':lvar_27')
      (prop_instance_set_position, ':lvar_27', ':lvar_0')
    (try_end)
position_face_position=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (assign, ':lvar_2', 9999999)
    (assign, ':lvar_3', 0)
    (try_for_range, ':lvar_4', 1, 361)
      (position_rotate_x, ':lvar_0', 1)
      (copy_position, 0, ':lvar_0')
      (position_move_y, 0, 1000)
      (get_distance_between_positions, ':lvar_5', 0, ':lvar_1')
      (lt, ':lvar_5', ':lvar_2')
      (assign, ':lvar_2', ':lvar_5')
      (assign, ':lvar_3', ':lvar_4')
    (try_end)
    (position_rotate_x, ':lvar_0', ':lvar_3')
    (assign, ':lvar_2', 9999999)
    (assign, ':lvar_6', 0)
    (try_for_range, ':lvar_4', 1, 361)
      (position_rotate_z, ':lvar_0', 1)
      (copy_position, 0, ':lvar_0')
      (position_move_y, 0, 1000)
      (get_distance_between_positions, ':lvar_5', 0, ':lvar_1')
      (lt, ':lvar_5', ':lvar_2')
      (assign, ':lvar_2', ':lvar_5')
      (assign, ':lvar_6', ':lvar_4')
    (try_end)
    (position_rotate_z, ':lvar_0', ':lvar_6')
agent_deliver_damage_to_agent=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (get_player_agent_no, ':lvar_3')
    (assign, reg1, ':lvar_2')
    (try_begin)
      (eq, ':lvar_3', ':lvar_0')
      (display_message, '@qstr_389')
    (try_end)
    (try_begin)
      (eq, ':lvar_3', ':lvar_1')
      (display_message, '@qstr_390')
    (try_end)
    (store_agent_hit_points, ':lvar_4', ':lvar_1', 1)
    (val_sub, ':lvar_4', ':lvar_2')
    (try_begin)
      (lt, ':lvar_4', 0)
      (agent_set_hit_points, ':lvar_1', 0, 1)
      (agent_deliver_damage_to_agent, ':lvar_0', ':lvar_1')
    (else_try)
      (agent_set_hit_points, ':lvar_1', ':lvar_4', 1)
    (try_end)
position_get_rotation_around=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (copy_position, 62, ':lvar_0')
    (try_begin)
      (eq, ':lvar_1', 0)
      (init_position, 0)
      (position_copy_origin, 0, 62)
      (position_get_rotation_around_z, reg0, 62)
      (val_mul, reg0, -1)
      (position_rotate_z, 62, reg0)
      (position_rotate_y, 62, 90)
      (position_transform_position_to_local, 63, 62, 0)
      (position_get_rotation_around_z, reg0, 63)
    (else_try)
      (eq, ':lvar_1', 1)
      (init_position, 0)
      (position_copy_origin, 0, 62)
      (position_get_rotation_around_z, reg0, 62)
      (val_mul, reg0, -1)
      (position_rotate_z, 62, reg0)
      (position_rotate_x, 62, 90)
      (position_transform_position_to_local, 63, 62, 0)
      (position_get_rotation_around_z, reg0, 63)
    (else_try)
      (position_get_rotation_around_z, reg0, 62)
    (try_end)
jq_xp_to_next_lvl=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (lt, ':lvar_0', 600)
      (assign, ':lvar_1', 600)
    (else_try)
      (lt, ':lvar_0', 1360)
      (assign, ':lvar_1', 1360)
    (else_try)
      (lt, ':lvar_0', 2296)
      (assign, ':lvar_1', 2296)
    (else_try)
      (lt, ':lvar_0', 3426)
      (assign, ':lvar_1', 3426)
    (else_try)
      (lt, ':lvar_0', 4768)
      (assign, ':lvar_1', 4768)
    (else_try)
      (lt, ':lvar_0', 6345)
      (assign, ':lvar_1', 6345)
    (else_try)
      (lt, ':lvar_0', 8179)
      (assign, ':lvar_1', 8179)
    (else_try)
      (lt, ':lvar_0', 10297)
      (assign, ':lvar_1', 10297)
    (else_try)
      (lt, ':lvar_0', 13010)
      (assign, ':lvar_1', 13010)
    (else_try)
      (lt, ':lvar_0', 16161)
      (assign, ':lvar_1', 16161)
    (else_try)
      (lt, ':lvar_0', 19806)
      (assign, ':lvar_1', 19806)
    (else_try)
      (lt, ':lvar_0', 24007)
      (assign, ':lvar_1', 24007)
    (else_try)
      (lt, ':lvar_0', 28832)
      (assign, ':lvar_1', 28832)
    (else_try)
      (lt, ':lvar_0', 34362)
      (assign, ':lvar_1', 34362)
    (else_try)
      (lt, ':lvar_0', 40682)
      (assign, ':lvar_1', 40682)
    (else_try)
      (lt, ':lvar_0', 47892)
      (assign, ':lvar_1', 47892)
    (else_try)
      (lt, ':lvar_0', 56103)
      (assign, ':lvar_1', 56103)
    (else_try)
      (lt, ':lvar_0', 65441)
      (assign, ':lvar_1', 65441)
    (else_try)
      (lt, ':lvar_0', 77233)
      (assign, ':lvar_1', 77233)
    (else_try)
      (lt, ':lvar_0', 90809)
      (assign, ':lvar_1', 90809)
    (else_try)
      (lt, ':lvar_0', 106425)
      (assign, ':lvar_1', 106425)
    (else_try)
      (lt, ':lvar_0', 124371)
      (assign, ':lvar_1', 124371)
    (else_try)
      (lt, ':lvar_0', 144981)
      (assign, ':lvar_1', 144981)
    (else_try)
      (lt, ':lvar_0', 168636)
      (assign, ':lvar_1', 168636)
    (else_try)
      (lt, ':lvar_0', 195769)
      (assign, ':lvar_1', 195769)
    (else_try)
      (lt, ':lvar_0', 226879)
      (assign, ':lvar_1', 226879)
    (else_try)
      (lt, ':lvar_0', 262533)
      (assign, ':lvar_1', 262533)
    (else_try)
      (lt, ':lvar_0', 303381)
      (assign, ':lvar_1', 303381)
    (else_try)
      (lt, ':lvar_0', 350164)
      (assign, ':lvar_1', 350164)
    (else_try)
      (lt, ':lvar_0', 412091)
      (assign, ':lvar_1', 412091)
    (try_end)
    (store_sub, reg1, ':lvar_1', ':lvar_0')
    (str_store_string, 1, '@qstr_112')
jq_extra_stats=>
    (store_script_param, ':lvar_0', 1)
    (str_store_troop_name, 9, ':lvar_0')
    (store_troop_health, reg2, ':lvar_0')
    (store_character_level, reg3, ':lvar_0')
    (call_script, 317, ':lvar_0')
    (assign, ':lvar_1', reg0)
    (assign, reg1, ':lvar_1')
    (str_store_string, 1, '@qstr_391')
    (overlay_set_text, '$gvar_517', 1)
    (try_for_range, ':lvar_2', 0, 8)
      (troop_get_inventory_slot, reg1, ':lvar_0', ':lvar_2')
      (try_begin)
        (lt, reg1, 1)
        (str_store_string, 8, '@qstr_110')
      (else_try)
        (str_store_item_name, 8, reg1)
      (try_end)
      (try_begin)
        (eq, ':lvar_2', 0)
        (overlay_set_text, '$gvar_519', 8)
      (else_try)
        (eq, ':lvar_2', 1)
        (overlay_set_text, '$gvar_520', 8)
      (else_try)
        (eq, ':lvar_2', 2)
        (overlay_set_text, '$gvar_521', 8)
      (else_try)
        (eq, ':lvar_2', 3)
        (overlay_set_text, '$gvar_522', 8)
      (else_try)
        (eq, ':lvar_2', 4)
        (overlay_set_text, '$gvar_523', 8)
      (else_try)
        (eq, ':lvar_2', 5)
        (overlay_set_text, '$gvar_524', 8)
      (else_try)
        (eq, ':lvar_2', 6)
        (overlay_set_text, '$gvar_525', 8)
      (else_try)
        (eq, ':lvar_2', 7)
        (overlay_set_text, '$gvar_526', 8)
      (try_end)
    (try_end)
    (set_result_string, 8)
random_bounty=>
    (store_script_param_1, ':lvar_0')
    (store_troop_faction, ':lvar_1', ':lvar_0')
    (troop_get_slot, ':lvar_2', ':lvar_0', 10)
    (assign, ':lvar_3', -1)
    (try_begin)
      (gt, ':lvar_2', 0)
      (party_get_attached_to, ':lvar_3', ':lvar_2')
    (else_try)
      (is_between, '$gvar_269', 46, 204)
      (assign, ':lvar_3', '$gvar_269')
    (try_end)
    (try_begin)
      (eq, ':lvar_1', 1)
      (store_faction_of_party, ':lvar_1', ':lvar_3')
    (try_end)
    (assign, ':lvar_4', -1)
    (try_for_range, ':lvar_5', 0, 20)
      (eq, ':lvar_4', -1)
      (assign, ':lvar_6', -1)
      (assign, ':lvar_7', -1)
      (assign, ':lvar_8', -1)
      (assign, ':lvar_9', -1)
      (assign, ':lvar_10', -1)
      (assign, ':lvar_11', -1)
      (assign, ':lvar_12', -1)
      (assign, ':lvar_13', -1)
      (assign, ':lvar_14', -1)
      (assign, ':lvar_15', -1)
      (assign, ':lvar_16', -1)
      (assign, ':lvar_17', 1)
      (assign, ':lvar_18', 0)
      (assign, ':lvar_19', 0)
      (assign, ':lvar_20', 0)
      (assign, ':lvar_21', 0)
      (assign, ':lvar_22', 0)
      (store_random_in_range, ':lvar_23', 7, 13)
      (neg|check_quest_active, ':lvar_23')
      (neg|quest_slot_ge, ':lvar_23', 25, 1)
      (try_begin)
        (eq, ':lvar_23', 7)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (else_try)
        (eq, ':lvar_23', 8)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (else_try)
        (eq, ':lvar_23', 9)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (else_try)
        (eq, ':lvar_23', 10)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (else_try)
        (eq, ':lvar_23', 11)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (else_try)
        (eq, ':lvar_23', 12)
        (try_begin)
          (ge, '$gvar_20', 0)
          (call_script, 80, ':lvar_1')
          (assign, ':lvar_7', reg0)
          (store_random_in_range, ':lvar_15', 0, 1000000)
          (assign, ':lvar_4', ':lvar_23')
          (assign, ':lvar_21', 7)
          (assign, ':lvar_22', 7)
        (try_end)
      (try_end)
    (try_end)
    (try_begin)
      (neq, ':lvar_4', -1)
      (try_begin)
        (ge, ':lvar_7', 0)
        (store_faction_of_party, ':lvar_8', ':lvar_7')
      (try_end)
      (quest_set_slot, ':lvar_4', 2, ':lvar_6')
      (quest_set_slot, ':lvar_4', 1, ':lvar_7')
      (quest_set_slot, ':lvar_4', 4, ':lvar_10')
      (quest_set_slot, ':lvar_4', 3, ':lvar_8')
      (quest_set_slot, ':lvar_4', 15, ':lvar_9')
      (quest_set_slot, ':lvar_4', 7, ':lvar_11')
      (quest_set_slot, ':lvar_4', 8, ':lvar_12')
      (quest_set_slot, ':lvar_4', 9, ':lvar_13')
      (quest_set_slot, ':lvar_4', 10, ':lvar_14')
      (quest_set_slot, ':lvar_4', 20, ':lvar_17')
      (quest_set_slot, ':lvar_4', 21, ':lvar_18')
      (quest_set_slot, ':lvar_4', 22, ':lvar_19')
      (quest_set_slot, ':lvar_4', 19, ':lvar_20')
      (quest_set_slot, ':lvar_4', 23, ':lvar_21')
      (quest_set_slot, ':lvar_4', 24, ':lvar_22')
      (quest_set_slot, ':lvar_4', 11, 0)
      (quest_set_slot, ':lvar_4', 6, ':lvar_0')
      (quest_set_slot, ':lvar_4', 12, ':lvar_3')
      (quest_set_slot, ':lvar_4', 13, ':lvar_15')
      (quest_set_slot, ':lvar_4', 14, ':lvar_16')
    (try_end)
    (assign, reg0, ':lvar_4')
walk_around_ship=>
    (store_script_param, ':lvar_0', 1)
    (assign, '$gvar_188', 0)
    (assign, '$gvar_166', 1)
    (assign, '$gvar_167', 1)
    (faction_get_slot, ':lvar_1', 15, 9)
    (try_begin)
      (eq, ':lvar_1', 7)
      (assign, ':lvar_2', 7)
    (else_try)
      (eq, ':lvar_1', 8)
      (assign, ':lvar_2', 8)
    (else_try)
      (eq, ':lvar_1', 9)
      (assign, ':lvar_2', 9)
    (else_try)
      (assign, ':lvar_2', 6)
    (try_end)
    (modify_visitors_at_site, ':lvar_2')
    (reset_visitors)
    (set_visitor, ':lvar_0', '$gvar_0')
    (assign, ':lvar_3', 1)
    (try_for_range, ':lvar_4', 386, 404)
      (party_count_companions_of_type, ':lvar_5', 0, ':lvar_4')
      (try_begin)
        (ge, ':lvar_5', 1)
        (set_visitor, ':lvar_3', ':lvar_4')
      (try_end)
      (val_add, ':lvar_3', 1)
    (try_end)
    (try_for_range, ':lvar_3', 30, 57)
      (store_random_in_range, ':lvar_6', 2, 9)
      (try_begin)
        (eq, ':lvar_6', 2)
        (faction_get_slot, ':lvar_7', 15, 42)
      (else_try)
        (eq, ':lvar_6', 3)
        (faction_get_slot, ':lvar_7', 15, 43)
      (else_try)
        (eq, ':lvar_6', 4)
        (faction_get_slot, ':lvar_7', 15, 44)
      (else_try)
        (eq, ':lvar_6', 5)
        (faction_get_slot, ':lvar_7', 15, 45)
      (else_try)
        (eq, ':lvar_6', 6)
        (faction_get_slot, ':lvar_7', 15, 83)
      (else_try)
        (eq, ':lvar_6', 7)
        (faction_get_slot, ':lvar_7', 15, 84)
      (else_try)
        (faction_get_slot, ':lvar_7', 15, 85)
      (try_end)
      (set_visitor, ':lvar_3', ':lvar_7')
    (try_end)
    (set_jump_mission, 42)
    (jump_to_scene, ':lvar_2')
    (change_screen_mission)
change_culture_empire=>
    (faction_set_slot, 15, 9, 7)
    (faction_set_slot, 15, 48, 159)
    (faction_set_slot, 15, 49, 144)
    (faction_set_slot, 15, 50, 158)
    (faction_set_slot, 15, 51, 156)
    (faction_set_slot, 15, 52, 157)
    (faction_set_slot, 15, 77, 36)
    (faction_set_slot, 15, 78, 37)
    (faction_set_slot, 15, 79, 38)
    (faction_set_slot, 15, 41, 133)
    (faction_set_slot, 15, 42, 142)
    (faction_set_slot, 15, 43, 144)
    (faction_set_slot, 15, 44, 148)
    (faction_set_slot, 15, 45, 156)
    (faction_set_slot, 15, 83, 141)
    (faction_set_slot, 15, 84, 145)
    (faction_set_slot, 15, 85, 143)
    (try_for_range, ':lvar_0', 510, 530)
      (troop_set_slot, ':lvar_0', 14, 16)
      (troop_clear_inventory, ':lvar_0')
      (try_for_range, ':lvar_1', 0, 9)
        (troop_set_inventory_slot, ':lvar_0', ':lvar_1', -1)
      (try_end)
      (troop_set_type, ':lvar_0', 0)
      (troop_add_item, ':lvar_0', 438, 0)
      (troop_add_item, ':lvar_0', 266, 0)
      (troop_add_item, ':lvar_0', 223, 0)
      (troop_add_item, ':lvar_0', 206, 0)
      (troop_add_item, ':lvar_0', 654, 0)
      (troop_add_item, ':lvar_0', 811, 0)
      (troop_add_item, ':lvar_0', 855, 0)
      (troop_equip_items, ':lvar_0')
    (try_end)
change_culture_rebel=>
    (faction_set_slot, 15, 9, 8)
    (faction_set_slot, 15, 48, 183)
    (faction_set_slot, 15, 50, 182)
    (faction_set_slot, 15, 49, 171)
    (faction_set_slot, 15, 51, 25)
    (faction_set_slot, 15, 52, 177)
    (faction_set_slot, 15, 77, 39)
    (faction_set_slot, 15, 78, 40)
    (faction_set_slot, 15, 79, 41)
    (faction_set_slot, 15, 41, 160)
    (faction_set_slot, 15, 42, 170)
    (faction_set_slot, 15, 43, 171)
    (faction_set_slot, 15, 44, 178)
    (faction_set_slot, 15, 45, 175)
    (faction_set_slot, 15, 83, 170)
    (faction_set_slot, 15, 84, 174)
    (faction_set_slot, 15, 85, 171)
    (try_for_range, ':lvar_0', 510, 530)
      (troop_set_slot, ':lvar_0', 14, 17)
      (troop_clear_inventory, ':lvar_0')
      (try_for_range, ':lvar_1', 0, 9)
        (troop_set_inventory_slot, ':lvar_0', ':lvar_1', -1)
      (try_end)
      (troop_add_item, ':lvar_0', 810, 0)
      (troop_add_item, ':lvar_0', 765, 0)
      (troop_add_item, ':lvar_0', 675, 0)
      (store_random_in_range, ':lvar_2', 0, 5)
      (try_begin)
        (eq, ':lvar_2', 0)
        (troop_set_type, ':lvar_0', 5)
        (troop_add_item, ':lvar_0', 687, 0)
        (troop_add_item, ':lvar_0', 326, 0)
        (troop_add_item, ':lvar_0', 217, 0)
        (troop_add_item, ':lvar_0', 835, 0)
      (else_try)
        (eq, ':lvar_2', 1)
        (troop_set_type, ':lvar_0', 9)
        (troop_add_item, ':lvar_0', 687, 0)
        (troop_add_item, ':lvar_0', 340, 0)
        (troop_add_item, ':lvar_0', 217, 0)
        (troop_add_item, ':lvar_0', 849, 0)
      (else_try)
        (eq, ':lvar_2', 2)
        (troop_set_type, ':lvar_0', 13)
        (troop_add_item, ':lvar_0', 687, 0)
        (troop_add_item, ':lvar_0', 340, 0)
        (troop_add_item, ':lvar_0', 217, 0)
        (troop_add_item, ':lvar_0', 850, 0)
      (else_try)
        (eq, ':lvar_2', 3)
        (troop_set_type, ':lvar_0', 8)
        (troop_add_item, ':lvar_0', 687, 0)
        (troop_add_item, ':lvar_0', 471, 0)
        (troop_add_item, ':lvar_0', 858, 0)
        (troop_add_item, ':lvar_0', 124, 0)
      (else_try)
        (troop_set_type, ':lvar_0', 11)
        (troop_add_item, ':lvar_0', 687, 0)
        (troop_add_item, ':lvar_0', 585, 0)
        (troop_add_item, ':lvar_0', 215, 0)
        (troop_add_item, ':lvar_0', 835, 0)
      (try_end)
      (troop_equip_items, ':lvar_0')
    (try_end)
change_culture_hutt=>
    (faction_set_slot, 15, 9, 9)
    (faction_set_slot, 15, 48, 195)
    (faction_set_slot, 15, 50, 194)
    (faction_set_slot, 15, 49, 186)
    (faction_set_slot, 15, 51, 38)
    (faction_set_slot, 15, 52, 38)
    (faction_set_slot, 15, 77, 42)
    (faction_set_slot, 15, 78, 43)
    (faction_set_slot, 15, 79, 44)
    (faction_set_slot, 15, 41, 184)
    (faction_set_slot, 15, 42, 186)
    (faction_set_slot, 15, 43, 187)
    (faction_set_slot, 15, 44, 189)
    (faction_set_slot, 15, 45, 193)
    (faction_set_slot, 15, 83, 185)
    (faction_set_slot, 15, 84, 189)
    (faction_set_slot, 15, 85, 187)
    (try_for_range, ':lvar_0', 510, 530)
      (troop_set_slot, ':lvar_0', 14, 18)
      (troop_clear_inventory, ':lvar_0')
      (try_for_range, ':lvar_1', 0, 9)
        (troop_set_inventory_slot, ':lvar_0', ':lvar_1', -1)
      (try_end)
      (troop_set_type, ':lvar_0', 0)
      (troop_add_item, ':lvar_0', 135, 0)
      (troop_add_item, ':lvar_0', 215, 0)
      (troop_add_item, ':lvar_0', 674, 0)
      (troop_add_item, ':lvar_0', 766, 0)
      (troop_add_item, ':lvar_0', 812, 0)
      (troop_add_item, ':lvar_0', 835, 0)
      (store_random_in_range, ':lvar_2', 0, 8)
      (try_begin)
        (eq, ':lvar_2', 0)
        (troop_add_item, ':lvar_0', 692, 0)
        (troop_add_item, ':lvar_0', 364, 0)
      (else_try)
        (eq, ':lvar_2', 1)
        (troop_add_item, ':lvar_0', 690, 0)
        (troop_add_item, ':lvar_0', 374, 0)
      (else_try)
        (eq, ':lvar_2', 2)
        (troop_add_item, ':lvar_0', 691, 0)
        (troop_add_item, ':lvar_0', 375, 0)
      (else_try)
        (eq, ':lvar_2', 3)
        (troop_add_item, ':lvar_0', 693, 0)
        (troop_add_item, ':lvar_0', 376, 0)
      (else_try)
        (eq, ':lvar_2', 4)
        (troop_add_item, ':lvar_0', 694, 0)
        (troop_add_item, ':lvar_0', 377, 0)
      (else_try)
        (eq, ':lvar_2', 5)
        (troop_add_item, ':lvar_0', 695, 0)
        (troop_add_item, ':lvar_0', 375, 0)
      (else_try)
        (eq, ':lvar_2', 6)
        (troop_add_item, ':lvar_0', 263, 0)
        (troop_add_item, ':lvar_0', 376, 0)
      (else_try)
        (troop_add_item, ':lvar_0', 264, 0)
        (troop_add_item, ':lvar_0', 377, 0)
      (try_end)
      (troop_equip_items, ':lvar_0')
    (try_end)
change_culture_human=>
    (faction_set_slot, 15, 9, 9)
    (faction_set_slot, 15, 48, 123)
    (faction_set_slot, 15, 50, 122)
    (faction_set_slot, 15, 49, 85)
    (faction_set_slot, 15, 51, 85)
    (faction_set_slot, 15, 52, 87)
    (faction_set_slot, 15, 77, 45)
    (faction_set_slot, 15, 78, 46)
    (faction_set_slot, 15, 79, 47)
    (faction_set_slot, 15, 41, 83)
    (faction_set_slot, 15, 42, 84)
    (faction_set_slot, 15, 43, 86)
    (faction_set_slot, 15, 44, 88)
    (faction_set_slot, 15, 45, 89)
    (faction_set_slot, 15, 83, 84)
    (faction_set_slot, 15, 84, 90)
    (faction_set_slot, 15, 85, 92)
    (faction_set_slot, 3, 48, 123)
    (faction_set_slot, 3, 50, 122)
    (faction_set_slot, 3, 49, 85)
    (faction_set_slot, 3, 51, 85)
    (faction_set_slot, 3, 52, 87)
    (faction_set_slot, 3, 77, 45)
    (faction_set_slot, 3, 78, 46)
    (faction_set_slot, 3, 79, 47)
    (faction_set_slot, 3, 41, 83)
    (faction_set_slot, 3, 42, 84)
    (faction_set_slot, 3, 43, 86)
    (faction_set_slot, 3, 44, 88)
    (faction_set_slot, 3, 45, 89)
    (faction_set_slot, 3, 83, 84)
    (faction_set_slot, 3, 84, 90)
    (faction_set_slot, 3, 85, 92)
    (try_for_range, ':lvar_0', 510, 530)
      (troop_set_slot, ':lvar_0', 14, 3)
      (troop_clear_inventory, ':lvar_0')
      (try_for_range, ':lvar_1', 0, 9)
        (troop_set_inventory_slot, ':lvar_0', ':lvar_1', -1)
      (try_end)
      (troop_set_type, ':lvar_0', 0)
      (troop_add_item, ':lvar_0', 198, 0)
      (troop_add_item, ':lvar_0', 217, 0)
      (troop_add_item, ':lvar_0', 674, 0)
      (troop_add_item, ':lvar_0', 812, 0)
      (troop_add_item, ':lvar_0', 835, 0)
      (troop_add_item, ':lvar_0', 779, 0)
      (store_random_in_range, ':lvar_2', 0, 4)
      (try_begin)
        (eq, ':lvar_2', 0)
        (troop_add_item, ':lvar_0', 264, 0)
        (troop_add_item, ':lvar_0', 336, 0)
      (else_try)
        (eq, ':lvar_2', 1)
        (troop_add_item, ':lvar_0', 260, 0)
        (troop_add_item, ':lvar_0', 336, 0)
      (else_try)
        (eq, ':lvar_2', 2)
        (troop_add_item, ':lvar_0', 263, 0)
        (troop_add_item, ':lvar_0', 335, 0)
      (else_try)
        (troop_add_item, ':lvar_0', 261, 0)
        (troop_add_item, ':lvar_0', 335, 0)
      (try_end)
      (troop_equip_items, ':lvar_0')
    (try_end)
start_arena_battle=>
    (assign, '$gvar_144', '$gvar_208')
    (store_current_hours, '$gvar_632')
    (assign, '$gvar_247', 1)
    (party_get_slot, ':lvar_0', '$gvar_208', 16)
    (modify_visitors_at_site, ':lvar_0')
    (reset_visitors)
    (store_random_in_range, '$gvar_633', 32, 40)
    (call_script, 400, '$gvar_633', 0)
    (set_visitor, '$gvar_633', 0)
    (set_jump_mission, 26)
    (jump_to_scene, ':lvar_0')
set_items_for_arena=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (mission_tpl_entry_clear_override_items, 26, ':lvar_0')
    (try_begin)
      (le, '$gvar_146', 0)
      (store_random_in_range, ':lvar_2', 1, 7)
      (try_begin)
        (le, ':lvar_2', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 597)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 442)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 216)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 787)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 738)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (else_try)
        (eq, ':lvar_2', 2)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 598)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 444)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 218)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 786)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 739)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (else_try)
        (eq, ':lvar_2', 3)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 597)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 446)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 216)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 787)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 738)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (else_try)
        (eq, ':lvar_2', 4)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 598)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 448)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 218)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 786)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 739)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (else_try)
        (eq, ':lvar_2', 5)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 595)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 450)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 216)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 783)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 734)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 596)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 452)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 216)
        (store_random_in_range, ':lvar_2', 1, 101)
        (try_begin)
          (le, ':lvar_2', 25)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 782)
        (else_try)
          (le, ':lvar_2', 50)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 735)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (else_try)
          (le, ':lvar_2', 75)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 790)
        (else_try)
          (mission_tpl_entry_add_override_item, 26, ':lvar_0', 789)
        (try_end)
      (try_end)
    (else_try)
      (eq, '$gvar_146', 2)
      (troop_get_type, ':lvar_3', '$gvar_0')
      (troop_set_type, ':lvar_1', ':lvar_3')
      (try_for_range, ':lvar_4', 0, 9)
        (troop_get_inventory_slot, ':lvar_5', '$gvar_0', ':lvar_4')
        (gt, ':lvar_5', 0)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', ':lvar_5')
      (try_end)
    (else_try)
      (eq, '$gvar_146', 3)
      (store_random_in_range, ':lvar_2', 1, 6)
      (try_begin)
        (le, ':lvar_2', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 800)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 43)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 2)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 804)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 42)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 3)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 803)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 44)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 4)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 801)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 41)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 802)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 40)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (try_end)
    (else_try)
      (eq, '$gvar_146', 4)
      (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (store_random_in_range, ':lvar_2', 1, 6)
      (try_begin)
        (le, ':lvar_2', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 43)
      (else_try)
        (eq, ':lvar_2', 2)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 42)
      (else_try)
        (eq, ':lvar_2', 3)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 44)
      (else_try)
        (eq, ':lvar_2', 4)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 41)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 40)
      (try_end)
      (store_random_in_range, ':lvar_2', 1, 15)
      (try_begin)
        (le, ':lvar_2', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 674)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 762)
      (else_try)
        (le, ':lvar_2', 2)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 675)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 760)
      (else_try)
        (eq, ':lvar_2', 3)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 668)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 803)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 877)
      (else_try)
        (eq, ':lvar_2', 4)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 669)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 802)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 879)
      (else_try)
        (eq, ':lvar_2', 5)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 670)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 804)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 880)
      (else_try)
        (eq, ':lvar_2', 6)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 643)
      (else_try)
        (eq, ':lvar_2', 7)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 644)
      (else_try)
        (eq, ':lvar_2', 8)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 647)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 773)
      (else_try)
        (eq, ':lvar_2', 9)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 650)
      (else_try)
        (eq, ':lvar_2', 10)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 657)
      (else_try)
        (eq, ':lvar_2', 11)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 191)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 645)
      (else_try)
        (eq, ':lvar_2', 12)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 753)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 666)
      (else_try)
        (eq, ':lvar_2', 13)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 651)
      (else_try)
        (eq, ':lvar_2', 14)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 653)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 773)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 676)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 759)
      (try_end)
    (else_try)
      (store_random_in_range, ':lvar_2', 1, 6)
      (try_begin)
        (le, ':lvar_2', 1)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 674)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 761)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 43)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 2)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 675)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 760)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 42)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 3)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 674)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 762)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 44)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (eq, ':lvar_2', 4)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 676)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 759)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 41)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (else_try)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 674)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 762)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 40)
        (mission_tpl_entry_add_override_item, 26, ':lvar_0', 215)
      (try_end)
    (try_end)
display_fullscreen_background=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (party_slot_eq, ':lvar_0', 0, 3)
      (try_begin)
        (eq, ':lvar_0', 48)
        (set_background_mesh, 39)
      (else_try)
        (eq, ':lvar_0', 53)
        (set_background_mesh, 43)
      (else_try)
        (eq, ':lvar_0', 54)
        (set_background_mesh, 36)
      (else_try)
        (eq, ':lvar_0', 55)
        (set_background_mesh, 42)
      (else_try)
        (eq, ':lvar_0', 56)
        (set_background_mesh, 41)
      (else_try)
        (eq, ':lvar_0', 57)
        (set_background_mesh, 40)
      (else_try)
        (eq, ':lvar_0', 58)
        (set_background_mesh, 39)
      (else_try)
        (eq, ':lvar_0', 59)
        (set_background_mesh, 43)
      (else_try)
        (eq, ':lvar_0', 62)
        (set_background_mesh, 43)
      (else_try)
        (eq, ':lvar_0', 66)
        (set_background_mesh, 44)
      (else_try)
        (eq, ':lvar_0', 72)
        (set_background_mesh, 45)
      (else_try)
        (store_random_in_range, ':lvar_1', 0, 100)
        (try_begin)
          (lt, ':lvar_1', 33)
          (set_background_mesh, 36)
        (else_try)
          (lt, ':lvar_1', 66)
          (set_background_mesh, 37)
        (else_try)
          (set_background_mesh, 38)
        (try_end)
      (try_end)
    (else_try)
      (party_slot_eq, ':lvar_0', 0, 2)
      (set_background_mesh, 35)
    (else_try)
      (party_slot_eq, ':lvar_0', 0, 4)
      (store_random_in_range, ':lvar_1', 0, 100)
      (try_begin)
        (lt, ':lvar_1', 50)
        (set_background_mesh, 33)
      (else_try)
        (set_background_mesh, 34)
      (try_end)
    (else_try)
      (set_background_mesh, 32)
    (try_end)
change_rain=>
    (store_script_param_1, '$gvar_208')
    (try_begin)
      (eq, '$gvar_208', 54)
      (store_random_in_range, ':lvar_0', 50, 100)
      (set_rain, 1, ':lvar_0')
    (else_try)
    (else_try)
      (eq, '$gvar_208', 66)
      (set_rain, 1, 100)
    (else_try)
      (eq, '$gvar_208', 175)
      (store_random_in_range, ':lvar_0', 79, 100)
      (set_rain, 1, 100)
    (else_try)
      (set_rain, 0, 0)
    (try_end)
fix_town_walkers=>
    (store_script_param_1, ':lvar_0')
    (store_faction_of_party, ':lvar_1', ':lvar_0')
    (try_for_range, ':lvar_2', 0, 8)
      (store_add, ':lvar_3', 180, ':lvar_2')
      (party_set_slot, ':lvar_0', ':lvar_3', 0)
      (try_begin)
        (this_or_next|party_slot_eq, ':lvar_0', 0, 3)
        (party_slot_eq, ':lvar_0', 0, 2)
        (try_begin)
          (eq, ':lvar_0', 53)
          (assign, ':lvar_4', 241)
          (assign, ':lvar_5', 242)
        (else_try)
          (eq, ':lvar_0', 54)
          (assign, ':lvar_4', 240)
          (assign, ':lvar_5', 241)
        (else_try)
          (eq, ':lvar_0', 55)
          (assign, ':lvar_4', 242)
          (assign, ':lvar_5', 244)
        (else_try)
          (eq, ':lvar_0', 57)
          (assign, ':lvar_4', 244)
          (assign, ':lvar_5', 246)
        (else_try)
          (eq, ':lvar_0', 59)
          (assign, ':lvar_4', 215)
          (assign, ':lvar_5', 240)
        (else_try)
          (eq, ':lvar_0', 62)
          (assign, ':lvar_4', 217)
          (assign, ':lvar_5', 221)
        (else_try)
          (eq, ':lvar_0', 66)
          (assign, ':lvar_4', 77)
          (assign, ':lvar_5', 77)
        (else_try)
          (eq, ':lvar_0', 148)
          (assign, ':lvar_4', 245)
          (assign, ':lvar_5', 245)
        (else_try)
          (eq, ':lvar_0', 166)
          (assign, ':lvar_4', 244)
          (assign, ':lvar_5', 244)
        (else_try)
          (eq, ':lvar_0', 171)
          (assign, ':lvar_4', 225)
          (assign, ':lvar_5', 225)
        (else_try)
          (eq, ':lvar_0', 155)
          (assign, ':lvar_4', 235)
          (assign, ':lvar_5', 235)
        (else_try)
        (else_try)
          (assign, ':lvar_4', 215)
          (assign, ':lvar_5', 239)
        (try_end)
        (store_faction_of_party, ':lvar_1', ':lvar_0')
        (try_begin)
          (eq, ':lvar_1', 16)
          (store_random_in_range, ':lvar_6', 0, 100)
          (try_begin)
            (le, ':lvar_6', 40)
            (store_random_in_range, ':lvar_7', 246, 254)
          (else_try)
            (store_random_in_range, ':lvar_7', ':lvar_4', ':lvar_5')
          (try_end)
        (else_try)
          (eq, ':lvar_1', 17)
          (store_random_in_range, ':lvar_6', 0, 100)
          (try_begin)
            (le, ':lvar_6', 40)
            (store_random_in_range, ':lvar_7', 254, 263)
          (else_try)
            (store_random_in_range, ':lvar_7', ':lvar_4', ':lvar_5')
          (try_end)
        (else_try)
          (eq, ':lvar_1', 18)
          (store_random_in_range, ':lvar_6', 0, 100)
          (try_begin)
            (le, ':lvar_6', 40)
            (store_random_in_range, ':lvar_7', 263, 267)
          (else_try)
            (store_random_in_range, ':lvar_7', ':lvar_4', ':lvar_5')
          (try_end)
        (else_try)
          (store_random_in_range, ':lvar_7', ':lvar_4', ':lvar_4')
        (try_end)
      (try_end)
      (store_add, ':lvar_8', 160, ':lvar_2')
      (party_set_slot, ':lvar_0', ':lvar_8', ':lvar_7')
      (store_random_in_range, ':lvar_9', 0, 1000000)
      (store_add, ':lvar_10', 170, ':lvar_2')
      (party_set_slot, ':lvar_0', ':lvar_10', ':lvar_9')
    (try_end)
update_fs_trainers=>
    (try_for_range, ':lvar_0', 373, 375)
      (troop_clear_inventory, ':lvar_0')
      (troop_add_item, ':lvar_0', 822, 0)
      (troop_add_item, ':lvar_0', 823, 0)
      (troop_add_item, ':lvar_0', 824, 0)
      (troop_add_item, ':lvar_0', 825, 0)
      (troop_add_item, ':lvar_0', 826, 0)
      (troop_add_item, ':lvar_0', 827, 0)
      (troop_add_item, ':lvar_0', 828, 0)
      (troop_add_item, ':lvar_0', 829, 0)
      (troop_add_item, ':lvar_0', 798, 0)
      (troop_add_item, ':lvar_0', 799, 0)
      (troop_add_item, ':lvar_0', 789, 0)
      (troop_add_item, ':lvar_0', 790, 0)
      (troop_add_item, ':lvar_0', 791, 0)
      (troop_add_item, ':lvar_0', 895, 0)
      (troop_add_item, ':lvar_0', 896, 0)
      (troop_add_item, ':lvar_0', 897, 0)
      (troop_add_item, ':lvar_0', 898, 0)
      (troop_add_item, ':lvar_0', 830, 0)
    (try_end)
update_fs_merchants=>
    (try_for_range, ':lvar_0', 383, 385)
      (troop_clear_inventory, ':lvar_0')
      (try_for_range, ':lvar_1', 600, 636)
        (troop_add_item, ':lvar_0', ':lvar_1', 0)
      (try_end)
      (try_for_range, ':lvar_1', 782, 788)
        (troop_add_item, ':lvar_0', ':lvar_1', 0)
      (try_end)
      (try_for_range, ':lvar_1', 740, 753)
        (troop_add_item, ':lvar_0', ':lvar_1', 0)
      (try_end)
    (try_end)
update_ce_merchants=>
    (try_for_range, ':lvar_0', 375, 377)
      (troop_clear_inventory, ':lvar_0')
      (troop_add_item, ':lvar_0', 273, 0)
      (troop_add_item, ':lvar_0', 273, 0)
      (troop_add_item, ':lvar_0', 274, 0)
      (troop_add_item, ':lvar_0', 274, 0)
      (troop_add_item, ':lvar_0', 275, 0)
      (troop_add_item, ':lvar_0', 275, 0)
      (troop_add_item, ':lvar_0', 276, 0)
      (troop_add_item, ':lvar_0', 276, 0)
      (troop_add_item, ':lvar_0', 277, 0)
      (troop_add_item, ':lvar_0', 277, 0)
      (troop_add_item, ':lvar_0', 278, 0)
      (troop_add_item, ':lvar_0', 278, 0)
      (troop_add_item, ':lvar_0', 279, 0)
      (troop_add_item, ':lvar_0', 280, 0)
      (troop_add_item, ':lvar_0', 406, 0)
      (troop_add_item, ':lvar_0', 406, 0)
      (troop_add_item, ':lvar_0', 407, 0)
      (troop_add_item, ':lvar_0', 407, 0)
      (troop_add_item, ':lvar_0', 408, 0)
      (troop_add_item, ':lvar_0', 408, 0)
      (troop_add_item, ':lvar_0', 409, 0)
      (troop_add_item, ':lvar_0', 409, 0)
      (troop_add_item, ':lvar_0', 410, 0)
      (troop_add_item, ':lvar_0', 410, 0)
      (troop_add_item, ':lvar_0', 411, 0)
      (troop_add_item, ':lvar_0', 411, 0)
      (troop_add_item, ':lvar_0', 412, 0)
      (troop_add_item, ':lvar_0', 413, 0)
      (troop_add_item, ':lvar_0', 414, 0)
      (troop_add_item, ':lvar_0', 414, 0)
      (troop_add_item, ':lvar_0', 415, 0)
      (troop_add_item, ':lvar_0', 415, 0)
      (troop_add_item, ':lvar_0', 416, 0)
      (troop_add_item, ':lvar_0', 416, 0)
      (troop_add_item, ':lvar_0', 417, 0)
      (troop_add_item, ':lvar_0', 417, 0)
      (troop_add_item, ':lvar_0', 418, 0)
      (troop_add_item, ':lvar_0', 418, 0)
      (troop_add_item, ':lvar_0', 419, 0)
      (troop_add_item, ':lvar_0', 420, 0)
      (troop_add_item, ':lvar_0', 208, 0)
      (troop_add_item, ':lvar_0', 208, 0)
      (troop_add_item, ':lvar_0', 209, 0)
      (troop_add_item, ':lvar_0', 209, 0)
      (troop_add_item, ':lvar_0', 210, 0)
      (troop_add_item, ':lvar_0', 210, 0)
      (troop_add_item, ':lvar_0', 211, 0)
      (troop_add_item, ':lvar_0', 211, 0)
      (troop_add_item, ':lvar_0', 212, 0)
      (troop_add_item, ':lvar_0', 212, 0)
      (troop_add_item, ':lvar_0', 213, 0)
      (troop_add_item, ':lvar_0', 213, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 229, 0)
      (troop_add_item, ':lvar_0', 844, 0)
      (troop_add_item, ':lvar_0', 844, 0)
      (troop_add_item, ':lvar_0', 846, 0)
      (troop_add_item, ':lvar_0', 846, 0)
      (troop_add_item, ':lvar_0', 814, 0)
      (troop_add_item, ':lvar_0', 814, 0)
      (troop_add_item, ':lvar_0', 271, 0)
      (troop_add_item, ':lvar_0', 272, 0)
    (try_end)
update_iw_merchants=>
    (try_for_range, ':lvar_0', 377, 379)
      (troop_clear_inventory, ':lvar_0')
      (troop_add_item, ':lvar_0', 892, 0)
      (troop_add_item, ':lvar_0', 893, 0)
      (troop_add_item, ':lvar_0', 894, 0)
      (troop_add_item, ':lvar_0', 755, 0)
      (troop_add_item, ':lvar_0', 756, 0)
      (troop_add_item, ':lvar_0', 757, 0)
      (troop_add_item, ':lvar_0', 891, 0)
      (troop_add_item, ':lvar_0', 891, 0)
      (troop_add_item, ':lvar_0', 891, 0)
      (troop_add_item, ':lvar_0', 809, 0)
      (troop_add_item, ':lvar_0', 819, 0)
    (try_end)
update_dp_merchants=>
    (try_for_range, ':lvar_0', 379, 381)
      (troop_clear_inventory, ':lvar_0')
      (troop_add_item, ':lvar_0', 537, 0)
      (troop_add_item, ':lvar_0', 530, 0)
      (troop_add_item, ':lvar_0', 531, 0)
      (troop_add_item, ':lvar_0', 532, 0)
      (troop_add_item, ':lvar_0', 533, 0)
      (troop_add_item, ':lvar_0', 538, 0)
      (troop_add_item, ':lvar_0', 539, 0)
      (troop_add_item, ':lvar_0', 540, 0)
      (troop_add_item, ':lvar_0', 541, 0)
      (troop_add_item, ':lvar_0', 495, 0)
      (troop_add_item, ':lvar_0', 496, 0)
      (troop_add_item, ':lvar_0', 497, 0)
      (troop_add_item, ':lvar_0', 498, 0)
      (troop_add_item, ':lvar_0', 499, 0)
      (troop_add_item, ':lvar_0', 500, 0)
      (troop_add_item, ':lvar_0', 501, 0)
      (troop_add_item, ':lvar_0', 502, 0)
      (troop_add_item, ':lvar_0', 503, 0)
      (troop_add_item, ':lvar_0', 504, 0)
      (troop_add_item, ':lvar_0', 505, 0)
      (troop_add_item, ':lvar_0', 506, 0)
      (troop_add_item, ':lvar_0', 507, 0)
      (troop_add_item, ':lvar_0', 508, 0)
      (troop_add_item, ':lvar_0', 509, 0)
      (troop_add_item, ':lvar_0', 510, 0)
      (troop_add_item, ':lvar_0', 516, 0)
      (troop_add_item, ':lvar_0', 517, 0)
      (troop_add_item, ':lvar_0', 518, 0)
      (troop_add_item, ':lvar_0', 519, 0)
      (troop_add_item, ':lvar_0', 520, 0)
      (troop_add_item, ':lvar_0', 521, 0)
      (troop_add_item, ':lvar_0', 484, 0)
      (troop_add_item, ':lvar_0', 485, 0)
      (troop_add_item, ':lvar_0', 486, 0)
      (troop_add_item, ':lvar_0', 487, 0)
      (troop_add_item, ':lvar_0', 493, 0)
      (troop_add_item, ':lvar_0', 491, 0)
      (troop_add_item, ':lvar_0', 492, 0)
      (troop_add_item, ':lvar_0', 494, 0)
      (troop_add_item, ':lvar_0', 489, 0)
      (troop_add_item, ':lvar_0', 490, 0)
      (troop_add_item, ':lvar_0', 488, 0)
      (troop_add_item, ':lvar_0', 527, 0)
      (troop_add_item, ':lvar_0', 527, 0)
      (troop_add_item, ':lvar_0', 528, 0)
      (troop_add_item, ':lvar_0', 528, 0)
      (troop_add_item, ':lvar_0', 529, 0)
      (troop_add_item, ':lvar_0', 529, 0)
      (troop_add_item, ':lvar_0', 483, 0)
      (troop_add_item, ':lvar_0', 483, 0)
      (troop_add_item, ':lvar_0', 525, 0)
      (troop_add_item, ':lvar_0', 524, 0)
      (troop_add_item, ':lvar_0', 523, 0)
      (troop_add_item, ':lvar_0', 526, 0)
    (try_end)
update_ps_merchants=>
    (try_for_range, ':lvar_0', 381, 383)
      (troop_clear_inventory, ':lvar_0')
      (troop_add_item, ':lvar_0', 689, 0)
      (troop_add_item, ':lvar_0', 690, 0)
      (troop_add_item, ':lvar_0', 691, 0)
      (troop_add_item, ':lvar_0', 692, 0)
      (troop_add_item, ':lvar_0', 693, 0)
      (troop_add_item, ':lvar_0', 694, 0)
      (troop_add_item, ':lvar_0', 695, 0)
      (troop_add_item, ':lvar_0', 696, 0)
      (troop_add_item, ':lvar_0', 271, 0)
      (troop_add_item, ':lvar_0', 272, 0)
    (try_end)
race_type_fix=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (this_or_next|eq, ':lvar_0', 1)
      (eq, ':lvar_0', 12)
      (assign, reg1, 1)
    (else_try)
      (assign, reg1, 0)
    (try_end)
race_fix=>
    (try_begin)
      (eq, '$gvar_151', 0)
      (str_store_string, 23, '@qstr_392')
      (str_store_string, 24, '@qstr_393')
      (str_store_string, 25, '@qstr_394')
      (str_store_string, 26, '@qstr_392')
      (str_store_string, 27, '@qstr_395')
      (str_store_string, 28, '@qstr_396')
      (str_store_string, 29, '@qstr_397')
      (str_store_string, 30, '@qstr_398')
    (else_try)
      (eq, '$gvar_151', 1)
      (str_store_string, 23, '@qstr_399')
      (str_store_string, 24, '@qstr_400')
      (str_store_string, 25, '@qstr_401')
      (str_store_string, 26, '@qstr_401')
      (str_store_string, 27, '@qstr_402')
      (str_store_string, 28, '@qstr_403')
      (str_store_string, 29, '@qstr_402')
      (str_store_string, 30, '@qstr_404')
    (try_end)
    (troop_get_type, ':lvar_0', '$gvar_15')
    (try_begin)
      (this_or_next|eq, ':lvar_0', 1)
      (eq, ':lvar_0', 12)
      (assign, reg1, 1)
    (else_try)
      (assign, reg1, 0)
    (try_end)
    (str_store_string, 31, '@qstr_405')
    (str_store_string, 32, '@qstr_406')
    (str_store_string, 33, '@qstr_407')
    (str_store_string, 34, '@qstr_408')
    (str_store_string, 35, '@qstr_409')
    (str_store_string, 36, '@qstr_410')
    (str_store_string, 37, '@qstr_411')
    (str_store_string, 38, '@qstr_412')
    (str_store_string, 39, '@qstr_413')
init_patrol_bases=>
    (try_for_parties, ':lvar_0')
      (party_set_slot, ':lvar_0', 800, 0)
    (try_end)
    (call_script, 414, 61, 3)
    (call_script, 414, 53, 2)
    (call_script, 414, 49, 3)
    (call_script, 414, 60, 1)
    (call_script, 414, 47, 1)
    (call_script, 414, 46, 2)
    (call_script, 414, 51, 1)
    (call_script, 414, 48, 3)
    (call_script, 414, 65, 1)
    (call_script, 414, 66, 1)
    (call_script, 414, 67, 1)
    (call_script, 414, 52, 2)
    (call_script, 414, 55, 2)
    (call_script, 414, 54, 1)
    (call_script, 414, 56, 3)
    (call_script, 414, 50, 3)
    (call_script, 414, 64, 1)
    (call_script, 414, 63, 2)
    (call_script, 414, 62, 1)
    (call_script, 414, 59, 3)
    (call_script, 414, 57, 2)
init_patrol_faction_settings=>
    (faction_set_slot, 16, 83, 141)
    (faction_set_slot, 16, 84, 145)
    (faction_set_slot, 16, 85, 143)
    (faction_set_slot, 17, 83, 170)
    (faction_set_slot, 17, 84, 174)
    (faction_set_slot, 17, 85, 171)
    (faction_set_slot, 18, 83, 185)
    (faction_set_slot, 18, 84, 189)
    (faction_set_slot, 18, 85, 187)
init_patrol_settings=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (party_set_slot, ':lvar_0', 800, ':lvar_1')
    (str_store_party_name, 10, ':lvar_0')
    (assign, reg9, ':lvar_1')
patrol_base_spawn_patrols=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 800)
    (assign, ':lvar_2', 0)
    (try_for_parties, ':lvar_3')
      (party_get_template_id, ':lvar_4', ':lvar_3')
      (eq, ':lvar_4', 13)
      (party_slot_eq, ':lvar_3', 123, ':lvar_0')
      (val_add, ':lvar_2', 1)
    (try_end)
    (assign, ':lvar_5', 2)
    (val_sub, ':lvar_5', ':lvar_2')
    (try_begin)
      (gt, ':lvar_5', 0)
      (try_for_range, ':lvar_6', 0, ':lvar_5')
        (set_spawn_radius, 1)
        (spawn_around_party, ':lvar_0', 13)
        (store_faction_of_party, ':lvar_7', ':lvar_0')
        (assign, ':lvar_3', reg0)
        (party_set_faction, ':lvar_3', ':lvar_7')
        (try_begin)
          (eq, ':lvar_7', 16)
          (party_set_icon, ':lvar_3', 6)
        (else_try)
          (eq, ':lvar_7', 17)
          (party_set_icon, ':lvar_3', 8)
        (else_try)
          (eq, ':lvar_7', 18)
          (party_set_icon, ':lvar_3', 23)
        (else_try)
          (party_set_icon, ':lvar_3', 26)
        (try_end)
        (party_set_slot, ':lvar_3', 123, ':lvar_0')
        (faction_get_slot, ':lvar_8', ':lvar_7', 83)
        (faction_get_slot, ':lvar_9', ':lvar_7', 84)
        (faction_get_slot, ':lvar_10', ':lvar_7', 85)
        (try_begin)
          (this_or_next|le, ':lvar_8', 0)
          (this_or_next|le, ':lvar_9', 0)
          (le, ':lvar_10', 0)
          (assign, ':lvar_8', 84)
          (assign, ':lvar_9', 85)
          (assign, ':lvar_10', 87)
        (try_end)
        (try_begin)
          (eq, ':lvar_1', 1)
          (party_add_members, ':lvar_3', ':lvar_8', 15)
          (party_add_members, ':lvar_3', ':lvar_9', 5)
        (else_try)
          (eq, ':lvar_1', 2)
          (party_add_members, ':lvar_3', ':lvar_8', 20)
          (party_add_members, ':lvar_3', ':lvar_9', 10)
          (party_add_members, ':lvar_3', ':lvar_10', 5)
        (else_try)
          (eq, ':lvar_1', 3)
          (party_add_members, ':lvar_3', ':lvar_8', 25)
          (party_add_members, ':lvar_3', ':lvar_9', 15)
          (party_add_members, ':lvar_3', ':lvar_10', 10)
        (try_end)
        (party_remove_members, ':lvar_3', 81, 1)
        (call_script, 420, ':lvar_3')
      (try_end)
    (try_end)
process_patrol_maintenance=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 123)
    (party_get_slot, ':lvar_2', ':lvar_1', 800)
    (get_party_ai_current_behavior, ':lvar_3', ':lvar_0')
    (party_get_num_companions, ':lvar_4', ':lvar_0')
    (party_get_num_prisoners, ':lvar_5', ':lvar_0')
    (get_party_ai_object, ':lvar_6', ':lvar_0')
    (party_get_battle_opponent, ':lvar_7', ':lvar_0')
    (try_begin)
      (le, ':lvar_7', 0)
      (this_or_next|eq, ':lvar_3', 3)
      (this_or_next|eq, ':lvar_3', 0)
      (this_or_next|eq, ':lvar_3', 10)
      (eq, ':lvar_3', 6)
      (try_begin)
        (eq, ':lvar_2', 1)
        (assign, ':lvar_8', 20)
      (else_try)
        (eq, ':lvar_2', 2)
        (assign, ':lvar_8', 35)
      (else_try)
        (eq, ':lvar_2', 3)
        (assign, ':lvar_8', 50)
      (try_end)
      (this_or_next|gt, ':lvar_5', 0)
      (this_or_next|lt, ':lvar_4', ':lvar_8')
      (gt, ':lvar_4', ':lvar_8')
      (party_set_slot, ':lvar_0', 4, -1)
      (gt, ':lvar_1', 0)
      (party_set_ai_behavior, ':lvar_0', 1)
      (party_set_ai_object, ':lvar_0', ':lvar_1')
    (else_try)
      (get_party_ai_current_behavior, ':lvar_3', ':lvar_0')
      (eq, ':lvar_3', 8)
      (eq, ':lvar_6', ':lvar_1')
      (call_script, 417, ':lvar_0')
      (party_set_ai_behavior, ':lvar_0', 0)
      (call_script, 420, ':lvar_0')
    (else_try)
      (get_party_ai_current_behavior, ':lvar_3', ':lvar_0')
      (eq, ':lvar_3', 8)
      (neq, ':lvar_6', ':lvar_1')
      (party_set_ai_behavior, ':lvar_0', 1)
      (party_set_ai_object, ':lvar_0', ':lvar_1')
    (try_end)
patrol_unit_maintenance=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 123)
    (party_get_slot, ':lvar_2', ':lvar_1', 800)
    (store_faction_of_party, ':lvar_3', ':lvar_1')
    (faction_get_slot, ':lvar_4', ':lvar_3', 83)
    (faction_get_slot, ':lvar_5', ':lvar_3', 84)
    (faction_get_slot, ':lvar_6', ':lvar_3', 85)
    (try_begin)
      (this_or_next|le, ':lvar_4', 0)
      (this_or_next|le, ':lvar_5', 0)
      (le, ':lvar_6', 0)
      (assign, ':lvar_4', 84)
      (assign, ':lvar_5', 85)
      (assign, ':lvar_6', 87)
    (try_end)
    (try_begin)
      (party_get_num_prisoners, ':lvar_7', ':lvar_0')
      (gt, ':lvar_7', 0)
      (party_get_num_prisoner_stacks, ':lvar_8', ':lvar_0')
      (try_for_range_backwards, ':lvar_9', 0, ':lvar_8')
        (party_prisoner_stack_get_troop_id, ':lvar_10', ':lvar_0', ':lvar_9')
        (gt, ':lvar_10', 0)
        (party_prisoner_stack_get_size, ':lvar_11', ':lvar_0', ':lvar_9')
        (party_add_prisoners, ':lvar_1', ':lvar_10', ':lvar_11')
        (party_remove_prisoners, ':lvar_0', ':lvar_10', ':lvar_11')
        (assign, reg24, ':lvar_10')
      (try_end)
    (try_end)
    (try_begin)
      (party_get_num_companion_stacks, ':lvar_12', ':lvar_0')
      (try_for_range_backwards, ':lvar_9', 0, ':lvar_12')
        (party_stack_get_troop_id, ':lvar_13', ':lvar_0', ':lvar_9')
        (party_stack_get_size, ':lvar_11', ':lvar_0', ':lvar_9')
        (is_between, ':lvar_13', 24, 215)
        (neq, ':lvar_13', ':lvar_4')
        (neq, ':lvar_13', ':lvar_5')
        (neq, ':lvar_13', ':lvar_6')
        (party_add_members, ':lvar_1', ':lvar_13', ':lvar_11')
        (party_remove_members, ':lvar_0', ':lvar_13', ':lvar_11')
      (try_end)
    (try_end)
    (try_begin)
      (party_count_members_of_type, ':lvar_14', ':lvar_0', ':lvar_4')
      (try_begin)
        (eq, ':lvar_2', 1)
        (assign, ':lvar_15', 10)
      (else_try)
        (eq, ':lvar_2', 2)
        (assign, ':lvar_15', 15)
      (else_try)
        (eq, ':lvar_2', 3)
        (assign, ':lvar_15', 30)
      (try_end)
      (lt, ':lvar_14', ':lvar_15')
      (store_sub, ':lvar_16', ':lvar_15', ':lvar_14')
      (party_add_members, ':lvar_0', ':lvar_4', ':lvar_16')
    (try_end)
    (try_begin)
      (party_count_members_of_type, ':lvar_17', ':lvar_0', ':lvar_5')
      (try_begin)
        (eq, ':lvar_2', 1)
        (assign, ':lvar_15', 1)
      (else_try)
        (eq, ':lvar_2', 2)
        (assign, ':lvar_15', 5)
      (else_try)
        (eq, ':lvar_2', 3)
        (assign, ':lvar_15', 10)
      (try_end)
      (lt, ':lvar_17', ':lvar_15')
      (store_sub, ':lvar_16', ':lvar_15', ':lvar_17')
      (party_add_members, ':lvar_0', ':lvar_5', ':lvar_16')
    (try_end)
    (try_begin)
      (party_count_members_of_type, ':lvar_18', ':lvar_0', ':lvar_6')
      (try_begin)
        (ge, ':lvar_2', 2)
        (try_begin)
          (eq, ':lvar_2', 2)
          (assign, ':lvar_15', 1)
        (else_try)
          (eq, ':lvar_2', 3)
          (assign, ':lvar_15', 2)
        (try_end)
        (lt, ':lvar_18', ':lvar_15')
        (store_sub, ':lvar_16', ':lvar_15', ':lvar_18')
        (party_add_members, ':lvar_0', ':lvar_6', ':lvar_16')
      (try_end)
    (try_end)
process_patrol_ai=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 123)
    (get_party_ai_current_behavior, ':lvar_2', ':lvar_0')
    (try_begin)
      (neq, ':lvar_2', 8)
      (get_party_ai_object, ':lvar_3', ':lvar_0')
      (assign, ':lvar_4', 1)
      (try_begin)
        (eq, ':lvar_2', 1)
        (eq, ':lvar_3', ':lvar_1')
        (assign, ':lvar_4', 0)
      (try_end)
      (neq, ':lvar_4', 0)
      (party_get_battle_opponent, ':lvar_5', ':lvar_0')
      (le, ':lvar_5', 0)
      (store_distance_to_party_from_party, ':lvar_6', ':lvar_0', ':lvar_1')
      (try_begin)
        (neq, ':lvar_2', 4)
        (call_script, 42, ':lvar_0', 0)
        (assign, ':lvar_7', reg0)
        (assign, ':lvar_8', 0)
        (try_for_parties, ':lvar_9')
          (eq, ':lvar_8', 0)
          (store_distance_to_party_from_party, ':lvar_6', ':lvar_9', ':lvar_0')
          (le, ':lvar_6', 5)
          (neg|is_between, ':lvar_9', 46, 204)
          (call_script, 116, ':lvar_9', ':lvar_0')
          (lt, reg0, 0)
          (call_script, 42, ':lvar_9', 0)
          (assign, ':lvar_10', reg0)
          (val_mul, ':lvar_10', 5)
          (val_div, ':lvar_10', 4)
          (try_begin)
            (ge, ':lvar_7', ':lvar_10')
            (party_set_ai_behavior, ':lvar_0', 4)
            (party_set_ai_object, ':lvar_0', ':lvar_9')
            (assign, ':lvar_8', 1)
          (else_try)
            (party_get_battle_opponent, ':lvar_5', ':lvar_9')
            (le, ':lvar_5', 0)
            (store_sub, ':lvar_11', ':lvar_10', ':lvar_7')
            (ge, ':lvar_11', 100)
            (party_get_slot, ':lvar_1', ':lvar_0', 123)
            (neq, ':lvar_1', 0)
            (party_set_ai_behavior, ':lvar_0', 1)
            (party_set_ai_object, ':lvar_1')
          (try_end)
        (try_end)
      (try_end)
      (store_distance_to_party_from_party, ':lvar_6', ':lvar_0', ':lvar_1')
      (try_begin)
        (eq, ':lvar_2', 1)
        (neq, ':lvar_3', ':lvar_1')
        (call_script, 420, ':lvar_0')
      (else_try)
        (eq, ':lvar_2', 4)
        (gt, ':lvar_6', 30)
        (party_set_ai_behavior, ':lvar_0', 0)
      (else_try)
        (gt, ':lvar_6', 25)
        (neq, ':lvar_2', 4)
        (party_get_position, 1, ':lvar_1')
        (map_get_random_position_around_position, 2, 1, 4)
        (party_set_ai_behavior, ':lvar_0', 6)
        (party_set_ai_target_position, ':lvar_0', 2)
      (else_try)
        (lt, ':lvar_6', 5)
        (neq, ':lvar_2', 4)
        (call_script, 420, ':lvar_0')
      (else_try)
        (eq, ':lvar_2', 0)
        (call_script, 420, ':lvar_0')
      (try_end)
    (try_end)
process_automated_attack_system=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 800)
    (assign, ':lvar_2', 0)
    (try_begin)
      (eq, ':lvar_1', 1)
      (assign, ':lvar_3', 10)
    (else_try)
      (eq, ':lvar_1', 2)
      (assign, ':lvar_3', 15)
    (else_try)
      (eq, ':lvar_1', 3)
      (assign, ':lvar_3', 20)
    (try_end)
    (try_for_parties, ':lvar_4')
      (store_distance_to_party_from_party, ':lvar_5', ':lvar_4', ':lvar_0')
      (le, ':lvar_5', ':lvar_3')
      (neg|is_between, ':lvar_4', 46, 204)
      (call_script, 116, ':lvar_4', ':lvar_0')
      (lt, reg0, 0)
      (party_get_battle_opponent, ':lvar_6', ':lvar_4')
      (le, ':lvar_6', 0)
      (call_script, 42, ':lvar_4', 0)
      (assign, ':lvar_7', reg0)
      (try_for_parties, ':lvar_8')
        (try_begin)
          (get_party_ai_object, ':lvar_9', ':lvar_8')
          (eq, ':lvar_9', ':lvar_4')
          (assign, ':lvar_2', 1)
        (try_end)
        (eq, ':lvar_2', 0)
        (party_get_template_id, ':lvar_10', ':lvar_8')
        (eq, ':lvar_10', 13)
        (party_slot_eq, ':lvar_8', 123, ':lvar_0')
        (eq, ':lvar_2', 0)
        (get_party_ai_current_behavior, ':lvar_11', ':lvar_8')
        (this_or_next|eq, ':lvar_11', 3)
        (eq, ':lvar_11', 6)
        (store_distance_to_party_from_party, ':lvar_5', ':lvar_4', ':lvar_8')
        (le, ':lvar_5', 20)
        (call_script, 42, ':lvar_8', 0)
        (ge, reg0, ':lvar_7')
        (party_set_ai_behavior, ':lvar_8', 4)
        (party_set_ai_object, ':lvar_8', ':lvar_4')
        (assign, ':lvar_2', 1)
      (try_end)
    (try_end)
decide_next_patrol_location=>
    (store_script_param, ':lvar_0', 1)
    (party_get_slot, ':lvar_1', ':lvar_0', 123)
    (get_party_ai_object, ':lvar_2', ':lvar_0')
    (store_faction_of_party, ':lvar_3', ':lvar_1')
    (try_begin)
      (assign, ':lvar_4', 0)
      (try_for_range, ':lvar_5', 46, 204)
        (neq, ':lvar_5', ':lvar_2')
        (neq, ':lvar_5', 0)
        (store_distance_to_party_from_party, ':lvar_6', ':lvar_1', ':lvar_5')
        (le, ':lvar_6', 20)
        (store_faction_of_party, ':lvar_7', ':lvar_5')
        (eq, ':lvar_7', ':lvar_3')
        (val_add, ':lvar_4', 1)
      (try_end)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_8', -1)
      (store_random_in_range, ':lvar_9', 0, ':lvar_4')
      (assign, ':lvar_4', 0)
      (try_for_range, ':lvar_5', 46, 204)
        (eq, ':lvar_8', -1)
        (neq, ':lvar_5', ':lvar_2')
        (neq, ':lvar_5', 0)
        (store_distance_to_party_from_party, ':lvar_6', ':lvar_1', ':lvar_5')
        (le, ':lvar_6', 20)
        (store_faction_of_party, ':lvar_7', ':lvar_5')
        (eq, ':lvar_7', ':lvar_3')
        (val_add, ':lvar_4', 1)
        (gt, ':lvar_4', ':lvar_9')
        (assign, ':lvar_8', ':lvar_5')
      (try_end)
      (gt, ':lvar_8', 0)
      (party_get_position, 1, ':lvar_8')
      (map_get_random_position_around_position, 2, 1, 4)
      (party_set_ai_behavior, ':lvar_0', 6)
      (party_set_ai_target_position, ':lvar_0', 2)
      (party_set_ai_object, ':lvar_8')
    (else_try)
      (party_get_position, 1, ':lvar_1')
      (map_get_random_position_around_position, 2, 1, 8)
      (party_set_ai_behavior, ':lvar_0', 6)
      (party_set_ai_target_position, ':lvar_0', 2)
    (try_end)
decide_next_trader_destination=>
    (store_script_param, ':lvar_0', 1)
    (get_party_ai_object, ':lvar_1', ':lvar_0')
    (party_get_slot, ':lvar_2', ':lvar_0', 123)
    (try_begin)
      (party_get_num_prisoners, ':lvar_3', ':lvar_0')
      (gt, ':lvar_3', 25)
      (party_set_ai_behavior, ':lvar_0', 1)
      (party_set_ai_object, ':lvar_0', ':lvar_2')
    (else_try)
      (assign, ':lvar_4', -1)
      (assign, ':lvar_5', 0)
      (try_for_range, ':lvar_6', 46, 114)
        (neq, ':lvar_6', ':lvar_1')
        (neq, ':lvar_6', ':lvar_2')
        (party_get_num_prisoners, ':lvar_3', ':lvar_6')
        (party_count_members_of_type, ':lvar_7', ':lvar_6', 117)
        (this_or_next|gt, ':lvar_7', 10)
        (gt, ':lvar_3', 10)
        (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_6')
        (gt, ':lvar_8', 30)
        (assign, ':lvar_9', 0)
        (try_for_parties, ':lvar_10')
          (party_get_template_id, ':lvar_11', ':lvar_10')
          (eq, ':lvar_11', 14)
          (get_party_ai_object, ':lvar_12', ':lvar_10')
          (eq, ':lvar_6', ':lvar_12')
          (assign, ':lvar_9', 1)
        (try_end)
        (eq, ':lvar_9', 0)
        (val_add, ':lvar_5', 1)
      (try_end)
      (gt, ':lvar_5', 0)
      (store_random_in_range, ':lvar_13', 0, ':lvar_5')
      (assign, ':lvar_5', 0)
      (try_for_range, ':lvar_6', 46, 114)
        (eq, ':lvar_4', -1)
        (neq, ':lvar_6', ':lvar_1')
        (neq, ':lvar_6', ':lvar_2')
        (party_get_num_prisoners, ':lvar_3', ':lvar_6')
        (party_count_members_of_type, ':lvar_7', ':lvar_6', 117)
        (this_or_next|gt, ':lvar_7', 10)
        (gt, ':lvar_3', 10)
        (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_6')
        (gt, ':lvar_8', 30)
        (assign, ':lvar_9', 0)
        (try_for_parties, ':lvar_10')
          (party_get_template_id, ':lvar_11', ':lvar_10')
          (eq, ':lvar_11', 14)
          (get_party_ai_object, ':lvar_12', ':lvar_10')
          (eq, ':lvar_6', ':lvar_12')
          (assign, ':lvar_9', 1)
        (try_end)
        (eq, ':lvar_9', 0)
        (val_add, ':lvar_5', 1)
        (gt, ':lvar_5', ':lvar_13')
        (assign, ':lvar_4', ':lvar_6')
      (try_end)
      (party_set_ai_behavior, ':lvar_0', 1)
      (party_set_ai_object, ':lvar_0', ':lvar_4')
    (else_try)
      (assign, ':lvar_5', 0)
      (try_for_range, ':lvar_6', 46, 114)
        (neq, ':lvar_6', ':lvar_1')
        (neq, ':lvar_6', ':lvar_2')
        (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_6')
        (gt, ':lvar_8', 80)
        (val_add, ':lvar_5', 1)
      (try_end)
      (store_random_in_range, ':lvar_13', 0, ':lvar_5')
      (assign, ':lvar_5', 0)
      (assign, ':lvar_4', -1)
      (try_for_range, ':lvar_6', 46, 114)
        (eq, ':lvar_4', -1)
        (neq, ':lvar_6', ':lvar_1')
        (neq, ':lvar_6', ':lvar_2')
        (store_distance_to_party_from_party, ':lvar_8', ':lvar_0', ':lvar_6')
        (gt, ':lvar_8', 80)
        (val_add, ':lvar_5', 1)
        (gt, ':lvar_5', ':lvar_13')
        (assign, ':lvar_4', ':lvar_6')
      (try_end)
      (party_set_ai_behavior, ':lvar_0', 1)
      (party_set_ai_object, ':lvar_0', ':lvar_4')
    (try_end)
reset_starship_slots_for_troop=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (try_begin)
      (eq, ':lvar_1', 0)
      (troop_set_slot, ':lvar_0', 300, 0)
      (troop_set_slot, ':lvar_0', 315, 0)
      (troop_set_slot, ':lvar_0', 316, 0)
      (troop_set_slot, ':lvar_0', 313, 0)
      (troop_set_slot, ':lvar_0', 314, 0)
      (troop_set_slot, ':lvar_0', 309, 0)
      (troop_set_slot, ':lvar_0', 310, 0)
      (troop_set_slot, ':lvar_0', 301, 0)
      (troop_set_slot, ':lvar_0', 302, 0)
      (troop_set_slot, ':lvar_0', 307, 0)
      (troop_set_slot, ':lvar_0', 308, 0)
      (troop_set_slot, ':lvar_0', 303, 0)
      (troop_set_slot, ':lvar_0', 304, 0)
      (troop_set_slot, ':lvar_0', 311, 0)
      (troop_set_slot, ':lvar_0', 312, 0)
      (troop_set_slot, ':lvar_0', 305, 0)
      (troop_set_slot, ':lvar_0', 306, 0)
      (party_set_icon, 0, 0)
    (else_try)
      (troop_set_slot, ':lvar_0', 300, ':lvar_1')
      (party_get_slot, ':lvar_2', ':lvar_1', 256)
      (troop_set_slot, ':lvar_0', 315, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 257)
      (troop_set_slot, ':lvar_0', 316, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 258)
      (troop_set_slot, ':lvar_0', 313, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 259)
      (troop_set_slot, ':lvar_0', 314, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 260)
      (troop_set_slot, ':lvar_0', 309, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 261)
      (troop_set_slot, ':lvar_0', 310, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 262)
      (troop_set_slot, ':lvar_0', 301, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 263)
      (troop_set_slot, ':lvar_0', 302, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 264)
      (troop_set_slot, ':lvar_0', 307, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 265)
      (troop_set_slot, ':lvar_0', 308, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 266)
      (troop_set_slot, ':lvar_0', 303, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 267)
      (troop_set_slot, ':lvar_0', 304, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 268)
      (troop_set_slot, ':lvar_0', 311, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 269)
      (troop_set_slot, ':lvar_0', 312, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 270)
      (troop_set_slot, ':lvar_0', 305, ':lvar_2')
      (party_get_slot, ':lvar_2', ':lvar_1', 271)
      (troop_set_slot, ':lvar_0', 306, ':lvar_2')
      (party_set_icon, 0, '$gvar_301')
    (try_end)
get_component_upgrade_price=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 3)
    (val_add, ':lvar_1', 1)
    (try_begin)
      (eq, ':lvar_0', 1)
      (assign, ':lvar_2', 500)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 2)
      (assign, ':lvar_2', 250)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 3)
      (assign, ':lvar_2', 550)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 4)
      (assign, ':lvar_2', 400)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 5)
      (assign, ':lvar_2', 300)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 6)
      (assign, ':lvar_2', 600)
      (val_mul, ':lvar_1', 130)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 7)
      (assign, ':lvar_2', 300)
      (val_mul, ':lvar_1', 120)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (else_try)
      (eq, ':lvar_0', 8)
      (assign, ':lvar_2', 700)
      (val_mul, ':lvar_1', 140)
      (val_mul, ':lvar_2', ':lvar_1')
      (val_div, ':lvar_2', 100)
    (try_end)
    (assign, reg0, ':lvar_2')
get_ship_sell_value=>
    (store_script_param, ':lvar_0', 1)
    (troop_get_slot, '$gvar_300', ':lvar_0', 300)
    (troop_get_slot, reg2, ':lvar_0', 315)
    (troop_get_slot, reg3, ':lvar_0', 313)
    (troop_get_slot, reg4, ':lvar_0', 301)
    (troop_get_slot, reg5, ':lvar_0', 303)
    (troop_get_slot, reg6, ':lvar_0', 305)
    (troop_get_slot, reg7, ':lvar_0', 309)
    (troop_get_slot, reg8, ':lvar_0', 311)
    (troop_get_slot, reg9, ':lvar_0', 307)
    (store_add, ':lvar_1', reg2, reg3)
    (val_add, ':lvar_1', reg4)
    (val_add, ':lvar_1', reg5)
    (val_add, ':lvar_1', reg6)
    (val_add, ':lvar_1', reg7)
    (val_add, ':lvar_1', reg8)
    (val_add, ':lvar_1', reg9)
    (try_begin)
      (gt, '$gvar_300', 0)
      (assign, ':lvar_2', 0)
      (party_get_slot, ':lvar_3', '$gvar_300', 256)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 258)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 260)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 262)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 264)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 266)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 268)
      (val_add, ':lvar_2', ':lvar_3')
      (party_get_slot, ':lvar_3', '$gvar_300', 270)
      (val_add, ':lvar_2', ':lvar_3')
      (val_sub, ':lvar_1', ':lvar_2')
      (val_mul, ':lvar_1', 200)
      (party_get_slot, ':lvar_4', '$gvar_300', 251)
      (store_div, ':lvar_5', ':lvar_4', 2)
      (val_add, ':lvar_5', ':lvar_1')
      (assign, ':lvar_6', ':lvar_5')
    (else_try)
      (assign, ':lvar_6', 0)
    (try_end)
    (assign, reg0, ':lvar_6')
dmod_kill_agent=>
    (store_script_param, ':lvar_0', 1)
    (agent_get_horse, ':lvar_1', ':lvar_0')
    (try_begin)
      (ge, ':lvar_1', 0)
      (agent_set_hit_points, ':lvar_1', -1, 1)
      (agent_deliver_damage_to_agent, ':lvar_0', ':lvar_1')
      (agent_set_animation_progress, ':lvar_1', 100)
    (try_end)
    (agent_set_slot, ':lvar_0', 5, 1)
    (agent_set_hit_points, ':lvar_0', -1, 1)
    (agent_deliver_damage_to_agent, ':lvar_0', ':lvar_0')
    (agent_set_animation, ':lvar_0', 300)
    (agent_set_animation_progress, ':lvar_0', 99)
dmod_cycle_forwards=>
    (assign, ':lvar_0', 0)
    (assign, ':lvar_1', -1)
    (get_player_agent_no, ':lvar_2')
    (agent_get_team, ':lvar_3', ':lvar_2')
    (try_for_agents, ':lvar_4')
      (neq, ':lvar_0', 1)
      (neq, ':lvar_4', ':lvar_2')
      (agent_is_human, ':lvar_4')
      (agent_is_alive, ':lvar_4')
      (agent_get_team, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_3')
      (try_begin)
        (lt, ':lvar_1', 0)
        (assign, ':lvar_1', ':lvar_4')
      (try_end)
      (gt, ':lvar_4', '$gvar_331')
      (assign, '$gvar_331', ':lvar_4')
      (assign, ':lvar_0', 1)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 0)
      (neq, ':lvar_1', -1)
      (assign, '$gvar_331', ':lvar_1')
      (assign, ':lvar_0', 1)
    (else_try)
      (eq, ':lvar_0', 0)
      (eq, ':lvar_1', -1)
      (display_message, '@qstr_414')
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 1)
      (str_store_agent_name, 1, '$gvar_331')
      (display_message, '@qstr_415')
    (try_end)
    (assign, '$gvar_320', 1)
dmod_cycle_backwards=>
    (assign, ':lvar_0', -1)
    (assign, ':lvar_1', -1)
    (get_player_agent_no, ':lvar_2')
    (agent_get_team, ':lvar_3', ':lvar_2')
    (try_for_agents, ':lvar_4')
      (neq, ':lvar_4', ':lvar_2')
      (agent_is_human, ':lvar_4')
      (agent_is_alive, ':lvar_4')
      (agent_get_team, ':lvar_5', ':lvar_4')
      (eq, ':lvar_5', ':lvar_3')
      (assign, ':lvar_1', ':lvar_4')
      (lt, ':lvar_4', '$gvar_331')
      (assign, ':lvar_0', ':lvar_4')
    (try_end)
    (try_begin)
      (eq, ':lvar_0', -1)
      (neq, ':lvar_1', -1)
      (assign, ':lvar_0', ':lvar_1')
    (else_try)
      (eq, ':lvar_0', -1)
      (eq, ':lvar_1', -1)
      (display_message, '@qstr_414')
    (try_end)
    (try_begin)
      (neq, ':lvar_0', -1)
      (assign, '$gvar_331', ':lvar_0')
      (str_store_agent_name, 1, '$gvar_331')
      (display_message, '@qstr_415')
    (try_end)
    (assign, '$gvar_320', 1)
show_text_string=>
    (str_clear, 10)
    (assign, ':lvar_0', 0)
    (try_begin)
      (eq, '$gvar_435', 25)
      (display_message, '@qstr_416', 16746496)
      (val_sub, '$gvar_435', 1)
    (try_end)
    (assign, ':lvar_1', '$gvar_435')
    (try_for_range, ':lvar_2', 0, ':lvar_1')
      (troop_get_slot, reg1, 915, ':lvar_2')
      (assign, ':lvar_0', 0)
      (assign, ':lvar_3', 0)
      (try_begin)
        (gt, reg1, 30000)
        (assign, ':lvar_0', 1)
        (assign, ':lvar_3', 1)
        (val_sub, reg1, 30000)
      (else_try)
        (gt, reg1, 20000)
        (assign, ':lvar_3', 1)
        (val_sub, reg1, 20000)
      (else_try)
        (gt, reg1, 10000)
        (assign, ':lvar_0', 1)
        (val_sub, reg1, 10000)
      (try_end)
      (try_begin)
        (eq, reg1, 57)
        (str_store_string, 10, '@qstr_417')
      (else_try)
        (eq, reg1, 2)
        (str_store_string, 10, '@qstr_418')
      (else_try)
        (eq, reg1, 3)
        (str_store_string, 10, '@qstr_419')
      (else_try)
        (eq, reg1, 4)
        (str_store_string, 10, '@qstr_420')
      (else_try)
        (eq, reg1, 5)
        (str_store_string, 10, '@qstr_421')
      (else_try)
        (eq, reg1, 6)
        (str_store_string, 10, '@qstr_422')
      (else_try)
        (eq, reg1, 7)
        (str_store_string, 10, '@qstr_423')
      (else_try)
        (eq, reg1, 8)
        (str_store_string, 10, '@qstr_424')
      (else_try)
        (eq, reg1, 9)
        (str_store_string, 10, '@qstr_425')
      (else_try)
        (eq, reg1, 10)
        (str_store_string, 10, '@qstr_426')
      (else_try)
        (eq, reg1, 11)
        (str_store_string, 10, '@qstr_427')
      (else_try)
        (eq, reg1, 30)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_428')
          (else_try)
            (str_store_string, 10, '@qstr_429')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_430')
          (else_try)
            (str_store_string, 10, '@qstr_431')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 48)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_432')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_433')
        (try_end)
      (else_try)
        (eq, reg1, 46)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_434')
          (else_try)
            (str_store_string, 10, '@qstr_435')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_436')
          (else_try)
            (str_store_string, 10, '@qstr_437')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 32)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_438')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_439')
        (try_end)
      (else_try)
        (eq, reg1, 18)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_440')
          (else_try)
            (str_store_string, 10, '@qstr_441')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_442')
          (else_try)
            (str_store_string, 10, '@qstr_443')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 33)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_444')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_444')
        (try_end)
      (else_try)
        (eq, reg1, 34)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_445')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_446')
        (try_end)
      (else_try)
        (eq, reg1, 35)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_447')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_448')
        (try_end)
      (else_try)
        (eq, reg1, 23)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_449')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_450')
        (try_end)
      (else_try)
        (eq, reg1, 36)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_451')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_452')
        (try_end)
      (else_try)
        (eq, reg1, 37)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_453')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_454')
        (try_end)
      (else_try)
        (eq, reg1, 38)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_455')
          (else_try)
            (str_store_string, 10, '@qstr_456')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_457')
          (else_try)
            (str_store_string, 10, '@qstr_458')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 50)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_459')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_460')
        (try_end)
      (else_try)
        (eq, reg1, 49)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_461')
          (else_try)
            (str_store_string, 10, '@qstr_462')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_463')
          (else_try)
            (str_store_string, 10, '@qstr_464')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 24)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_465')
          (else_try)
            (str_store_string, 10, '@qstr_466')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_467')
          (else_try)
            (str_store_string, 10, '@qstr_468')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 25)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_469')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_470')
        (try_end)
      (else_try)
        (eq, reg1, 16)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_471')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_472')
        (try_end)
      (else_try)
        (eq, reg1, 19)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_473')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_474')
        (try_end)
      (else_try)
        (eq, reg1, 31)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_475')
          (else_try)
            (str_store_string, 10, '@qstr_476')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_477')
          (else_try)
            (str_store_string, 10, '@qstr_478')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 20)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_479')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_480')
        (try_end)
      (else_try)
        (eq, reg1, 22)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_481')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_482')
        (try_end)
      (else_try)
        (eq, reg1, 47)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_483')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_484')
        (try_end)
      (else_try)
        (eq, reg1, 17)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_485')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_486')
        (try_end)
      (else_try)
        (eq, reg1, 45)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_487')
          (else_try)
            (str_store_string, 10, '@qstr_488')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_489')
          (else_try)
            (str_store_string, 10, '@qstr_490')
          (try_end)
        (try_end)
      (else_try)
        (eq, reg1, 21)
        (try_begin)
          (eq, ':lvar_0', 1)
          (str_store_string, 10, '@qstr_491')
        (else_try)
          (eq, ':lvar_0', 0)
          (str_store_string, 10, '@qstr_492')
        (try_end)
      (else_try)
        (eq, reg1, 44)
        (try_begin)
          (eq, ':lvar_0', 1)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_493')
          (else_try)
            (str_store_string, 10, '@qstr_494')
          (try_end)
        (else_try)
          (eq, ':lvar_0', 0)
          (try_begin)
            (eq, ':lvar_3', 1)
            (str_store_string, 10, '@qstr_495')
          (else_try)
            (str_store_string, 10, '@qstr_496')
          (try_end)
        (try_end)
      (try_end)
    (try_end)
setup_tavern_brawl=>
    (get_player_agent_no, ':lvar_0')
    (try_for_agents, ':lvar_1')
      (neq, ':lvar_1', ':lvar_0')
      (store_random_in_range, ':lvar_2', 3, 6)
      (agent_set_team, ':lvar_1', ':lvar_2')
      (agent_clear_scripted_mode, ':lvar_1')
      (agent_set_speed_limit, ':lvar_1', 50)
    (try_end)
    (stop_all_sounds, 2)
    (play_track, 9, 2)
    (assign, '$gvar_117', 1)
    (call_script, 359, 1024)
init_town_fight=>
    (get_player_agent_no, ':lvar_0')
    (try_for_agents, ':lvar_1')
      (neq, ':lvar_1', ':lvar_0')
      (agent_get_entry_no, ':lvar_2', ':lvar_1')
      (try_begin)
        (this_or_next|eq, ':lvar_2', 48)
        (eq, ':lvar_2', 49)
        (agent_set_team, ':lvar_1', 0)
      (else_try)
        (agent_set_team, ':lvar_1', 2)
        (store_agent_hit_points, ':lvar_3', ':lvar_1', 1)
        (agent_set_slot, ':lvar_1', 13, ':lvar_3')
      (try_end)
    (try_end)
    (team_set_relation, 0, 2, 1)
start_town_fight=>
    (try_for_agents, ':lvar_0')
      (agent_get_team, ':lvar_1', ':lvar_0')
      (eq, ':lvar_1', 2)
      (agent_clear_scripted_mode, ':lvar_0')
      (agent_set_speed_limit, ':lvar_0', 50)
    (try_end)
    (team_set_relation, 0, 2, -1)
    (set_show_messages, 0)
    (team_give_order, 2, 10, 2)
    (set_show_messages, 1)
    (play_track, 25, 2)
    (call_script, 359, 1024)
cf_setup_random_scene_encounter=>
    (store_script_param_1, ':lvar_0')
    (try_begin)
      (eq, ':lvar_0', 0)
      (try_begin)
        (eq, '$gvar_208', 55)
        (assign, '$gvar_634', 211)
        (store_random_in_range, ':lvar_1', 10, 20)
      (else_try)
        (eq, '$gvar_208', 59)
        (assign, '$gvar_634', 209)
        (store_random_in_range, ':lvar_1', 15, 30)
      (else_try)
        (store_faction_of_party, ':lvar_2', '$gvar_208')
        (try_begin)
          (eq, ':lvar_2', 16)
          (assign, '$gvar_634', 171)
          (store_random_in_range, ':lvar_1', 10, 20)
        (else_try)
          (eq, ':lvar_2', 17)
          (assign, '$gvar_634', 144)
          (store_random_in_range, ':lvar_1', 10, 20)
        (else_try)
          (assign, '$gvar_634', 199)
          (store_random_in_range, ':lvar_1', 10, 20)
        (try_end)
      (try_end)
      (try_for_range, ':lvar_3', 0, ':lvar_1')
        (assign, ':lvar_3', ':lvar_3')
        (store_random_in_range, ':lvar_4', 30, 40)
        (entry_point_get_position, 1, ':lvar_4')
        (set_spawn_position, 1)
        (set_spawn_radius, 5)
        (spawn_agent, '$gvar_634')
      (try_end)
      (try_for_agents, ':lvar_5')
        (agent_clear_scripted_mode, ':lvar_5')
        (agent_set_speed_limit, ':lvar_5', 50)
        (agent_get_troop_id, ':lvar_6', ':lvar_5')
        (eq, ':lvar_6', '$gvar_634')
        (agent_set_team, ':lvar_5', 3)
      (try_end)
      (team_set_relation, 0, 3, -1)
      (team_set_relation, 2, 3, -1)
      (set_show_messages, 0)
      (team_give_order, 3, 10, 2)
      (set_show_messages, 1)
    (else_try)
      (eq, ':lvar_0', 1)
    (try_end)
cf_setup_random_scene_assassination=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (try_begin)
      (eq, ':lvar_0', 0)
      (store_random_in_range, ':lvar_1', 30, 40)
    (else_try)
      (eq, ':lvar_0', 1)
      (store_random_in_range, ':lvar_1', 16, 24)
    (try_end)
    (try_begin)
      (gt, ':lvar_1', 0)
      (try_begin)
        (get_player_agent_no, ':lvar_2')
        (agent_is_alive, ':lvar_2')
        (agent_get_position, 1, ':lvar_2')
        (entry_point_get_position, 2, ':lvar_1')
        (get_distance_between_positions, ':lvar_3', 1, 2)
        (try_begin)
          (ge, ':lvar_3', 100)
          (set_spawn_position, 2)
          (store_random_in_range, '$gvar_635', 327, 333)
          (spawn_agent, '$gvar_635')
          (try_for_agents, ':lvar_4')
            (agent_get_troop_id, ':lvar_5', ':lvar_4')
            (eq, ':lvar_5', '$gvar_635')
            (agent_set_team, ':lvar_4', 3)
          (try_end)
          (team_set_relation, 0, 3, -1)
          (team_set_relation, 2, 3, 0)
          (set_show_messages, 0)
          (team_give_order, 3, 10, 2)
          (set_show_messages, 1)
        (try_end)
      (try_end)
    (try_end)
get_key=>
    (store_script_param, ':lvar_0', 1)
    (try_begin)
      (eq, ':lvar_0', 2)
      (str_store_string, 13, '@qstr_497')
    (else_try)
      (eq, ':lvar_0', 3)
      (str_store_string, 13, '@qstr_498')
    (else_try)
      (eq, ':lvar_0', 4)
      (str_store_string, 13, '@qstr_499')
    (else_try)
      (eq, ':lvar_0', 5)
      (str_store_string, 13, '@qstr_500')
    (else_try)
      (eq, ':lvar_0', 6)
      (str_store_string, 13, '@qstr_501')
    (else_try)
      (eq, ':lvar_0', 7)
      (str_store_string, 13, '@qstr_502')
    (else_try)
      (eq, ':lvar_0', 8)
      (str_store_string, 13, '@qstr_503')
    (else_try)
      (eq, ':lvar_0', 9)
      (str_store_string, 13, '@qstr_504')
    (else_try)
      (eq, ':lvar_0', 10)
      (str_store_string, 13, '@qstr_505')
    (else_try)
      (eq, ':lvar_0', 11)
      (str_store_string, 13, '@qstr_506')
    (else_try)
      (eq, ':lvar_0', 30)
      (str_store_string, 13, '@qstr_507')
    (else_try)
      (eq, ':lvar_0', 48)
      (str_store_string, 13, '@qstr_508')
    (else_try)
      (eq, ':lvar_0', 46)
      (str_store_string, 13, '@qstr_509')
    (else_try)
      (eq, ':lvar_0', 32)
      (str_store_string, 13, '@qstr_510')
    (else_try)
      (eq, ':lvar_0', 18)
      (str_store_string, 13, '@qstr_511')
    (else_try)
      (eq, ':lvar_0', 33)
      (str_store_string, 13, '@qstr_512')
    (else_try)
      (eq, ':lvar_0', 34)
      (str_store_string, 13, '@qstr_513')
    (else_try)
      (eq, ':lvar_0', 35)
      (str_store_string, 13, '@qstr_514')
    (else_try)
      (eq, ':lvar_0', 23)
      (str_store_string, 13, '@qstr_515')
    (else_try)
      (eq, ':lvar_0', 36)
      (str_store_string, 13, '@qstr_516')
    (else_try)
      (eq, ':lvar_0', 37)
      (str_store_string, 13, '@qstr_517')
    (else_try)
      (eq, ':lvar_0', 38)
      (str_store_string, 13, '@qstr_518')
    (else_try)
      (eq, ':lvar_0', 50)
      (str_store_string, 13, '@qstr_519')
    (else_try)
      (eq, ':lvar_0', 49)
      (str_store_string, 13, '@qstr_520')
    (else_try)
      (eq, ':lvar_0', 24)
      (str_store_string, 13, '@qstr_521')
    (else_try)
      (eq, ':lvar_0', 25)
      (str_store_string, 13, '@qstr_522')
    (else_try)
      (eq, ':lvar_0', 16)
      (str_store_string, 13, '@qstr_523')
    (else_try)
      (eq, ':lvar_0', 19)
      (str_store_string, 13, '@qstr_524')
    (else_try)
      (eq, ':lvar_0', 31)
      (str_store_string, 13, '@qstr_525')
    (else_try)
      (eq, ':lvar_0', 20)
      (str_store_string, 13, '@qstr_526')
    (else_try)
      (eq, ':lvar_0', 22)
      (str_store_string, 13, '@qstr_527')
    (else_try)
      (eq, ':lvar_0', 47)
      (str_store_string, 13, '@qstr_528')
    (else_try)
      (eq, ':lvar_0', 17)
      (str_store_string, 13, '@qstr_529')
    (else_try)
      (eq, ':lvar_0', 45)
      (str_store_string, 13, '@qstr_530')
    (else_try)
      (eq, ':lvar_0', 21)
      (str_store_string, 13, '@qstr_531')
    (else_try)
      (eq, ':lvar_0', 44)
      (str_store_string, 13, '@qstr_532')
    (else_try)
      (eq, ':lvar_0', 82)
      (str_store_string, 13, '@qstr_533')
    (else_try)
      (eq, ':lvar_0', 79)
      (str_store_string, 13, '@qstr_534')
    (else_try)
      (eq, ':lvar_0', 80)
      (str_store_string, 13, '@qstr_535')
    (else_try)
      (eq, ':lvar_0', 81)
      (str_store_string, 13, '@qstr_536')
    (else_try)
      (eq, ':lvar_0', 75)
      (str_store_string, 13, '@qstr_537')
    (else_try)
      (eq, ':lvar_0', 76)
      (str_store_string, 13, '@qstr_538')
    (else_try)
      (eq, ':lvar_0', 77)
      (str_store_string, 13, '@qstr_539')
    (else_try)
      (eq, ':lvar_0', 71)
      (str_store_string, 13, '@qstr_540')
    (else_try)
      (eq, ':lvar_0', 72)
      (str_store_string, 13, '@qstr_541')
    (else_try)
      (eq, ':lvar_0', 73)
      (str_store_string, 13, '@qstr_542')
    (else_try)
      (eq, ':lvar_0', 69)
      (str_store_string, 13, '@qstr_543')
    (else_try)
      (eq, ':lvar_0', 181)
      (str_store_string, 13, '@qstr_544')
    (else_try)
      (eq, ':lvar_0', 55)
      (str_store_string, 13, '@qstr_545')
    (else_try)
      (eq, ':lvar_0', 74)
      (str_store_string, 13, '@qstr_546')
    (else_try)
      (eq, ':lvar_0', 78)
      (str_store_string, 13, '@qstr_547')
    (else_try)
      (eq, ':lvar_0', 156)
      (str_store_string, 13, '@qstr_548')
    (else_try)
      (eq, ':lvar_0', 83)
      (str_store_string, 13, '@qstr_549')
    (else_try)
      (eq, ':lvar_0', 210)
      (str_store_string, 13, '@qstr_550')
    (else_try)
      (eq, ':lvar_0', 211)
      (str_store_string, 13, '@qstr_551')
    (else_try)
      (eq, ':lvar_0', 199)
      (str_store_string, 13, '@qstr_552')
    (else_try)
      (eq, ':lvar_0', 207)
      (str_store_string, 13, '@qstr_553')
    (else_try)
      (eq, ':lvar_0', 201)
      (str_store_string, 13, '@qstr_554')
    (else_try)
      (eq, ':lvar_0', 209)
      (str_store_string, 13, '@qstr_555')
    (else_try)
      (eq, ':lvar_0', 200)
      (str_store_string, 13, '@qstr_556')
    (else_try)
      (eq, ':lvar_0', 208)
      (str_store_string, 13, '@qstr_557')
    (else_try)
      (eq, ':lvar_0', 203)
      (str_store_string, 13, '@qstr_558')
    (else_try)
      (eq, ':lvar_0', 205)
      (str_store_string, 13, '@qstr_559')
    (else_try)
      (eq, ':lvar_0', 59)
      (str_store_string, 13, '@qstr_560')
    (else_try)
      (eq, ':lvar_0', 60)
      (str_store_string, 13, '@qstr_561')
    (else_try)
      (eq, ':lvar_0', 61)
      (str_store_string, 13, '@qstr_562')
    (else_try)
      (eq, ':lvar_0', 62)
      (str_store_string, 13, '@qstr_563')
    (else_try)
      (eq, ':lvar_0', 63)
      (str_store_string, 13, '@qstr_564')
    (else_try)
      (eq, ':lvar_0', 64)
      (str_store_string, 13, '@qstr_565')
    (else_try)
      (eq, ':lvar_0', 65)
      (str_store_string, 13, '@qstr_566')
    (else_try)
      (eq, ':lvar_0', 66)
      (str_store_string, 13, '@qstr_567')
    (else_try)
      (eq, ':lvar_0', 67)
      (str_store_string, 13, '@qstr_568')
    (else_try)
      (eq, ':lvar_0', 68)
      (str_store_string, 13, '@qstr_569')
    (else_try)
      (eq, ':lvar_0', 87)
      (str_store_string, 13, '@qstr_570')
    (else_try)
      (eq, ':lvar_0', 88)
      (str_store_string, 13, '@qstr_571')
    (else_try)
      (eq, ':lvar_0', 57)
      (str_store_string, 13, '@qstr_572')
    (else_try)
      (eq, ':lvar_0', 1)
      (str_store_string, 13, '@qstr_573')
    (else_try)
      (eq, ':lvar_0', 28)
      (str_store_string, 13, '@qstr_574')
    (else_try)
      (eq, ':lvar_0', 15)
      (str_store_string, 13, '@qstr_575')
    (else_try)
      (eq, ':lvar_0', 14)
      (str_store_string, 13, '@qstr_576')
    (else_try)
      (eq, ':lvar_0', 26)
      (str_store_string, 13, '@qstr_577')
    (else_try)
      (eq, ':lvar_0', 27)
      (str_store_string, 13, '@qstr_578')
    (else_try)
      (eq, ':lvar_0', 51)
      (str_store_string, 13, '@qstr_579')
    (else_try)
      (eq, ':lvar_0', 52)
      (str_store_string, 13, '@qstr_580')
    (else_try)
      (eq, ':lvar_0', 53)
      (str_store_string, 13, '@qstr_581')
    (else_try)
      (eq, ':lvar_0', 43)
      (str_store_string, 13, '@qstr_582')
    (else_try)
      (eq, ':lvar_0', 13)
      (str_store_string, 13, '@qstr_583')
    (else_try)
      (eq, ':lvar_0', 12)
      (str_store_string, 13, '@qstr_584')
    (else_try)
      (eq, ':lvar_0', 39)
      (str_store_string, 13, '@qstr_585')
    (else_try)
      (eq, ':lvar_0', 40)
      (str_store_string, 13, '@qstr_586')
    (else_try)
      (eq, ':lvar_0', 41)
      (str_store_string, 13, '@qstr_587')
    (else_try)
      (eq, ':lvar_0', 58)
      (str_store_string, 13, '@qstr_588')
    (else_try)
      (eq, ':lvar_0', 42)
      (str_store_string, 13, '@qstr_589')
    (else_try)
      (eq, ':lvar_0', 54)
      (str_store_string, 13, '@qstr_590')
    (else_try)
      (eq, ':lvar_0', 29)
      (str_store_string, 13, '@qstr_591')
    (else_try)
      (eq, ':lvar_0', 157)
      (str_store_string, 13, '@qstr_592')
    (else_try)
      (eq, ':lvar_0', 56)
      (str_store_string, 13, '@qstr_593')
    (else_try)
      (eq, ':lvar_0', 184)
      (str_store_string, 13, '@qstr_594')
    (else_try)
      (eq, ':lvar_0', 224)
      (str_store_string, 13, '@qstr_595')
    (else_try)
      (eq, ':lvar_0', 225)
      (str_store_string, 13, '@qstr_596')
    (else_try)
      (eq, ':lvar_0', 226)
      (str_store_string, 13, '@qstr_597')
    (else_try)
      (eq, ':lvar_0', 227)
      (str_store_string, 13, '@qstr_598')
    (else_try)
      (eq, ':lvar_0', 228)
      (str_store_string, 13, '@qstr_599')
    (else_try)
      (eq, ':lvar_0', 229)
      (str_store_string, 13, '@qstr_600')
    (else_try)
      (eq, ':lvar_0', 230)
      (str_store_string, 13, '@qstr_601')
    (else_try)
      (eq, ':lvar_0', 231)
      (str_store_string, 13, '@qstr_602')
    (else_try)
      (eq, ':lvar_0', 238)
      (str_store_string, 13, '@qstr_603')
    (else_try)
      (eq, ':lvar_0', 239)
      (str_store_string, 13, '@qstr_604')
    (else_try)
      (str_store_string, 13, '@qstr_295')
    (try_end)
get_all_binds=>
    (str_clear, 13)
    (str_clear, 14)
    (str_clear, 15)
    (str_clear, 16)
    (str_clear, 17)
    (str_clear, 18)
    (str_clear, 19)
    (str_clear, 20)
    (str_clear, 21)
    (str_clear, 22)
    (str_clear, 23)
    (call_script, 434, '$gvar_549')
    (str_store_string, 15, 13)
    (call_script, 434, '$gvar_550')
    (str_store_string, 16, 13)
    (call_script, 434, '$gvar_551')
    (str_store_string, 17, 13)
    (call_script, 434, '$gvar_552')
    (str_store_string, 18, 13)
    (call_script, 434, '$gvar_553')
    (str_store_string, 20, 13)
    (call_script, 434, '$gvar_554')
    (str_store_string, 22, 13)
    (call_script, 434, '$gvar_555')
    (str_store_string, 23, 13)
setup_spaceship_slots=>
    (party_set_slot, 249, 250, 216172782113785308)
    (party_set_slot, 249, 251, 17000)
    (party_set_slot, 249, 252, 216172782113785309)
    (party_set_slot, 249, 253, 6)
    (party_set_slot, 249, 255, 85)
    (party_set_slot, 249, 256, 2)
    (party_set_slot, 249, 257, 5)
    (party_set_slot, 249, 258, 1)
    (party_set_slot, 249, 259, 2)
    (party_set_slot, 249, 260, 1)
    (party_set_slot, 249, 261, 2)
    (party_set_slot, 249, 262, 0)
    (party_set_slot, 249, 263, 0)
    (party_set_slot, 249, 264, 0)
    (party_set_slot, 249, 265, 0)
    (party_set_slot, 249, 266, 0)
    (party_set_slot, 249, 267, 0)
    (party_set_slot, 249, 268, 0)
    (party_set_slot, 249, 269, 0)
    (party_set_slot, 249, 270, 0)
    (party_set_slot, 249, 271, 0)
    (party_set_slot, 250, 250, 216172782113785310)
    (party_set_slot, 250, 251, 30000)
    (party_set_slot, 250, 252, 216172782113785311)
    (party_set_slot, 250, 253, 7)
    (party_set_slot, 250, 255, 81)
    (party_set_slot, 250, 256, 2)
    (party_set_slot, 250, 257, 4)
    (party_set_slot, 250, 258, 1)
    (party_set_slot, 250, 259, 3)
    (party_set_slot, 250, 260, 1)
    (party_set_slot, 250, 261, 3)
    (party_set_slot, 250, 262, 1)
    (party_set_slot, 250, 263, 3)
    (party_set_slot, 250, 264, 1)
    (party_set_slot, 250, 265, 2)
    (party_set_slot, 250, 266, 0)
    (party_set_slot, 250, 267, 0)
    (party_set_slot, 250, 268, 0)
    (party_set_slot, 250, 269, 0)
    (party_set_slot, 250, 270, 0)
    (party_set_slot, 250, 271, 0)
    (party_set_slot, 251, 250, 216172782113785306)
    (party_set_slot, 251, 251, 48000)
    (party_set_slot, 251, 252, 216172782113785307)
    (party_set_slot, 251, 253, 5)
    (party_set_slot, 251, 255, 70)
    (party_set_slot, 251, 256, 1)
    (party_set_slot, 251, 257, 4)
    (party_set_slot, 251, 258, 1)
    (party_set_slot, 251, 259, 2)
    (party_set_slot, 251, 260, 1)
    (party_set_slot, 251, 261, 2)
    (party_set_slot, 251, 262, 1)
    (party_set_slot, 251, 263, 4)
    (party_set_slot, 251, 264, 0)
    (party_set_slot, 251, 265, 0)
    (party_set_slot, 251, 266, 1)
    (party_set_slot, 251, 267, 3)
    (party_set_slot, 251, 268, 1)
    (party_set_slot, 251, 269, 5)
    (party_set_slot, 251, 270, 1)
    (party_set_slot, 251, 271, 5)
    (party_set_slot, 252, 250, 216172782113785302)
    (party_set_slot, 252, 251, 60000)
    (party_set_slot, 252, 252, 216172782113785303)
    (party_set_slot, 252, 253, 4)
    (party_set_slot, 252, 255, 60)
    (party_set_slot, 252, 256, 1)
    (party_set_slot, 252, 257, 3)
    (party_set_slot, 252, 258, 1)
    (party_set_slot, 252, 259, 2)
    (party_set_slot, 252, 260, 1)
    (party_set_slot, 252, 261, 3)
    (party_set_slot, 252, 262, 1)
    (party_set_slot, 252, 263, 3)
    (party_set_slot, 252, 264, 0)
    (party_set_slot, 252, 265, 1)
    (party_set_slot, 252, 266, 1)
    (party_set_slot, 252, 267, 2)
    (party_set_slot, 252, 268, 0)
    (party_set_slot, 252, 269, 0)
    (party_set_slot, 252, 270, 1)
    (party_set_slot, 252, 271, 3)
    (party_set_slot, 253, 250, 216172782113785304)
    (party_set_slot, 253, 251, 90000)
    (party_set_slot, 253, 252, 216172782113785305)
    (party_set_slot, 253, 253, 3)
    (party_set_slot, 253, 255, 60)
    (party_set_slot, 253, 256, 1)
    (party_set_slot, 253, 257, 3)
    (party_set_slot, 253, 258, 1)
    (party_set_slot, 253, 259, 3)
    (party_set_slot, 253, 260, 1)
    (party_set_slot, 253, 261, 3)
    (party_set_slot, 253, 262, 1)
    (party_set_slot, 253, 263, 3)
    (party_set_slot, 253, 264, 0)
    (party_set_slot, 253, 265, 1)
    (party_set_slot, 253, 266, 1)
    (party_set_slot, 253, 267, 3)
    (party_set_slot, 253, 268, 0)
    (party_set_slot, 253, 269, 0)
    (party_set_slot, 253, 270, 1)
    (party_set_slot, 253, 271, 4)
    (party_set_slot, 254, 250, 216172782113785298)
    (party_set_slot, 254, 251, 170000)
    (party_set_slot, 254, 252, 216172782113785299)
    (party_set_slot, 254, 253, 1)
    (party_set_slot, 254, 255, 63)
    (party_set_slot, 254, 256, 1)
    (party_set_slot, 254, 257, 3)
    (party_set_slot, 254, 258, 1)
    (party_set_slot, 254, 259, 3)
    (party_set_slot, 254, 260, 2)
    (party_set_slot, 254, 261, 4)
    (party_set_slot, 254, 262, 2)
    (party_set_slot, 254, 263, 5)
    (party_set_slot, 254, 264, 1)
    (party_set_slot, 254, 265, 2)
    (party_set_slot, 254, 266, 2)
    (party_set_slot, 254, 267, 4)
    (party_set_slot, 254, 268, 0)
    (party_set_slot, 254, 269, 0)
    (party_set_slot, 254, 270, 2)
    (party_set_slot, 254, 271, 5)
    (party_set_slot, 255, 250, 216172782113785300)
    (party_set_slot, 255, 251, 150000)
    (party_set_slot, 255, 252, 216172782113785301)
    (party_set_slot, 255, 253, 2)
    (party_set_slot, 255, 255, 65)
    (party_set_slot, 255, 256, 1)
    (party_set_slot, 255, 257, 4)
    (party_set_slot, 255, 258, 1)
    (party_set_slot, 255, 259, 4)
    (party_set_slot, 255, 260, 2)
    (party_set_slot, 255, 261, 5)
    (party_set_slot, 255, 262, 2)
    (party_set_slot, 255, 263, 6)
    (party_set_slot, 255, 264, 1)
    (party_set_slot, 255, 265, 2)
    (party_set_slot, 255, 266, 2)
    (party_set_slot, 255, 267, 4)
    (party_set_slot, 255, 268, 0)
    (party_set_slot, 255, 269, 0)
    (party_set_slot, 255, 270, 0)
    (party_set_slot, 255, 271, 0)
    (party_set_slot, 256, 250, 216172782113785312)
    (party_set_slot, 256, 251, 25500)
    (party_set_slot, 256, 252, 216172782113785313)
    (party_set_slot, 256, 253, 8)
    (party_set_slot, 256, 255, 96)
    (party_set_slot, 256, 256, 3)
    (party_set_slot, 256, 257, 6)
    (party_set_slot, 256, 258, 1)
    (party_set_slot, 256, 259, 3)
    (party_set_slot, 256, 260, 1)
    (party_set_slot, 256, 261, 2)
    (party_set_slot, 256, 262, 0)
    (party_set_slot, 256, 263, 0)
    (party_set_slot, 256, 264, 0)
    (party_set_slot, 256, 265, 0)
    (party_set_slot, 256, 266, 0)
    (party_set_slot, 256, 267, 0)
    (party_set_slot, 256, 268, 0)
    (party_set_slot, 256, 269, 0)
    (party_set_slot, 256, 270, 0)
    (party_set_slot, 256, 271, 0)
    (party_set_slot, 257, 250, 216172782113785322)
    (party_set_slot, 257, 251, 19800)
    (party_set_slot, 257, 252, 216172782113785323)
    (party_set_slot, 257, 253, 13)
    (party_set_slot, 257, 255, 88)
    (party_set_slot, 257, 256, 2)
    (party_set_slot, 257, 257, 5)
    (party_set_slot, 257, 258, 1)
    (party_set_slot, 257, 259, 2)
    (party_set_slot, 257, 260, 2)
    (party_set_slot, 257, 261, 3)
    (party_set_slot, 257, 262, 0)
    (party_set_slot, 257, 263, 0)
    (party_set_slot, 257, 264, 0)
    (party_set_slot, 257, 265, 0)
    (party_set_slot, 257, 266, 0)
    (party_set_slot, 257, 267, 0)
    (party_set_slot, 257, 268, 0)
    (party_set_slot, 257, 269, 0)
    (party_set_slot, 257, 270, 0)
    (party_set_slot, 257, 271, 0)
    (party_set_slot, 258, 250, 216172782113785324)
    (party_set_slot, 258, 251, 27000)
    (party_set_slot, 258, 252, 216172782113785325)
    (party_set_slot, 258, 253, 18)
    (party_set_slot, 258, 255, 90)
    (party_set_slot, 258, 256, 2)
    (party_set_slot, 258, 257, 5)
    (party_set_slot, 258, 258, 1)
    (party_set_slot, 258, 259, 3)
    (party_set_slot, 258, 260, 1)
    (party_set_slot, 258, 261, 4)
    (party_set_slot, 258, 262, 0)
    (party_set_slot, 258, 263, 0)
    (party_set_slot, 258, 264, 0)
    (party_set_slot, 258, 265, 0)
    (party_set_slot, 258, 266, 0)
    (party_set_slot, 258, 267, 0)
    (party_set_slot, 258, 268, 0)
    (party_set_slot, 258, 269, 0)
    (party_set_slot, 258, 270, 0)
    (party_set_slot, 258, 271, 0)
    (party_set_slot, 261, 250, 216172782113785318)
    (party_set_slot, 261, 251, 84000)
    (party_set_slot, 261, 252, 216172782113785319)
    (party_set_slot, 261, 253, 10)
    (party_set_slot, 261, 255, 75)
    (party_set_slot, 261, 256, 2)
    (party_set_slot, 261, 257, 4)
    (party_set_slot, 261, 258, 2)
    (party_set_slot, 261, 259, 4)
    (party_set_slot, 261, 260, 2)
    (party_set_slot, 261, 261, 4)
    (party_set_slot, 261, 262, 0)
    (party_set_slot, 261, 263, 0)
    (party_set_slot, 261, 264, 0)
    (party_set_slot, 261, 265, 1)
    (party_set_slot, 261, 266, 0)
    (party_set_slot, 261, 267, 0)
    (party_set_slot, 261, 268, 0)
    (party_set_slot, 261, 269, 0)
    (party_set_slot, 261, 270, 0)
    (party_set_slot, 261, 271, 1)
    (party_set_slot, 262, 250, 216172782113785320)
    (party_set_slot, 262, 251, 54000)
    (party_set_slot, 262, 252, 216172782113785321)
    (party_set_slot, 262, 253, 11)
    (party_set_slot, 262, 255, 75)
    (party_set_slot, 262, 256, 2)
    (party_set_slot, 262, 257, 4)
    (party_set_slot, 262, 258, 1)
    (party_set_slot, 262, 259, 3)
    (party_set_slot, 262, 260, 1)
    (party_set_slot, 262, 261, 3)
    (party_set_slot, 262, 262, 1)
    (party_set_slot, 262, 263, 3)
    (party_set_slot, 262, 264, 1)
    (party_set_slot, 262, 265, 3)
    (party_set_slot, 262, 266, 0)
    (party_set_slot, 262, 267, 0)
    (party_set_slot, 262, 268, 0)
    (party_set_slot, 262, 269, 0)
    (party_set_slot, 262, 270, 1)
    (party_set_slot, 262, 271, 2)
    (party_set_slot, 260, 250, 216172782113785314)
    (party_set_slot, 260, 251, 70000)
    (party_set_slot, 260, 252, 216172782113785315)
    (party_set_slot, 260, 253, 9)
    (party_set_slot, 260, 255, 65)
    (party_set_slot, 260, 256, 1)
    (party_set_slot, 260, 257, 4)
    (party_set_slot, 260, 258, 1)
    (party_set_slot, 260, 259, 4)
    (party_set_slot, 260, 260, 1)
    (party_set_slot, 260, 261, 4)
    (party_set_slot, 260, 262, 1)
    (party_set_slot, 260, 263, 4)
    (party_set_slot, 260, 264, 1)
    (party_set_slot, 260, 265, 2)
    (party_set_slot, 260, 266, 0)
    (party_set_slot, 260, 267, 0)
    (party_set_slot, 260, 268, 1)
    (party_set_slot, 260, 269, 4)
    (party_set_slot, 260, 270, 1)
    (party_set_slot, 260, 271, 4)
    (party_set_slot, 259, 250, 216172782113785316)
    (party_set_slot, 259, 251, 96000)
    (party_set_slot, 259, 252, 216172782113785317)
    (party_set_slot, 259, 253, 12)
    (party_set_slot, 259, 255, 70)
    (party_set_slot, 259, 256, 2)
    (party_set_slot, 259, 257, 5)
    (party_set_slot, 259, 258, 2)
    (party_set_slot, 259, 259, 5)
    (party_set_slot, 259, 260, 2)
    (party_set_slot, 259, 261, 5)
    (party_set_slot, 259, 262, 2)
    (party_set_slot, 259, 263, 4)
    (party_set_slot, 259, 264, 1)
    (party_set_slot, 259, 265, 5)
    (party_set_slot, 259, 266, 1)
    (party_set_slot, 259, 267, 2)
    (party_set_slot, 259, 268, 0)
    (party_set_slot, 259, 269, 0)
    (party_set_slot, 259, 270, 0)
    (party_set_slot, 259, 271, 3)
    (party_set_slot, 263, 250, 216172782113785334)
    (party_set_slot, 263, 251, 21000)
    (party_set_slot, 263, 252, 216172782113785335)
    (party_set_slot, 263, 253, 23)
    (party_set_slot, 263, 255, 88)
    (party_set_slot, 263, 256, 2)
    (party_set_slot, 263, 257, 5)
    (party_set_slot, 263, 258, 1)
    (party_set_slot, 263, 259, 3)
    (party_set_slot, 263, 260, 1)
    (party_set_slot, 263, 261, 2)
    (party_set_slot, 263, 262, 1)
    (party_set_slot, 263, 263, 2)
    (party_set_slot, 263, 264, 0)
    (party_set_slot, 263, 265, 0)
    (party_set_slot, 263, 266, 1)
    (party_set_slot, 263, 267, 2)
    (party_set_slot, 263, 268, 0)
    (party_set_slot, 263, 269, 0)
    (party_set_slot, 263, 270, 0)
    (party_set_slot, 263, 271, 0)
    (party_set_slot, 264, 250, 216172782113785332)
    (party_set_slot, 264, 251, 42000)
    (party_set_slot, 264, 252, 216172782113785333)
    (party_set_slot, 264, 253, 22)
    (party_set_slot, 264, 255, 55)
    (party_set_slot, 264, 256, 1)
    (party_set_slot, 264, 257, 4)
    (party_set_slot, 264, 258, 0)
    (party_set_slot, 264, 259, 0)
    (party_set_slot, 264, 260, 0)
    (party_set_slot, 264, 261, 0)
    (party_set_slot, 264, 262, 1)
    (party_set_slot, 264, 263, 4)
    (party_set_slot, 264, 264, 0)
    (party_set_slot, 264, 265, 0)
    (party_set_slot, 264, 266, 1)
    (party_set_slot, 264, 267, 4)
    (party_set_slot, 264, 268, 2)
    (party_set_slot, 264, 269, 6)
    (party_set_slot, 264, 270, 2)
    (party_set_slot, 264, 271, 6)
    (party_set_slot, 265, 250, 216172782113785328)
    (party_set_slot, 265, 251, 45000)
    (party_set_slot, 265, 252, 216172782113785329)
    (party_set_slot, 265, 253, 21)
    (party_set_slot, 265, 255, 63)
    (party_set_slot, 265, 256, 1)
    (party_set_slot, 265, 257, 3)
    (party_set_slot, 265, 258, 1)
    (party_set_slot, 265, 259, 2)
    (party_set_slot, 265, 260, 1)
    (party_set_slot, 265, 261, 2)
    (party_set_slot, 265, 262, 1)
    (party_set_slot, 265, 263, 3)
    (party_set_slot, 265, 264, 0)
    (party_set_slot, 265, 265, 0)
    (party_set_slot, 265, 266, 1)
    (party_set_slot, 265, 267, 3)
    (party_set_slot, 265, 268, 1)
    (party_set_slot, 265, 269, 3)
    (party_set_slot, 265, 270, 1)
    (party_set_slot, 265, 271, 3)
    (party_set_slot, 266, 250, 216172782113785330)
    (party_set_slot, 266, 251, 60000)
    (party_set_slot, 266, 252, 216172782113785331)
    (party_set_slot, 266, 253, 20)
    (party_set_slot, 266, 255, 63)
    (party_set_slot, 266, 256, 1)
    (party_set_slot, 266, 257, 4)
    (party_set_slot, 266, 258, 1)
    (party_set_slot, 266, 259, 3)
    (party_set_slot, 266, 260, 1)
    (party_set_slot, 266, 261, 3)
    (party_set_slot, 266, 262, 1)
    (party_set_slot, 266, 263, 4)
    (party_set_slot, 266, 264, 0)
    (party_set_slot, 266, 265, 0)
    (party_set_slot, 266, 266, 1)
    (party_set_slot, 266, 267, 4)
    (party_set_slot, 266, 268, 1)
    (party_set_slot, 266, 269, 3)
    (party_set_slot, 266, 270, 1)
    (party_set_slot, 266, 271, 3)
    (party_set_slot, 267, 250, 216172782113785326)
    (party_set_slot, 267, 251, 67500)
    (party_set_slot, 267, 252, 216172782113785327)
    (party_set_slot, 267, 253, 19)
    (party_set_slot, 267, 255, 63)
    (party_set_slot, 267, 256, 1)
    (party_set_slot, 267, 257, 4)
    (party_set_slot, 267, 258, 1)
    (party_set_slot, 267, 259, 3)
    (party_set_slot, 267, 260, 1)
    (party_set_slot, 267, 261, 3)
    (party_set_slot, 267, 262, 1)
    (party_set_slot, 267, 263, 3)
    (party_set_slot, 267, 264, 1)
    (party_set_slot, 267, 265, 2)
    (party_set_slot, 267, 266, 1)
    (party_set_slot, 267, 267, 5)
    (party_set_slot, 267, 268, 3)
    (party_set_slot, 267, 269, 5)
    (party_set_slot, 267, 270, 3)
    (party_set_slot, 267, 271, 5)
    (party_set_slot, 272, 250, 216172782113785348)
    (party_set_slot, 272, 251, 10500)
    (party_set_slot, 272, 252, 216172782113785349)
    (party_set_slot, 272, 253, 34)
    (party_set_slot, 272, 255, 75)
    (party_set_slot, 272, 256, 1)
    (party_set_slot, 272, 257, 3)
    (party_set_slot, 272, 258, 1)
    (party_set_slot, 272, 259, 2)
    (party_set_slot, 272, 260, 0)
    (party_set_slot, 272, 261, 0)
    (party_set_slot, 272, 262, 0)
    (party_set_slot, 272, 263, 0)
    (party_set_slot, 272, 264, 1)
    (party_set_slot, 272, 265, 2)
    (party_set_slot, 272, 266, 0)
    (party_set_slot, 272, 267, 0)
    (party_set_slot, 272, 268, 1)
    (party_set_slot, 272, 269, 2)
    (party_set_slot, 272, 270, 1)
    (party_set_slot, 272, 271, 2)
    (party_set_slot, 273, 250, 216172782113785350)
    (party_set_slot, 273, 251, 30000)
    (party_set_slot, 273, 252, 216172782113785351)
    (party_set_slot, 273, 253, 35)
    (party_set_slot, 273, 255, 55)
    (party_set_slot, 273, 256, 1)
    (party_set_slot, 273, 257, 3)
    (party_set_slot, 273, 258, 1)
    (party_set_slot, 273, 259, 2)
    (party_set_slot, 273, 260, 0)
    (party_set_slot, 273, 261, 0)
    (party_set_slot, 273, 262, 1)
    (party_set_slot, 273, 263, 2)
    (party_set_slot, 273, 264, 0)
    (party_set_slot, 273, 265, 0)
    (party_set_slot, 273, 266, 0)
    (party_set_slot, 273, 267, 0)
    (party_set_slot, 273, 268, 1)
    (party_set_slot, 273, 269, 3)
    (party_set_slot, 273, 270, 1)
    (party_set_slot, 273, 271, 3)
    (party_set_slot, 268, 250, 216172782113785336)
    (party_set_slot, 268, 251, 18000)
    (party_set_slot, 268, 252, 216172782113785337)
    (party_set_slot, 268, 253, 26)
    (party_set_slot, 268, 255, 91)
    (party_set_slot, 268, 256, 3)
    (party_set_slot, 268, 257, 5)
    (party_set_slot, 268, 258, 1)
    (party_set_slot, 268, 259, 3)
    (party_set_slot, 268, 260, 1)
    (party_set_slot, 268, 261, 2)
    (party_set_slot, 268, 262, 0)
    (party_set_slot, 268, 263, 0)
    (party_set_slot, 268, 264, 0)
    (party_set_slot, 268, 265, 0)
    (party_set_slot, 268, 266, 0)
    (party_set_slot, 268, 267, 0)
    (party_set_slot, 268, 268, 0)
    (party_set_slot, 268, 269, 0)
    (party_set_slot, 268, 270, 0)
    (party_set_slot, 268, 271, 0)
    (party_set_slot, 271, 250, 216172782113785338)
    (party_set_slot, 271, 251, 16500)
    (party_set_slot, 271, 252, 216172782113785339)
    (party_set_slot, 271, 253, 28)
    (party_set_slot, 271, 255, 92)
    (party_set_slot, 271, 256, 2)
    (party_set_slot, 271, 257, 5)
    (party_set_slot, 271, 258, 1)
    (party_set_slot, 271, 259, 3)
    (party_set_slot, 271, 260, 1)
    (party_set_slot, 271, 261, 2)
    (party_set_slot, 271, 262, 0)
    (party_set_slot, 271, 263, 0)
    (party_set_slot, 271, 264, 0)
    (party_set_slot, 271, 265, 0)
    (party_set_slot, 271, 266, 0)
    (party_set_slot, 271, 267, 0)
    (party_set_slot, 271, 268, 0)
    (party_set_slot, 271, 269, 0)
    (party_set_slot, 271, 270, 0)
    (party_set_slot, 271, 271, 0)
    (party_set_slot, 274, 250, 216172782113785346)
    (party_set_slot, 274, 251, 12000)
    (party_set_slot, 274, 252, 216172782113785347)
    (party_set_slot, 274, 253, 33)
    (party_set_slot, 274, 255, 80)
    (party_set_slot, 274, 256, 1)
    (party_set_slot, 274, 257, 3)
    (party_set_slot, 274, 258, 1)
    (party_set_slot, 274, 259, 2)
    (party_set_slot, 274, 260, 0)
    (party_set_slot, 274, 261, 0)
    (party_set_slot, 274, 262, 1)
    (party_set_slot, 274, 263, 2)
    (party_set_slot, 274, 264, 0)
    (party_set_slot, 274, 265, 0)
    (party_set_slot, 274, 266, 1)
    (party_set_slot, 274, 267, 2)
    (party_set_slot, 274, 268, 0)
    (party_set_slot, 274, 269, 0)
    (party_set_slot, 274, 270, 1)
    (party_set_slot, 274, 271, 2)
    (party_set_slot, 275, 250, 216172782113785344)
    (party_set_slot, 275, 251, 13000)
    (party_set_slot, 275, 252, 216172782113785345)
    (party_set_slot, 275, 253, 32)
    (party_set_slot, 275, 255, 88)
    (party_set_slot, 275, 256, 1)
    (party_set_slot, 275, 257, 5)
    (party_set_slot, 275, 258, 1)
    (party_set_slot, 275, 259, 3)
    (party_set_slot, 275, 260, 1)
    (party_set_slot, 275, 261, 2)
    (party_set_slot, 275, 262, 0)
    (party_set_slot, 275, 263, 0)
    (party_set_slot, 275, 264, 0)
    (party_set_slot, 275, 265, 0)
    (party_set_slot, 275, 266, 0)
    (party_set_slot, 275, 267, 0)
    (party_set_slot, 275, 268, 0)
    (party_set_slot, 275, 269, 0)
    (party_set_slot, 275, 270, 0)
    (party_set_slot, 275, 271, 0)
    (party_set_slot, 276, 250, 216172782113785340)
    (party_set_slot, 276, 251, 16000)
    (party_set_slot, 276, 252, 216172782113785341)
    (party_set_slot, 276, 253, 29)
    (party_set_slot, 276, 255, 91)
    (party_set_slot, 276, 256, 2)
    (party_set_slot, 276, 257, 4)
    (party_set_slot, 276, 258, 1)
    (party_set_slot, 276, 259, 3)
    (party_set_slot, 276, 260, 1)
    (party_set_slot, 276, 261, 3)
    (party_set_slot, 276, 262, 0)
    (party_set_slot, 276, 263, 0)
    (party_set_slot, 276, 264, 0)
    (party_set_slot, 276, 265, 0)
    (party_set_slot, 276, 266, 2)
    (party_set_slot, 276, 267, 5)
    (party_set_slot, 276, 268, 0)
    (party_set_slot, 276, 269, 0)
    (party_set_slot, 276, 270, 0)
    (party_set_slot, 276, 271, 0)
    (party_set_slot, 277, 250, 216172782113785342)
    (party_set_slot, 277, 251, 27000)
    (party_set_slot, 277, 252, 216172782113785343)
    (party_set_slot, 277, 253, 30)
    (party_set_slot, 277, 255, 63)
    (party_set_slot, 277, 256, 1)
    (party_set_slot, 277, 257, 3)
    (party_set_slot, 277, 258, 0)
    (party_set_slot, 277, 259, 0)
    (party_set_slot, 277, 260, 0)
    (party_set_slot, 277, 261, 0)
    (party_set_slot, 277, 262, 0)
    (party_set_slot, 277, 263, 0)
    (party_set_slot, 277, 264, 0)
    (party_set_slot, 277, 265, 0)
    (party_set_slot, 277, 266, 1)
    (party_set_slot, 277, 267, 2)
    (party_set_slot, 277, 268, 1)
    (party_set_slot, 277, 269, 5)
    (party_set_slot, 277, 270, 1)
    (party_set_slot, 277, 271, 5)
    (party_set_slot, 278, 250, 216172782113785352)
    (party_set_slot, 278, 251, 31500)
    (party_set_slot, 278, 252, 216172782113785353)
    (party_set_slot, 278, 253, 31)
    (party_set_slot, 278, 255, 65)
    (party_set_slot, 278, 256, 1)
    (party_set_slot, 278, 257, 4)
    (party_set_slot, 278, 258, 1)
    (party_set_slot, 278, 259, 2)
    (party_set_slot, 278, 260, 0)
    (party_set_slot, 278, 261, 0)
    (party_set_slot, 278, 262, 0)
    (party_set_slot, 278, 263, 0)
    (party_set_slot, 278, 264, 0)
    (party_set_slot, 278, 265, 0)
    (party_set_slot, 278, 266, 1)
    (party_set_slot, 278, 267, 2)
    (party_set_slot, 278, 268, 1)
    (party_set_slot, 278, 269, 6)
    (party_set_slot, 278, 270, 1)
    (party_set_slot, 278, 271, 6)
    (party_set_slot, 279, 250, 216172782113785354)
    (party_set_slot, 279, 251, 200000)
    (party_set_slot, 279, 252, 216172782113785355)
    (party_set_slot, 279, 253, 36)
    (party_set_slot, 279, 255, 50)
    (party_set_slot, 279, 256, 1)
    (party_set_slot, 279, 257, 4)
    (party_set_slot, 279, 258, 1)
    (party_set_slot, 279, 259, 3)
    (party_set_slot, 279, 260, 1)
    (party_set_slot, 279, 261, 3)
    (party_set_slot, 279, 262, 2)
    (party_set_slot, 279, 263, 6)
    (party_set_slot, 279, 264, 1)
    (party_set_slot, 279, 265, 3)
    (party_set_slot, 279, 266, 1)
    (party_set_slot, 279, 267, 4)
    (party_set_slot, 279, 268, 2)
    (party_set_slot, 279, 269, 4)
    (party_set_slot, 279, 270, 2)
    (party_set_slot, 279, 271, 5)
    (party_set_slot, 270, 250, 216172782113785356)
    (party_set_slot, 270, 251, 95000)
    (party_set_slot, 270, 252, 216172782113785357)
    (party_set_slot, 270, 253, 24)
    (party_set_slot, 270, 255, 60)
    (party_set_slot, 270, 256, 1)
    (party_set_slot, 270, 257, 3)
    (party_set_slot, 270, 258, 2)
    (party_set_slot, 270, 259, 4)
    (party_set_slot, 270, 260, 1)
    (party_set_slot, 270, 261, 3)
    (party_set_slot, 270, 262, 2)
    (party_set_slot, 270, 263, 3)
    (party_set_slot, 270, 264, 1)
    (party_set_slot, 270, 265, 5)
    (party_set_slot, 270, 266, 0)
    (party_set_slot, 270, 267, 2)
    (party_set_slot, 270, 268, 0)
    (party_set_slot, 270, 269, 0)
    (party_set_slot, 270, 270, 1)
    (party_set_slot, 270, 271, 2)
    (party_set_slot, 269, 250, 216172782113785358)
    (party_set_slot, 269, 251, 17000)
    (party_set_slot, 269, 252, 216172782113785359)
    (party_set_slot, 269, 253, 25)
    (party_set_slot, 269, 255, 85)
    (party_set_slot, 269, 256, 3)
    (party_set_slot, 269, 257, 4)
    (party_set_slot, 269, 258, 1)
    (party_set_slot, 269, 259, 2)
    (party_set_slot, 269, 260, 1)
    (party_set_slot, 269, 261, 3)
    (party_set_slot, 269, 262, 2)
    (party_set_slot, 269, 263, 3)
    (party_set_slot, 269, 264, 0)
    (party_set_slot, 269, 265, 0)
    (party_set_slot, 269, 266, 0)
    (party_set_slot, 269, 267, 2)
    (party_set_slot, 269, 268, 0)
    (party_set_slot, 269, 269, 0)
    (party_set_slot, 269, 270, 0)
    (party_set_slot, 269, 271, 0)
ranged_avoid_melee=>
    (try_for_agents, ':lvar_0')
      (agent_get_class, ':lvar_1', ':lvar_0')
      (eq, ':lvar_1', 1)
      (agent_is_alive, ':lvar_0')
      (agent_get_team, ':lvar_2', ':lvar_0')
      (agent_get_wielded_item, ':lvar_3', ':lvar_0', 0)
      (try_begin)
        (neg|is_between, ':lvar_3', 831, 887)
        (agent_get_ammo, ':lvar_4', ':lvar_0')
        (gt, ':lvar_4', 0)
        (team_get_movement_order, ':lvar_5', ':lvar_2', 1)
        (neq, ':lvar_5', 2)
        (neq, ':lvar_3', -1)
        (assign, ':lvar_6', 1)
      (else_try)
        (assign, ':lvar_6', 0)
      (try_end)
      (assign, ':lvar_7', 300)
      (try_begin)
        (agent_slot_eq, ':lvar_0', 4, 1)
        (agent_get_position, 1, ':lvar_0')
        (call_script, 190, ':lvar_2')
        (try_begin)
          (gt, reg1, 1000)
          (agent_clear_scripted_mode, ':lvar_0')
          (agent_set_slot, ':lvar_0', 4, 0)
        (else_try)
          (le, reg1, ':lvar_7')
          (store_mul, ':lvar_8', ':lvar_7', -1)
          (position_move_y, 1, ':lvar_8', 0)
          (agent_set_scripted_destination, ':lvar_0', 1, 1)
        (try_end)
      (else_try)
        (eq, ':lvar_6', 1)
        (agent_get_position, 1, ':lvar_0')
        (store_mul, ':lvar_8', ':lvar_7', -1)
        (position_move_y, 1, ':lvar_8', 0)
        (agent_set_scripted_destination, ':lvar_0', 1, 1)
        (agent_set_slot, ':lvar_0', 4, 1)
      (try_end)
    (try_end)
sw_team_field_ranged_tactics=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (call_script, 442, ':lvar_0')
    (store_div, ':lvar_3', reg0, 3)
    (store_random_in_range, ':lvar_4', 2, 11)
    (store_add, ':lvar_5', ':lvar_2', ':lvar_3')
    (val_sub, ':lvar_5', ':lvar_4')
    (try_begin)
      (gt, ':lvar_5', 80)
      (team_give_order, ':lvar_0', 1, 2)
    (else_try)
      (gt, '$gvar_310', 0)
      (eq, '$gvar_310', '$gvar_311')
      (team_give_order, ':lvar_0', 1, 5)
    (else_try)
      (call_script, 215, ':lvar_0', 1)
      (copy_position, 61, 1)
      (store_add, ':lvar_5', ':lvar_1', ':lvar_3')
      (val_sub, ':lvar_5', ':lvar_4')
      (assign, ':lvar_6', 50)
      (try_begin)
        (this_or_next|ge, ':lvar_5', ':lvar_6')
        (eq, '$gvar_310', 0)
        (call_script, 191, ':lvar_0')
        (copy_position, 60, 0)
        (position_transform_position_to_local, 62, 61, 60)
        (position_normalize_origin, ':lvar_7', 62)
        (convert_from_fixed_point, ':lvar_7')
        (try_begin)
          (lt, ':lvar_5', ':lvar_6')
          (store_div, ':lvar_8', ':lvar_7', 6)
          (assign, ':lvar_9', ':lvar_8')
        (else_try)
          (assign, ':lvar_10', 40)
          (store_sub, ':lvar_8', ':lvar_7', ':lvar_10')
          (store_div, ':lvar_9', ':lvar_10', 3)
          (store_add, ':lvar_11', 100, ':lvar_6')
          (store_mul, ':lvar_12', ':lvar_6', 100)
          (val_div, ':lvar_12', ':lvar_11')
          (store_sub, ':lvar_13', 100, ':lvar_12')
          (try_begin)
            (lt, ':lvar_2', ':lvar_13')
            (val_div, ':lvar_8', 2)
          (try_end)
        (try_end)
        (position_get_x, ':lvar_14', 62)
        (position_get_y, ':lvar_15', 62)
        (val_mul, ':lvar_14', ':lvar_8')
        (val_mul, ':lvar_15', ':lvar_8')
        (position_set_x, 62, ':lvar_14')
        (position_set_y, 62, ':lvar_15')
        (position_transform_position_to_parent, 63, 61, 62)
        (position_set_z_to_ground_level, 63)
        (copy_position, 61, 63)
        (try_begin)
          (eq, '$gvar_310', 0)
          (copy_position, 1, 61)
          (assign, reg0, ':lvar_9')
          (call_script, 441, reg0)
          (copy_position, 61, 10)
        (try_end)
      (try_end)
      (team_give_order, ':lvar_0', 1, 0)
      (team_set_order_position, ':lvar_0', 1, 61)
    (try_end)
sw_team_field_melee_tactics=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 3)
    (call_script, 189, ':lvar_0', 0)
    (assign, ':lvar_2', reg0)
    (assign, ':lvar_3', reg2)
    (store_mul, ':lvar_4', ':lvar_3', ':lvar_1')
    (val_div, ':lvar_4', 100)
    (store_sub, ':lvar_5', 100, ':lvar_1')
    (assign, ':lvar_6', 2000)
    (store_add, ':lvar_7', ':lvar_6', 1)
    (store_add, ':lvar_8', ':lvar_6', 1)
    (try_for_agents, ':lvar_9')
      (agent_is_alive, ':lvar_9')
      (agent_is_human, ':lvar_9')
      (agent_get_team, ':lvar_10', ':lvar_9')
      (eq, ':lvar_10', ':lvar_0')
      (agent_get_class, ':lvar_11', ':lvar_9')
      (try_begin)
        (eq, ':lvar_11', 0)
        (agent_get_position, 1, ':lvar_9')
        (call_script, 190, ':lvar_0')
        (try_begin)
          (gt, ':lvar_7', reg1)
          (assign, ':lvar_7', reg1)
        (try_end)
      (else_try)
        (eq, ':lvar_11', 2)
        (agent_get_position, 1, ':lvar_9')
        (call_script, 190, ':lvar_0')
        (try_begin)
          (gt, ':lvar_8', reg1)
          (assign, ':lvar_8', reg1)
        (try_end)
      (try_end)
    (try_end)
    (team_get_movement_order, ':lvar_12', ':lvar_0', 1)
    (team_get_order_position, 0, ':lvar_0', 1)
    (try_begin)
      (eq, '$gvar_310', 0)
      (lt, ':lvar_4', ':lvar_5')
      (gt, ':lvar_8', ':lvar_6')
      (neq, ':lvar_12', 2)
      (team_give_order, ':lvar_0', 2, 0)
      (team_set_order_position, ':lvar_0', 2, 0)
    (else_try)
      (team_give_order, ':lvar_0', 2, 2)
    (try_end)
    (try_begin)
      (lt, ':lvar_4', ':lvar_5')
      (gt, ':lvar_7', ':lvar_6')
      (neq, ':lvar_12', 2)
      (try_begin)
        (gt, '$gvar_310', 0)
        (gt, ':lvar_2', 33)
        (team_give_order, ':lvar_0', 0, 2)
      (else_try)
        (team_set_order_position, ':lvar_0', 0, 0)
        (team_give_order, ':lvar_0', 0, 6)
      (try_end)
    (else_try)
      (team_give_order, ':lvar_0', 0, 2)
    (try_end)
sw_field_tactics=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', 0)
    (assign, ':lvar_6', 0)
    (assign, ':lvar_7', 0)
    (try_for_agents, ':lvar_8')
      (agent_get_team, ':lvar_9', ':lvar_8')
      (try_begin)
        (agent_is_alive, ':lvar_8')
        (agent_is_human, ':lvar_8')
        (val_add, ':lvar_1', 1)
        (try_begin)
          (eq, ':lvar_9', 0)
          (val_add, ':lvar_2', 1)
        (else_try)
          (eq, ':lvar_9', 1)
          (val_add, ':lvar_3', 1)
        (else_try)
          (eq, ':lvar_9', 2)
          (val_add, ':lvar_4', 1)
        (else_try)
          (eq, ':lvar_9', 3)
          (val_add, ':lvar_5', 1)
        (else_try)
          (eq, ':lvar_9', 4)
          (val_add, ':lvar_6', 1)
        (else_try)
          (eq, ':lvar_9', 5)
          (val_add, ':lvar_7', 1)
        (else_try)
          (display_message, '@qstr_605')
        (try_end)
      (try_end)
    (try_end)
    (get_player_agent_no, ':lvar_10')
    (agent_get_team, ':lvar_11', ':lvar_10')
    (assign, ':lvar_12', 2)
    (assign, ':lvar_13', ':lvar_2')
    (try_begin)
      (lt, ':lvar_13', ':lvar_3')
      (assign, ':lvar_13', ':lvar_3')
    (try_end)
    (try_begin)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_12', 3)
      (try_begin)
        (neg|teams_are_enemies, 2, ':lvar_11')
        (val_add, ':lvar_4', ':lvar_2')
      (try_end)
      (lt, ':lvar_13', ':lvar_4')
      (assign, ':lvar_13', ':lvar_4')
    (try_end)
    (try_begin)
      (gt, ':lvar_5', 0)
      (assign, ':lvar_12', 4)
      (try_begin)
        (neg|teams_are_enemies, 3, ':lvar_11')
        (val_add, ':lvar_5', ':lvar_3')
      (try_end)
      (lt, ':lvar_13', ':lvar_5')
      (assign, ':lvar_13', ':lvar_5')
    (try_end)
    (try_begin)
      (gt, ':lvar_6', 0)
      (assign, ':lvar_12', 5)
      (lt, ':lvar_13', ':lvar_6')
      (assign, ':lvar_13', ':lvar_6')
    (try_end)
    (try_begin)
      (gt, ':lvar_7', 0)
      (assign, ':lvar_12', 6)
      (lt, ':lvar_13', ':lvar_7')
      (assign, ':lvar_13', ':lvar_7')
    (try_end)
    (try_for_range, ':lvar_14', 0, ':lvar_12')
      (assign, ':lvar_15', 0)
      (try_begin)
        (eq, ':lvar_14', 0)
        (assign, ':lvar_15', ':lvar_2')
      (else_try)
        (eq, ':lvar_14', 1)
        (assign, ':lvar_15', ':lvar_3')
      (else_try)
        (eq, ':lvar_14', 2)
        (assign, ':lvar_15', ':lvar_4')
      (else_try)
        (eq, ':lvar_14', 3)
        (assign, ':lvar_15', ':lvar_5')
      (else_try)
        (eq, ':lvar_14', 4)
        (assign, ':lvar_15', ':lvar_6')
      (else_try)
        (eq, ':lvar_14', 5)
        (assign, ':lvar_15', ':lvar_7')
      (try_end)
      (try_begin)
        (gt, ':lvar_15', 0)
        (neq, ':lvar_14', ':lvar_11')
        (val_mul, ':lvar_15', 100)
        (store_div, ':lvar_16', ':lvar_15', ':lvar_13')
        (store_div, ':lvar_17', ':lvar_15', ':lvar_1')
        (try_begin)
          (eq, ':lvar_0', 1)
          (call_script, 438, ':lvar_14', ':lvar_16', ':lvar_17')
        (try_end)
        (call_script, 439, ':lvar_14', ':lvar_16', ':lvar_17')
      (try_end)
    (try_end)
    (try_begin)
      (eq, ':lvar_0', 1)
      (assign, '$gvar_311', '$gvar_310')
    (try_end)
find_high_ground_around_pos1_corrected=>
    (store_script_param, ':lvar_0', 1)
    (val_mul, ':lvar_0', 100)
    (get_scene_boundaries, 10, 11)
    (set_fixed_point_multiplier, 100)
    (position_get_x, ':lvar_1', 1)
    (position_get_y, ':lvar_2', 1)
    (store_sub, ':lvar_3', ':lvar_1', ':lvar_0')
    (store_sub, ':lvar_4', ':lvar_2', ':lvar_0')
    (store_add, ':lvar_5', ':lvar_1', ':lvar_0')
    (store_add, ':lvar_6', ':lvar_2', ':lvar_0')
    (position_get_x, ':lvar_7', 10)
    (position_get_x, ':lvar_8', 11)
    (position_get_y, ':lvar_9', 10)
    (position_get_y, ':lvar_10', 11)
    (val_max, ':lvar_3', ':lvar_7')
    (val_max, ':lvar_4', ':lvar_9')
    (val_min, ':lvar_5', ':lvar_8')
    (val_min, ':lvar_6', ':lvar_10')
    (store_div, ':lvar_11', ':lvar_3', 100)
    (store_div, ':lvar_12', ':lvar_4', 100)
    (store_div, ':lvar_13', ':lvar_5', 100)
    (store_div, ':lvar_14', ':lvar_6', 100)
    (assign, ':lvar_15', -10000)
    (copy_position, 10, 1)
    (init_position, 11)
    (try_for_range, ':lvar_16', ':lvar_11', ':lvar_13')
      (store_mul, ':lvar_17', ':lvar_16', 100)
      (try_for_range, ':lvar_18', ':lvar_12', ':lvar_14')
        (store_mul, ':lvar_19', ':lvar_18', 100)
        (position_set_x, 11, ':lvar_17')
        (position_set_y, 11, ':lvar_19')
        (position_set_z, 11, 10000)
        (position_set_z_to_ground_level, 11)
        (position_get_z, ':lvar_20', 11)
        (try_begin)
          (gt, ':lvar_20', ':lvar_15')
          (copy_position, 10, 11)
          (assign, ':lvar_15', ':lvar_20')
        (try_end)
      (try_end)
    (try_end)
team_average_troop_level=>
    (store_script_param_1, ':lvar_0')
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (try_for_agents, ':lvar_3')
      (agent_get_team, ':lvar_4', ':lvar_3')
      (eq, ':lvar_0', ':lvar_4')
      (agent_is_human, ':lvar_3')
      (agent_is_alive, ':lvar_3')
      (agent_get_troop_id, ':lvar_5', ':lvar_3')
      (store_character_level, ':lvar_6', ':lvar_5')
      (val_add, ':lvar_1', ':lvar_6')
      (val_add, ':lvar_2', 1)
    (try_end)
    (store_div, ':lvar_7', ':lvar_1', ':lvar_2')
    (assign, reg0, ':lvar_7')
    (assign, reg1, ':lvar_2')
cf_count_casualties=>
    (assign, ':lvar_0', 0)
    (try_for_agents, ':lvar_1')
      (try_begin)
        (neg|agent_is_alive, ':lvar_1')
        (val_add, ':lvar_0', 1)
      (else_try)
        (agent_is_wounded, ':lvar_1')
        (val_add, ':lvar_0', 1)
      (try_end)
    (try_end)
    (assign, reg0, ':lvar_0')
    (gt, ':lvar_0', 0)
sw_team_field_ranged_tactics=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (call_script, 442, ':lvar_0')
    (store_div, ':lvar_3', reg0, 3)
    (store_random_in_range, ':lvar_4', 2, 11)
    (store_add, ':lvar_5', ':lvar_2', ':lvar_3')
    (val_sub, ':lvar_5', ':lvar_4')
    (try_begin)
      (gt, ':lvar_5', 80)
      (team_give_order, ':lvar_0', 1, 2)
    (else_try)
      (assign, ':lvar_6', 50)
      (assign, ':lvar_7', 50)
      (assign, ':lvar_8', 0)
      (store_add, ':lvar_5', ':lvar_1', ':lvar_3')
      (val_sub, ':lvar_5', ':lvar_4')
      (try_begin)
        (ge, ':lvar_5', ':lvar_6')
        (call_script, 215, ':lvar_0', 1)
        (copy_position, 61, 1)
        (call_script, 191, ':lvar_0')
        (copy_position, 60, 0)
        (position_transform_position_to_local, 62, 61, 60)
        (position_normalize_origin, ':lvar_9', 62)
        (convert_from_fixed_point, ':lvar_9')
        (try_begin)
          (gt, ':lvar_9', ':lvar_7')
          (val_sub, ':lvar_9', ':lvar_7')
          (store_add, ':lvar_10', 100, ':lvar_6')
          (store_mul, ':lvar_11', ':lvar_6', 100)
          (val_div, ':lvar_11', ':lvar_10')
          (store_sub, ':lvar_12', 100, ':lvar_11')
          (try_begin)
            (lt, ':lvar_2', ':lvar_12')
            (val_div, ':lvar_9', 2)
          (try_end)
          (position_get_x, ':lvar_13', 62)
          (position_get_y, ':lvar_14', 62)
          (val_mul, ':lvar_13', ':lvar_9')
          (val_mul, ':lvar_14', ':lvar_9')
          (position_set_x, 62, ':lvar_13')
          (position_set_y, 62, ':lvar_14')
          (position_transform_position_to_parent, 63, 61, 62)
          (position_set_z_to_ground_level, 63)
          (copy_position, 61, 63)
        (else_try)
          (gt, '$gvar_310', 0)
          (eq, '$gvar_310', '$gvar_311')
          (assign, ':lvar_8', 1)
        (try_end)
      (try_end)
      (try_begin)
        (eq, '$gvar_310', 0)
        (copy_position, 1, 61)
        (store_div, reg0, ':lvar_7', 3)
        (call_script, 441, reg0)
        (copy_position, 61, 10)
      (try_end)
      (try_begin)
        (gt, ':lvar_8', 0)
        (team_give_order, ':lvar_0', 1, 5)
      (else_try)
        (team_give_order, ':lvar_0', 1, 0)
        (team_set_order_position, ':lvar_0', 1, 61)
      (try_end)
    (try_end)
sw_team_field_melee_tactics=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 3)
    (call_script, 189, ':lvar_0', 0)
    (assign, ':lvar_2', reg0)
    (assign, ':lvar_3', reg2)
    (store_mul, ':lvar_4', ':lvar_3', ':lvar_1')
    (val_div, ':lvar_4', 100)
    (store_sub, ':lvar_5', 100, ':lvar_1')
    (assign, ':lvar_6', 2000)
    (store_add, ':lvar_7', ':lvar_6', 1)
    (store_add, ':lvar_8', ':lvar_6', 1)
    (try_for_agents, ':lvar_9')
      (agent_is_alive, ':lvar_9')
      (agent_is_human, ':lvar_9')
      (agent_get_team, ':lvar_10', ':lvar_9')
      (eq, ':lvar_10', ':lvar_0')
      (agent_get_class, ':lvar_11', ':lvar_9')
      (try_begin)
        (eq, ':lvar_11', 0)
        (agent_get_position, 1, ':lvar_9')
        (call_script, 190, ':lvar_0')
        (try_begin)
          (gt, ':lvar_7', reg1)
          (assign, ':lvar_7', reg1)
        (try_end)
      (else_try)
        (eq, ':lvar_11', 2)
        (agent_get_position, 1, ':lvar_9')
        (call_script, 190, ':lvar_0')
        (try_begin)
          (gt, ':lvar_8', reg1)
          (assign, ':lvar_8', reg1)
        (try_end)
      (try_end)
    (try_end)
    (team_get_movement_order, ':lvar_12', ':lvar_0', 1)
    (team_get_order_position, 0, ':lvar_0', 1)
    (try_begin)
      (eq, '$gvar_310', 0)
      (lt, ':lvar_4', ':lvar_5')
      (gt, ':lvar_8', ':lvar_6')
      (neq, ':lvar_12', 2)
      (team_give_order, ':lvar_0', 2, 0)
      (team_set_order_position, ':lvar_0', 2, 0)
    (else_try)
      (team_give_order, ':lvar_0', 2, 2)
    (try_end)
    (try_begin)
      (lt, ':lvar_4', ':lvar_5')
      (gt, ':lvar_7', ':lvar_6')
      (neq, ':lvar_12', 2)
      (try_begin)
        (gt, '$gvar_310', 0)
        (gt, ':lvar_2', 33)
        (team_give_order, ':lvar_0', 0, 2)
      (else_try)
        (team_set_order_position, ':lvar_0', 0, 0)
        (team_give_order, ':lvar_0', 0, 6)
      (try_end)
    (else_try)
      (team_give_order, ':lvar_0', 0, 2)
    (try_end)
sw_field_tactics=>
    (store_script_param, ':lvar_0', 1)
    (assign, ':lvar_1', 0)
    (assign, ':lvar_2', 0)
    (assign, ':lvar_3', 0)
    (assign, ':lvar_4', 0)
    (assign, ':lvar_5', 0)
    (assign, ':lvar_6', 0)
    (assign, ':lvar_7', 0)
    (try_for_agents, ':lvar_8')
      (agent_get_team, ':lvar_9', ':lvar_8')
      (try_begin)
        (agent_is_alive, ':lvar_8')
        (agent_is_human, ':lvar_8')
        (val_add, ':lvar_1', 1)
        (try_begin)
          (eq, ':lvar_9', 0)
          (val_add, ':lvar_2', 1)
        (else_try)
          (eq, ':lvar_9', 1)
          (val_add, ':lvar_3', 1)
        (else_try)
          (eq, ':lvar_9', 2)
          (val_add, ':lvar_4', 1)
        (else_try)
          (eq, ':lvar_9', 3)
          (val_add, ':lvar_5', 1)
        (else_try)
          (eq, ':lvar_9', 4)
          (val_add, ':lvar_6', 1)
        (else_try)
          (eq, ':lvar_9', 5)
          (val_add, ':lvar_7', 1)
        (else_try)
          (display_message, '@qstr_605')
        (try_end)
      (try_end)
    (try_end)
    (get_player_agent_no, ':lvar_10')
    (agent_get_team, ':lvar_11', ':lvar_10')
    (assign, ':lvar_12', 2)
    (assign, ':lvar_13', ':lvar_2')
    (try_begin)
      (lt, ':lvar_13', ':lvar_3')
      (assign, ':lvar_13', ':lvar_3')
    (try_end)
    (try_begin)
      (gt, ':lvar_4', 0)
      (assign, ':lvar_12', 3)
      (try_begin)
        (neg|teams_are_enemies, 2, ':lvar_11')
        (val_add, ':lvar_4', ':lvar_2')
      (try_end)
      (lt, ':lvar_13', ':lvar_4')
      (assign, ':lvar_13', ':lvar_4')
    (try_end)
    (try_begin)
      (gt, ':lvar_5', 0)
      (assign, ':lvar_12', 4)
      (try_begin)
        (neg|teams_are_enemies, 3, ':lvar_11')
        (val_add, ':lvar_5', ':lvar_3')
      (try_end)
      (lt, ':lvar_13', ':lvar_5')
      (assign, ':lvar_13', ':lvar_5')
    (try_end)
    (try_begin)
      (gt, ':lvar_6', 0)
      (assign, ':lvar_12', 5)
      (lt, ':lvar_13', ':lvar_6')
      (assign, ':lvar_13', ':lvar_6')
    (try_end)
    (try_begin)
      (gt, ':lvar_7', 0)
      (assign, ':lvar_12', 6)
      (lt, ':lvar_13', ':lvar_7')
      (assign, ':lvar_13', ':lvar_7')
    (try_end)
    (try_for_range, ':lvar_14', 0, ':lvar_12')
      (assign, ':lvar_15', 0)
      (try_begin)
        (eq, ':lvar_14', 0)
        (assign, ':lvar_15', ':lvar_2')
      (else_try)
        (eq, ':lvar_14', 1)
        (assign, ':lvar_15', ':lvar_3')
      (else_try)
        (eq, ':lvar_14', 2)
        (assign, ':lvar_15', ':lvar_4')
      (else_try)
        (eq, ':lvar_14', 3)
        (assign, ':lvar_15', ':lvar_5')
      (else_try)
        (eq, ':lvar_14', 4)
        (assign, ':lvar_15', ':lvar_6')
      (else_try)
        (eq, ':lvar_14', 5)
        (assign, ':lvar_15', ':lvar_7')
      (try_end)
      (try_begin)
        (gt, ':lvar_15', 0)
        (neq, ':lvar_14', ':lvar_11')
        (val_mul, ':lvar_15', 100)
        (store_div, ':lvar_16', ':lvar_15', ':lvar_13')
        (store_div, ':lvar_17', ':lvar_15', ':lvar_1')
        (try_begin)
          (eq, ':lvar_0', 1)
          (call_script, 438, ':lvar_14', ':lvar_16', ':lvar_17')
        (try_end)
        (call_script, 439, ':lvar_14', ':lvar_16', ':lvar_17')
      (try_end)
    (try_end)
    (assign, '$gvar_311', '$gvar_310')
battle_speech=>
    (store_script_param, ':lvar_0', 1)
    (faction_get_slot, ':lvar_1', 15, 9)
    (try_begin)
      (eq, ':lvar_0', 3)
      (try_begin)
        (eq, ':lvar_1', 7)
        (play_sound, 296, 1)
      (else_try)
        (eq, ':lvar_1', 8)
        (play_sound, 304, 1)
      (else_try)
        (eq, ':lvar_1', 9)
        (play_sound, 312, 1)
      (else_try)
        (play_sound, 288, 1)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 2)
      (try_begin)
        (eq, ':lvar_1', 7)
        (play_sound, 298, 1)
      (else_try)
        (eq, ':lvar_1', 8)
        (play_sound, 306, 1)
      (else_try)
        (eq, ':lvar_1', 9)
        (play_sound, 314, 1)
      (else_try)
        (play_sound, 290, 1)
      (try_end)
    (else_try)
      (eq, ':lvar_0', 1)
      (try_begin)
        (eq, ':lvar_1', 7)
        (play_sound, 297, 1)
      (else_try)
        (eq, ':lvar_1', 8)
        (play_sound, 305, 1)
      (else_try)
        (eq, ':lvar_1', 9)
        (play_sound, 313, 1)
      (else_try)
        (play_sound, 289, 1)
      (try_end)
    (try_end)
swy_unique_units_stuff=>
    (assign, ':lvar_0', -1)
    (store_script_param_1, ':lvar_0')
    (try_for_agents, ':lvar_1')
      (agent_get_troop_id, ':lvar_2', ':lvar_1')
      (try_begin)
        (this_or_next|eq, 114, ':lvar_2')
        (eq, 115, ':lvar_2')
        (agent_set_speed_limit, ':lvar_1', 3)
      (else_try)
        (eq, 408, ':lvar_2')
        (agent_play_sound, ':lvar_1', 277)
        (agent_set_stand_animation, ':lvar_1', 393)
        (agent_set_walk_forward_animation, ':lvar_1', 380)
        (agent_get_item_id, ':lvar_3', ':lvar_1')
        (eq, ':lvar_3', -1)
        (agent_set_speed_limit, ':lvar_1', 4)
      (else_try)
        (this_or_next|eq, 103, ':lvar_2')
        (eq, 104, ':lvar_2')
        (agent_set_stand_animation, ':lvar_1', 394)
        (agent_set_walk_forward_animation, ':lvar_1', 395)
        (agent_set_speed_limit, ':lvar_1', 6)
      (else_try)
        (eq, ':lvar_0', 1)
        (agent_get_entry_no, ':lvar_4', ':lvar_1')
        (this_or_next|eq, ':lvar_4', 38)
        (eq, ':lvar_4', 39)
        (agent_set_stand_animation, ':lvar_1', 379)
        (agent_set_animation, ':lvar_1', 379)
        (store_random_in_range, ':lvar_5', 0, 100)
        (agent_set_animation_progress, ':lvar_1', ':lvar_5')
      (try_end)
    (try_end)
flush_gatesys_cache=>
    (try_for_range, ':lvar_0', 0, 100)
      (troop_set_slot, 1003, ':lvar_0', 0)
    (try_end)
swy_map_outpost_icon_routine=>
    (store_script_param, ':lvar_0', 1)
    (store_script_param, ':lvar_1', 2)
    (store_script_param, ':lvar_2', 3)
    (try_for_range, ':lvar_3', 73, 114)
      (party_get_icon, ':lvar_4', ':lvar_3')
      (this_or_next|eq, ':lvar_4', ':lvar_0')
      (this_or_next|eq, ':lvar_4', ':lvar_1')
      (eq, ':lvar_4', ':lvar_2')
      (store_faction_of_party, ':lvar_5', ':lvar_3')
      (try_begin)
        (eq, ':lvar_5', 17)
        (party_set_icon, ':lvar_3', ':lvar_1')
      (else_try)
        (eq, ':lvar_5', 16)
        (party_set_icon, ':lvar_3', ':lvar_0')
      (else_try)
        (eq, ':lvar_5', 18)
        (party_set_icon, ':lvar_3', ':lvar_2')
      (try_end)
    (try_end)
swy_map_planet_aura_routine=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (try_for_range, ':lvar_2', ':lvar_0', ':lvar_1')
      (store_faction_of_party, ':lvar_3', ':lvar_2')
      (try_begin)
        (eq, ':lvar_3', 17)
        (party_clear_particle_systems, ':lvar_2')
        (party_clear_particle_systems, ':lvar_2')
        (party_add_particle_system, ':lvar_2', 70)
      (else_try)
        (eq, ':lvar_3', 16)
        (party_clear_particle_systems, ':lvar_2')
        (party_clear_particle_systems, ':lvar_2')
        (party_add_particle_system, ':lvar_2', 68)
      (else_try)
        (eq, ':lvar_3', 18)
        (party_clear_particle_systems, ':lvar_2')
        (party_clear_particle_systems, ':lvar_2')
        (party_add_particle_system, ':lvar_2', 69)
      (else_try)
        (this_or_next|eq, ':lvar_3', 0)
        (this_or_next|eq, ':lvar_3', 3)
        (this_or_next|eq, ':lvar_3', 14)
        (eq, ':lvar_3', 15)
        (party_clear_particle_systems, ':lvar_2')
        (party_clear_particle_systems, ':lvar_2')
        (party_add_particle_system, ':lvar_2', 71)
      (try_end)
    (try_end)
swy_sprop_movement=>
    (store_script_param_1, ':lvar_0')
    (store_script_param_2, ':lvar_1')
    (store_script_param, ':lvar_2', 3)
    (store_script_param, ':lvar_3', 4)
    (prop_instance_get_position, 33, ':lvar_0')
    (try_begin)
      (eq, ':lvar_1', 1)
      (position_move_x, 33, ':lvar_2')
    (else_try)
      (eq, ':lvar_1', 2)
      (position_move_y, 33, ':lvar_2')
    (else_try)
      (eq, ':lvar_1', 3)
      (position_move_z, 33, ':lvar_2')
    (try_end)
    (prop_instance_animate_to_position, ':lvar_0', 33, ':lvar_3')
    (val_mul, ':lvar_2', -1)
    (call_script, 452, ':lvar_0', ':lvar_1', ':lvar_2', ':lvar_3')
